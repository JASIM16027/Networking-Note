# Networking


# IP Addressing - рж╕ржмржЪрзЗржпрж╝рзЗ рж╕рж╣ржЬ ржУ ржмрж┐рж╕рзНрждрж╛рж░рж┐ржд ржмрзНржпрж╛ржЦрзНржпрж╛ ЁЯУЪ

---

# рзз. IP Address ржорзМрж▓рж┐ржХ ржзрж╛рж░ржгрж╛ - ржПржХржжржо рж╕рж╣ржЬрзЗ

## IP Address ржЖрж╕рж▓рзЗ ржХрж┐?

```
ржоржирзЗ ржХрж░рзБржи ржПржХржЯрж╛ ржмрж┐рж╢рж╛рж▓ рж╢рж╣рж░:

ЁЯПЩя╕П ржЗржирзНржЯрж╛рж░ржирзЗржЯ = ржмрж┐рж╢рж╛рж▓ рж╢рж╣рж░
ЁЯПв ржЖржкржирж╛рж░ ржмрж╛ржбрж╝рж┐ = ржЖржкржирж╛рж░ Computer/Phone
ЁЯУм ржарж┐ржХрж╛ржирж╛ = IP Address

ржЪрж┐ржарж┐ ржкрж╛ржарж╛рждрзЗ ржпрзЗржоржи ржарж┐ржХрж╛ржирж╛ рж▓рж╛ржЧрзЗ,
Data ржкрж╛ржарж╛рждрзЗ рждрзЗржоржирж┐ IP Address рж▓рж╛ржЧрзЗ!
```

### ржмрж╛рж╕рзНрждржм ржЙржжрж╛рж╣рж░ржг:

```
ржЪрж┐ржарж┐ ржкрж╛ржарж╛ржирзЛ:                    Data ржкрж╛ржарж╛ржирзЛ:
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ                 тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
From: рж░рж╣рж┐ржо                      From IP: 192.168.1.10
ржмрж╛ржбрж╝рж┐ ржиржВ: рззрзирзй                   (ржЖржкржирж╛рж░ PC)
рж░рзЛржб: рзл, ржзрж╛ржиржоржирзНржбрж┐                
ржврж╛ржХрж╛                            

To: ржХрж░рж┐ржо                        To IP: 142.250.185.78
ржмрж╛ржбрж╝рж┐ ржиржВ: рзкрзлрзм                   (Google Server)
рж░рзЛржб: рзо, ржорж┐рж░ржкрзБрж░
ржврж╛ржХрж╛

ЁЯУм ржбрж╛ржХржкрж┐ржпрж╝ржи ржирж┐ржпрж╝рзЗ ржпрж╛ржпрж╝           ЁЯМР Router ржирж┐ржпрж╝рзЗ ржпрж╛ржпрж╝
тЬЕ ржХрж░рж┐ржо ржкрзЗрж▓                     тЬЕ Google ржкрзЗрж▓
```

---

# рзи. IPv4 - ржмрж┐рж╕рзНрждрж╛рж░рж┐ржд ржмрж┐рж╢рзНрж▓рзЗрж╖ржг

## 2.1 IP Address ржПрж░ ржЧржаржи (32-bit)

### Binary (ржжрзБржЗ рж╕ржВржЦрзНржпрж╛ - рзж ржПржмржВ рзз):

```
ржХржорзНржкрж┐ржЙржЯрж╛рж░ рж╢рзБржзрзБ рзж ржПржмржВ рзз ржмрзБржЭрзЗ:

192.168.1.1 ржХрзЗ Computer ржжрзЗржЦрзЗ:
11000000.10101000.00000001.00000001

ржкрзНрж░рждрж┐ржЯрж╛ рж╕ржВржЦрзНржпрж╛ = рзо ржмрж┐ржЯ
рзкржЯрж╛ рж╕ржВржЦрзНржпрж╛ = рзйрзи ржмрж┐ржЯ ржорзЛржЯ

тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ  192       тФВ  168       тФВ    1       тФВ    1       тФВ
тФЬтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФд
тФВ 11000000   тФВ 10101000   тФВ 00000001   тФВ 00000001   тФВ
тФВ (8 bits)   тФВ (8 bits)   тФВ (8 bits)   тФВ (8 bits)   тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ
```

### Decimal ржП Convert:

```
Binary ржерзЗржХрзЗ Decimal:

Binary:    11000000
Position:  128 64 32 16 8 4 2 1
           тЖУ   тЖУ  тЖУ  тЖУ  тЖУ тЖУ тЖУ тЖУ
Value:     1   1  0  0  0 0 0 0

рж╣рж┐рж╕рж╛ржм:
128├Ч1 + 64├Ч1 + 0 + 0 + 0 + 0 + 0 + 0 = 192

рждрж╛ржЗ: 11000000 = 192 (Decimal)

ржкрзНрж░рждрж┐ржЯрж╛ ржЕржВрж╢:
рж╕рж░рзНржмржирж┐ржорзНржи: 00000000 = 0
рж╕рж░рзНржмрзЛржЪрзНржЪ:  11111111 = 255

ржПржЬржирзНржп ржкрзНрж░рждрж┐ржЯрж╛ рж╕ржВржЦрзНржпрж╛ рзж-рзирзлрзл ржПрж░ ржоржзрзНржпрзЗ!
```

---

## 2.2 IP Address Class - ржмрж┐рж╕рзНрждрж╛рж░рж┐ржд

### ржЧрж▓рзНржкрзЗрж░ ржорж╛ржзрзНржпржорзЗ ржмрзБржЭрж┐:

```
ржзрж░рзБржи рж╕рж░ржХрж╛рж░ ржЬржорж┐ ржмржгрзНржЯржи ржХрж░ржЫрзЗ:

Class A = ржмрж┐рж╢рж╛рж▓ ржЬржорж┐ (ржмржбрж╝ ржХрзЛржорзНржкрж╛ржирж┐рж░ ржЬржирзНржп)
Class B = ржорж╛ржЭрж╛рж░рж┐ ржЬржорж┐ (ржорж╛ржЭрж╛рж░рж┐ ржкрзНрж░рждрж┐рж╖рзНржарж╛ржи)
Class C = ржЫрзЛржЯ ржЬржорж┐ (ржмрж╛ржбрж╝рж┐, ржЫрзЛржЯ ржЕржлрж┐рж╕)
```

### Class A - ржмрж┐рж╢рж╛рж▓ ржирзЗржЯржУржпрж╝рж╛рж░рзНржХ:

```
Range: 1.0.0.0 ржерзЗржХрзЗ 126.255.255.255

ржЧржаржи: N.H.H.H
     тФВ тФФтФАтФ┤тФАтФ┤тФАтФАтФА Host ржЕржВрж╢ (ржХржд ржмрж╛ржбрж╝рж┐ рждрзИрж░рж┐ ржХрж░рж╛ ржпрж╛ржмрзЗ)
     тФФтФАтФАтФАтФАтФАтФАтФАтФА Network ржЕржВрж╢ (ржХрзЛржи ржПрж▓рж╛ржХрж╛)

ржЙржжрж╛рж╣рж░ржг: 10.25.100.50
         тФВтФВ  тФВ   тФВ  тФВ
         тФВтФФтФАтФАтФ┤тФАтФАтФАтФ┤тФАтФАтФ┤тФАтФАтФА 16,777,214 ржЯрж╛ ржбрж┐ржнрж╛ржЗрж╕ рж░рж╛ржЦрж╛ ржпрж╛ржмрзЗ!
         тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФА Network ржирж╛ржорзНржмрж╛рж░ (рж╢рзБржзрзБ 10)

ржмрж╛рж╕рзНрждржм ржЙржжрж╛рж╣рж░ржг:
- Google: 8.8.8.8
- MIT University: 18.x.x.x
- IBM: 9.x.x.x

ржХрзЗржи ржПржд ржмржбрж╝?
ЁЯПв ржмржбрж╝ ржХрзЛржорзНржкрж╛ржирж┐рж░ рж▓ржХрзНрж╖ рж▓ржХрзНрж╖ ржбрж┐ржнрж╛ржЗрж╕ ржЖржЫрзЗ!
```

### Class B - ржорж╛ржЭрж╛рж░рж┐ ржирзЗржЯржУржпрж╝рж╛рж░рзНржХ:

```
Range: 128.0.0.0 ржерзЗржХрзЗ 191.255.255.255

ржЧржаржи: N.N.H.H
     тФВ тФВ тФФтФАтФ┤тФАтФАтФА Host ржЕржВрж╢
     тФФтФАтФ┤тФАтФАтФАтФАтФАтФА Network ржЕржВрж╢

ржЙржжрж╛рж╣рж░ржг: 172.16.50.100
         тФВ  тФВ  тФВ   тФВ
         тФВ  тФВ  тФФтФАтФАтФАтФ┤тФАтФАтФА 65,534 ржЯрж╛ ржбрж┐ржнрж╛ржЗрж╕
         тФФтФАтФАтФ┤тФАтФАтФАтФАтФАтФАтФАтФА Network ржирж╛ржорзНржмрж╛рж░

ржмрж╛рж╕рзНрждржм ржЙржжрж╛рж╣рж░ржг:
- ржмрж┐рж╢рзНржмржмрж┐ржжрзНржпрж╛рж▓ржпрж╝
- ржмржбрж╝ рж╣рж╛рж╕ржкрж╛рждрж╛рж▓
- рж╕рж░ржХрж╛рж░рж┐ ржЕржлрж┐рж╕

Private IP (ржмрж╛ржбрж╝рж┐рждрзЗ ржмрзНржпржмрж╣рж╛рж░):
172.16.0.0 ржерзЗржХрзЗ 172.31.255.255
```

### Class C - ржЫрзЛржЯ ржирзЗржЯржУржпрж╝рж╛рж░рзНржХ:

```
Range: 192.0.0.0 ржерзЗржХрзЗ 223.255.255.255

ржЧржаржи: N.N.N.H
     тФВ тФВ тФВ тФФтФАтФА Host ржЕржВрж╢
     тФФтФАтФ┤тФАтФ┤тФАтФАтФА Network ржЕржВрж╢

ржЙржжрж╛рж╣рж░ржг: 192.168.1.10
         тФВ  тФВ  тФВ тФВ
         тФВ  тФВ  тФВ тФФтФАтФАтФА ржорж╛рждрзНрж░ 254 ржЯрж╛ ржбрж┐ржнрж╛ржЗрж╕
         тФФтФАтФАтФ┤тФАтФАтФ┤тФАтФАтФА Network ржирж╛ржорзНржмрж╛рж░

ржПржЯрж╛ржЗ рж╕ржмржЪрзЗржпрж╝рзЗ ржмрзЗрж╢рж┐ ржмрзНржпржмрж╣рзГржд!

ржЖржкржирж╛рж░ ржмрж╛ржбрж╝рж┐рж░ Wi-Fi Router:
192.168.0.1 ржмрж╛
192.168.1.1 ржмрж╛
192.168.100.1

Private Range:
192.168.0.0 ржерзЗржХрзЗ 192.168.255.255
```

### Class ржзрж░рж╛ ржпрж╛ржпрж╝ ржХрж┐ржнрж╛ржмрзЗ?

```
ржкрзНрж░ржержо рж╕ржВржЦрзНржпрж╛ ржжрзЗржЦрзЗ:

IP: 10.25.100.50
    тЖС
    ржкрзНрж░ржержо рж╕ржВржЦрзНржпрж╛ = 10

1-126     тЖТ Class A тнР
128-191   тЖТ Class B ЁЯМЯ
192-223   тЖТ Class C тЬи
224-239   тЖТ Class D (Multicast)
240-255   тЖТ Class E (Reserved)

ржЙржжрж╛рж╣рж░ржг:
8.8.8.8       тЖТ 8 = Class A тнР
172.16.5.10   тЖТ 172 = Class B ЁЯМЯ
192.168.1.1   тЖТ 192 = Class C тЬи
```

---

## 2.3 Subnet Mask - ржмрж┐рж╕рзНрждрж╛рж░рж┐ржд

### Subnet Mask ржХрж┐?

```
Subnet Mask = ржПржХржЯрж╛ ржЫрж╛ржХржирж┐/Filter

ржХрж╛ржЬ: IP Address ржПрж░ ржХрзЛржи ржЕржВрж╢ Network, 
     ржХрзЛржи ржЕржВрж╢ Host - ржПржЯрж╛ ржмрж▓рзЗ ржжрзЗржпрж╝

ржпрзЗржоржи ржмрж╛ржбрж╝рж┐рж░ ржарж┐ржХрж╛ржирж╛ржпрж╝:
ржврж╛ржХрж╛, ржзрж╛ржиржоржирзНржбрж┐, рж░рзЛржб рзл, ржмрж╛ржбрж╝рж┐ рззрзирзй
тФФтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФШ тФФтФАтФАтФмтФАтФАтФАтФШ тФФтФАтФАтФАтФмтФАтФАтФАтФАтФШ
   рж╢рж╣рж░      ржПрж▓рж╛ржХрж╛     ржмрж╛ржбрж╝рж┐ ржиржорзНржмрж░
(Network)  (Network)   (Host)
```

### Subnet Mask ржХрж┐ржнрж╛ржмрзЗ ржХрж╛ржЬ ржХрж░рзЗ:

```
IP Address:   192.168.1.10
Subnet Mask:  255.255.255.0

Binary рждрзЗ ржжрзЗржЦрж┐:

IP:    11000000.10101000.00000001.00001010
Mask:  11111111.11111111.11111111.00000000
       тФФтФАтФАтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФАтФАтФШ тФФтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФШ
         Network ржЕржВрж╢      Host ржЕржВрж╢
       (192.168.1)         (10)

AND Operation ржХрж░рзЗ Network ржмрзЗрж░ ржХрж░рж╛:
IP    : 11000000.10101000.00000001.00001010
Mask  : 11111111.11111111.11111111.00000000
        тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФА
Result: 11000000.10101000.00000001.00000000
        = 192.168.1.0 (Network Address)
```

### ржмрж╛рж╕рзНрждржм ржЙржжрж╛рж╣рж░ржг:

```
ржзрж░рзБржи ржПржХржЯрж╛ ржкрж╛ржбрж╝рж╛ржпрж╝ рззрзжржЯрж╛ ржмрж╛ржбрж╝рж┐:

Network Address: 192.168.1.0 (ржкрж╛ржбрж╝рж╛рж░ ржирж╛ржо)
Subnet Mask: 255.255.255.0

ржбрж┐ржнрж╛ржЗрж╕ржЧрзБрж▓рзЛ:
192.168.1.1   тЖТ Router (ржЧрзЗржЯ)
192.168.1.2   тЖТ PC 1
192.168.1.3   тЖТ PC 2
192.168.1.4   тЖТ Laptop 1
...
192.168.1.254 тЖТ рж╢рзЗрж╖ ржбрж┐ржнрж╛ржЗрж╕
192.168.1.255 тЖТ Broadcast (рж╕ржмрж╛ржЗржХрзЗ ржмрж▓рж╛)

ржорзЛржЯ = 256 ржЯрж╛ Address
      - 1 (Network)
      - 1 (Broadcast)
      тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФА
      = 254 ржЯрж╛ ржмрзНржпржмрж╣рж╛рж░ржпрзЛржЧрзНржп
```

---

## 2.4 CIDR Notation - рж╕рж╣ржЬрзЗ

### CIDR ржХрж┐?

```
CIDR = Classless Inter-Domain Routing
ржорж╛ржирзЗ: Class ржЫрж╛ржбрж╝рж╛ржЗ IP ржнрж╛ржЧ ржХрж░рж╛

ржкрзБрж░ржирзЛ ржкржжрзНржзрждрж┐ (Classful):
IP: 192.168.1.0
Subnet Mask: 255.255.255.0
(рж▓ржорзНржмрж╛ рж▓рзЗржЦрж╛!)

ржирждрзБржи ржкржжрзНржзрждрж┐ (CIDR):
192.168.1.0/24
            тЖС
         ржХржд ржмрж┐ржЯ Network ржЕржВрж╢
```

### /24, /26, /30 ржорж╛ржирзЗ ржХрж┐?

```
/24 ржорж╛ржирзЗ ржкрзНрж░ржержо 24 ржмрж┐ржЯ Network ржЕржВрж╢:

32 ржмрж┐ржЯ ржорзЛржЯ
 тЖУ
11111111.11111111.11111111.00000000
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФА24 bitsтФАтФАтФАтФАтФАтФАтФАтФАтФШ тФФтФА8 bitsтФАтФШ
      Network ржЕржВрж╢        Host ржЕржВрж╢

= 255.255.255.0

Host ржмрж┐ржЯ = 32 - 24 = 8 bits
рж╕ржорзНржнрж╛ржмрзНржп Address = 2тБ╕ = 256

Common CIDR:
тФМтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ CIDR тФВ Subnet Mask  тФВ Total  тФВ Usable  тФВ
тФЬтФАтФАтФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФАтФАтФАтФАтФАтФд
тФВ /24  тФВ255.255.255.0 тФВ   256  тФВ   254   тФВ тЖР рж╕ржмржЪрзЗржпрж╝рзЗ ржмрзЗрж╢рж┐
тФВ /25  тФВ255.255.255.128тФВ  128  тФВ   126   тФВ
тФВ /26  тФВ255.255.255.192тФВ   64  тФВ    62   тФВ
тФВ /27  тФВ255.255.255.224тФВ   32  тФВ    30   тФВ
тФВ /28  тФВ255.255.255.240тФВ   16  тФВ    14   тФВ
тФВ /29  тФВ255.255.255.248тФВ    8  тФВ     6   тФВ
тФВ /30  тФВ255.255.255.252тФВ    4  тФВ     2   тФВ тЖР Router Link
тФФтФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ
```

### ржмрж╛рж╕рзНрждржм ржмрзНржпржмрж╣рж╛рж░:

```
ржмрж╛ржбрж╝рж┐рж░ Wi-Fi:
192.168.1.0/24 (254 ржбрж┐ржнрж╛ржЗрж╕ - ржпржерзЗрж╖рзНржЯ!)

ржЫрзЛржЯ ржЕржлрж┐рж╕:
192.168.10.0/26 (62 ржбрж┐ржнрж╛ржЗрж╕)

ржжрзБржЗ Router рж╕ржВржпрзЛржЧ:
10.0.0.0/30 (ржорж╛рждрзНрж░ 2 ржбрж┐ржнрж╛ржЗрж╕ ржжрж░ржХрж╛рж░)
```

---

# рзй. Subnetting - ржПржХржжржо рж╕рж╣ржЬрзЗ

## Subnetting ржХрзЗржи ржжрж░ржХрж╛рж░?

### ржЧрж▓рзНржкрзЗрж░ ржорж╛ржзрзНржпржорзЗ:

```
ржПржХржЯрж╛ ржмржбрж╝ ржЕржлрж┐рж╕рзЗ 200 ржЬржи ржХрж░рзНржоржЪрж╛рж░рзА:

тЭМ рж╕ржорж╕рзНржпрж╛ (Without Subnetting):
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ     рж╕ржмрж╛ржЗ ржПржХ ржирзЗржЯржУржпрж╝рж╛рж░рзНржХрзЗ           тФВ
тФВ Accounts + Sales + IT + HR      тФВ
тФВ        200 PC ржПржХрж╕рж╛ржерзЗ             тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ

рж╕ржорж╕рзНржпрж╛ ржХрж┐?
1. ржирж┐рж░рж╛ржкрждрзНрждрж╛: Accounts ржПрж░ Data Sales ржжрзЗржЦрждрзЗ ржкрж╛рж░рзЗ!
2. ржЧрждрж┐: рж╕ржмрж╛ржЗ ржПржХрж╕рж╛ржерзЗ = Traffic ржЬрзНржпрж╛ржо
3. Broadcast: ржПржХржЬржи ржХрж┐ржЫрзБ ржкрж╛ржарж╛рж▓рзЗ рж╕ржмрж╛ржЗ ржкрж╛ржпрж╝

тЬЕ рж╕ржорж╛ржзрж╛ржи (With Subnetting):
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ Accounts  тФВ тФВ   Sales   тФВ тФВ    IT     тФВ
тФВ  50 PC    тФВ тФВ   70 PC   тФВ тФВ   80 PC   тФВ
тФВ192.168.1.0тФВ тФВ192.168.2.0тФВ тФВ192.168.3.0тФВ
тФВ   /26     тФВ тФВ   /25     тФВ тФВ   /25     тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ

ржлрж╛ржпрж╝ржжрж╛:
тЬЕ ржирж┐рж░рж╛ржкрждрзНрждрж╛ ржмрзЗржбрж╝рзЗржЫрзЗ
тЬЕ ржЧрждрж┐ ржмрзЗржбрж╝рзЗржЫрзЗ
тЬЕ ржкрж░рж┐ржЪрж╛рж▓ржирж╛ рж╕рж╣ржЬ
```

---

## Subnetting ржзрж╛ржкрзЗ ржзрж╛ржкрзЗ - Example 1

### ржкрзНрж░рж╢рзНржи: 192.168.1.0/24 ржХрзЗ 4 ржнрж╛ржЧрзЗ ржнрж╛ржЧ ржХрж░рзБржи

```
Step 1: ржХрждржЯрж╛ Subnet ржжрж░ржХрж╛рж░?
4 ржЯрж╛ Subnet = 2┬▓ = 2 bits ржжрж░ржХрж╛рж░

Step 2: ржирждрзБржи Subnet Mask:
ржЖржЧрзЗ ржЫрж┐рж▓: /24
ржпрзЛржЧ рж╣рж▓рзЛ: +2
ржирждрзБржи: /26

Step 3: ржкрзНрж░рждрж┐ Subnet ржП ржХржд IP?
ржорзЛржЯ ржмрж┐ржЯ = 32
Network ржмрж┐ржЯ = 26
Host ржмрж┐ржЯ = 32 - 26 = 6 bits

ржкрзНрж░рждрж┐ Subnet = 2тБ╢ = 64 IP

Step 4: Subnet ржЧрзБрж▓рзЛ рж▓рж┐ржЦрж┐:
```

### ржмрж┐рж╕рзНрждрж╛рж░рж┐ржд Calculation:

```
Subnet 1: 192.168.1.0/26
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
Network:    192.168.1.0     (ржкрж╛ржбрж╝рж╛рж░ ржирж╛ржо)
First Host: 192.168.1.1     (ржкрзНрж░ржержо ржмрж╛ржбрж╝рж┐ - Router)
...
Last Host:  192.168.1.62    (рж╢рзЗрж╖ ржмрж╛ржбрж╝рж┐)
Broadcast:  192.168.1.63    (рж╕ржмрж╛ржЗржХрзЗ ржбрж╛ржХ)
Total: 64, Usable: 62

Subnet 2: 192.168.1.64/26
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
Network:    192.168.1.64
First Host: 192.168.1.65
...
Last Host:  192.168.1.126
Broadcast:  192.168.1.127
Total: 64, Usable: 62

Subnet 3: 192.168.1.128/26
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
Network:    192.168.1.128
First Host: 192.168.1.129
...
Last Host:  192.168.1.190
Broadcast:  192.168.1.191
Total: 64, Usable: 62

Subnet 4: 192.168.1.192/26
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
Network:    192.168.1.192
First Host: 192.168.1.193
...
Last Host:  192.168.1.254
Broadcast:  192.168.1.255
Total: 64, Usable: 62
```

### ржоржирзЗ рж░рж╛ржЦрж╛рж░ ржХрзМрж╢рж▓:

```
Block Size = ржкрзНрж░рждрж┐ Subnet ржП ржХржд IP

/24 = 256 - 256 = 0 (ржкрзБрж░рзЛ ржирзЗржЯржУржпрж╝рж╛рж░рзНржХ)
/25 = 256 - 128 = 128 (ржжрзБржЗ ржнрж╛ржЧ)
/26 = 256 - 192 = 64 (ржЪрж╛рж░ ржнрж╛ржЧ)
/27 = 256 - 224 = 32 (ржЖржЯ ржнрж╛ржЧ)

Formula:
Block Size = 256 - (рж╢рзЗрж╖ Octet ржПрж░ Mask)

/26 = 255.255.255.192
              рж╢рзЗрж╖ = 192
Block = 256 - 192 = 64
```

---

## Subnetting Example 2 - ржмрж╛рж╕рзНрждржм ржЬрзАржмржи

### ржкрзНрж░рж╢рзНржи: ржПржХржЯрж╛ ржХрзЛржорзНржкрж╛ржирж┐рждрзЗ ржмрж┐ржнрж┐ржирзНржи ржмрж┐ржнрж╛ржЧ:

```
Requirements:
- Sales: 100 ржЬржи
- IT: 50 ржЬржи  
- Accounts: 25 ржЬржи
- Management: 10 ржЬржи
- WAN Links: 2ржЯрж╛ (Router Connection)

Network: 172.16.0.0/16 (ржмрж┐рж╢рж╛рж▓!)
```

### рж╕ржорж╛ржзрж╛ржи - VLSM ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ:

```
Step 1: рж╕ржмржЪрзЗржпрж╝рзЗ ржмржбрж╝ ржерзЗржХрзЗ ржЫрзЛржЯ рж╕рж╛ржЬрж╛ржЗ:

Sales: 100 ржЬржи тЖТ 2тБ╖ = 128 (ржорж┐ржирж┐ржорж╛ржо)
       ржжрж░ржХрж╛рж░ /25 (126 usable)
       
IT: 50 ржЬржи тЖТ 2тБ╢ = 64
    ржжрж░ржХрж╛рж░ /26 (62 usable)
    
Accounts: 25 ржЬржи тЖТ 2тБ╡ = 32
          ржжрж░ржХрж╛рж░ /27 (30 usable)
          
Management: 10 ржЬржи тЖТ 2тБ┤ = 16
            ржжрж░ржХрж╛рж░ /28 (14 usable)
            
WAN Links: 2ржЯрж╛ тЖТ 2┬▓ = 4
           ржжрж░ржХрж╛рж░ /30 (2 usable)
```

### Allocation:

```
Sales Department:
172.16.0.0/25
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
Range: 172.16.0.0 - 172.16.0.127
Network: 172.16.0.0
Gateway: 172.16.0.1
PCs: 172.16.0.2 - 172.16.0.126
Broadcast: 172.16.0.127
Total: 128, Usable: 126 тЬЕ

IT Department:
172.16.0.128/26
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
Range: 172.16.0.128 - 172.16.0.191
Network: 172.16.0.128
Gateway: 172.16.0.129
PCs: 172.16.0.130 - 172.16.0.190
Broadcast: 172.16.0.191
Total: 64, Usable: 62 тЬЕ

Accounts Department:
172.16.0.192/27
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
Range: 172.16.0.192 - 172.16.0.223
Network: 172.16.0.192
Gateway: 172.16.0.193
PCs: 172.16.0.194 - 172.16.0.222
Broadcast: 172.16.0.223
Total: 32, Usable: 30 тЬЕ

Management:
172.16.0.224/28
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
Range: 172.16.0.224 - 172.16.0.239
Total: 16, Usable: 14 тЬЕ

WAN Link 1 (Router to Router):
172.16.0.240/30
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
172.16.0.240 - Network
172.16.0.241 - Router 1
172.16.0.242 - Router 2
172.16.0.243 - Broadcast
Total: 4, Usable: 2 тЬЕ

WAN Link 2:
172.16.0.244/30
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
172.16.0.244 - Network
172.16.0.245 - Router 1
172.16.0.246 - Router 2
172.16.0.247 - Broadcast
```

---

# рзк. IPv6 - ржмрж┐рж╕рзНрждрж╛рж░рж┐ржд рж╕рж╣ржЬ ржмрзНржпрж╛ржЦрзНржпрж╛

## IPv6 ржХрзЗржи ржжрж░ржХрж╛рж░?

```
IPv4 рж╕ржорж╕рзНржпрж╛:
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
32-bit = 2┬│┬▓ = 4,294,967,296 (ржкрзНрж░рж╛ржпрж╝ 4 ржмрж┐рж▓рж┐ржпрж╝ржи)

ржХрж┐ржирзНрждрзБ ржжрзБржирж┐ржпрж╝рж╛ржпрж╝:
ЁЯМН ржорж╛ржирзБрж╖: 8 ржмрж┐рж▓рж┐ржпрж╝ржи
ЁЯУ▒ ржорзЛржмрж╛ржЗрж▓: 14+ ржмрж┐рж▓рж┐ржпрж╝ржи
ЁЯТ╗ Computer: ржмрж┐рж▓рж┐ржпрж╝ржи+
ЁЯПа IoT ржбрж┐ржнрж╛ржЗрж╕: 30+ ржмрж┐рж▓рж┐ржпрж╝ржи

4 ржмрж┐рж▓рж┐ржпрж╝ржи IP ржжрж┐ржпрж╝рзЗ ржпржерзЗрж╖рзНржЯ ржирж╛! тЭМ

IPv6 рж╕ржорж╛ржзрж╛ржи:
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
128-bit = 2┬╣┬▓тБ╕ = 
340,282,366,920,938,463,463,374,607,431,768,211,456
(340 undecillion!)

ржкрзНрж░рждрж┐ржЯрж╛ ржмрж╛рж▓рзБржХржгрж╛ржпрж╝ IP ржжрзЗржУржпрж╝рж╛ ржпрж╛ржмрзЗ! тЬЕ
```

---

## IPv6 ржЧржаржи:

```
IPv4: 192.168.1.1 (рж╕ржВржХрзНрж╖рж┐ржкрзНржд)
IPv6: 2001:0db8:85a3:0000:0000:8a2e:0370:7334 (рж▓ржорзНржмрж╛!)

8ржЯрж╛ ржЕржВрж╢, ржкрзНрж░рждрж┐ржЯрж╛ 16-bit (Hexadecimal):
тФМтФАтФАтФАтФАтФмтФАтФАтФАтФАтФмтФАтФАтФАтФАтФмтФАтФАтФАтФАтФмтФАтФАтФАтФАтФмтФАтФАтФАтФАтФмтФАтФАтФАтФАтФмтФАтФАтФАтФАтФР
тФВ2001тФВ0db8тФВ85a3тФВ0000тФВ0000тФВ8a2eтФВ0370тФВ7334тФВ
тФФтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФШ
  1    2    3    4    5    6    7    8

Total = 8 ├Ч 16 = 128 bits
```

### ржЫрзЛржЯ ржХрж░рж╛рж░ ржирж┐ржпрж╝ржо:

```
Rule 1: Leading Zero ржмрж╛ржж ржжрзЗржУржпрж╝рж╛ ржпрж╛ржпрж╝

ржкрзВрж░рзНржг:  2001:0db8:0000:0042:0000:8a2e:0370:7334
ржЫрзЛржЯ:   2001:db8:0:42:0:8a2e:370:7334
        тЖС    тЖС   тЖС тЖС  тЖС       тЖС
       0db8тЖТdb8  Leading 0 ржмрж╛ржж

Rule 2: ржПржХржмрж╛рж░ "::" ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ ржпрж╛ржпрж╝

ржЖржЧрзЗ: 2001:0db8:0000:0000:0000:0000:0000:0001
ржкрж░рзЗ: 2001:0db8::1
               тЖС
        рж╕ржм 0 ржЧрзНрж░рзБржк ржмрж╛ржж

Rule 3: :: рж╢рзБржзрзБ ржПржХржмрж╛рж░!

тЬЕ рж╕ржарж┐ржХ:   2001:db8::8a2e:370:7334
тЭМ ржнрзБрж▓:    2001::db8::7334 (ржжрзБржЗржмрж╛рж░ ::)
```

### ржмрж╛рж╕рзНрждржм ржЙржжрж╛рж╣рж░ржг:

```
Google IPv6: 2001:4860:4860::8888
             2001:4860:4860::8844

Cloudflare: 2606:4700:4700::1111
            2606:4700:4700::1001

Loopback: ::1 (IPv4 ржП 127.0.0.1)
```

---

## IPv6 Address Types:

```
1. Global Unicast (рж╕ржмрж╛рж░ ржЬржирзНржп):
   2000::/3
   Range: 2000:: ржерзЗржХрзЗ 3fff::
   ржмрзНржпржмрж╣рж╛рж░: ржЗржирзНржЯрж╛рж░ржирзЗржЯрзЗ
   
   ржЙржжрж╛рж╣рж░ржг: 2001:db8:85a3::8a2e:370:7334

2. Link-Local (Local Network):
   fe80::/10
   ржмрзНржпржмрж╣рж╛рж░: ржПржХржЗ ржирзЗржЯржУржпрж╝рж╛рж░рзНржХрзЗ
   
   ржЙржжрж╛рж╣рж░ржг: fe80::1
   
   (IPv4 ржП 169.254.x.x ржПрж░ ржоржд)

3. Unique Local (Private):
   fc00::/7 (рж╕рж╛ржзрж╛рж░ржгржд fd00::/8)
   ржмрзНржпржмрж╣рж╛рж░: ржмрж╛ржбрж╝рж┐/ржЕржлрж┐рж╕ ржирзЗржЯржУржпрж╝рж╛рж░рзНржХ
   
   (IPv4 ржП 192.168.x.x ржПрж░ ржоржд)

4. Multicast (ржЕржирзЗржХрзЗрж░ ржЬржирзНржп):
   ff00::/8
   ржЙржжрж╛рж╣рж░ржг: ff02::1 (рж╕ржмрж╛ржЗ)
            ff02::2 (рж╕ржм Router)

5. Loopback (ржирж┐ржЬрзЗ):
   ::1
   
6. Unspecified (ржХрж┐ржЫрзБ ржирж╛):
   ::
```

---

## IPv6 Subnetting - рж╕рж╣ржЬ:

```
рж╕рж╛ржзрж╛рж░ржгржд /64 ржмрзНржпржмрж╣рж╛рж░ рж╣ржпрж╝:

2001:0db8:85a3:0042:0000:0000:0000:0001/64
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ
    Network (64 bit)    Interface ID (64 bit)

ржХрзЛржорзНржкрж╛ржирж┐ ржкрж╛ржпрж╝: /48 ржмрж╛ /32

Example:
Organization: 2001:db8::/32

Sites:
2001:db8:0001::/48  тЖТ ржврж╛ржХрж╛ ржЕржлрж┐рж╕
2001:db8:0002::/48  тЖТ ржЪржЯрзНржЯржЧрзНрж░рж╛ржо ржЕржлрж┐рж╕
2001:db8:0003::/48  тЖТ рж╕рж┐рж▓рзЗржЯ ржЕржлрж┐рж╕

ржврж╛ржХрж╛ ржЕржлрж┐рж╕рзЗ VLANs:
2001:db8:0001:0001::/64  тЖТ Sales
2001:db8:0001:0002::/64  тЖТ IT
2001:db8:0001:0003::/64  тЖТ Accounts

ржкрзНрж░рждрж┐ржЯрж╛ VLAN ржП:
2тБ╢тБ┤ = 18,446,744,073,709,551,616 ржбрж┐ржнрж╛ржЗрж╕!
(ржпржерзЗрж╖рзНржЯрзЗрж░ ржмрзЗрж╢рж┐!)
```

---

# рзл. Special IP Addresses

## 5.1 Private IP (ржмрж╛ржбрж╝рж┐рждрзЗ ржмрзНржпржмрж╣рж╛рж░):

```
Class A:
10.0.0.0 - 10.255.255.255 (10.0.0.0/8)
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
ржорзЛржЯ: 16,777,216 IP
ржмрзНржпржмрж╣рж╛рж░: ржмржбрж╝ ржХрзЛржорзНржкрж╛ржирж┐, Data Center

Class B:
172.16.0.0 - 172.31.255.255 (172.16.0.0/12)
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
ржорзЛржЯ: 1,048,576 IP
ржмрзНржпржмрж╣рж╛рж░: ржорж╛ржЭрж╛рж░рж┐ ржкрзНрж░рждрж┐рж╖рзНржарж╛ржи

Class C:
192.168.0.0 - 192.168.255.255 (192.168.0.0/16)
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
ржорзЛржЯ: 65,536 IP
ржмрзНржпржмрж╣рж╛рж░: ржмрж╛ржбрж╝рж┐, ржЫрзЛржЯ ржЕржлрж┐рж╕ тнР рж╕ржмржЪрзЗржпрж╝рзЗ ржЬржиржкрзНрж░рж┐ржпрж╝!
```

### ржмрж╛рж╕рзНрждржм ржЙржжрж╛рж╣рж░ржг:

```
ржЖржкржирж╛рж░ Wi-Fi Router:
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ Router IP: 192.168.1.1     тФВ
тФЬтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФд
тФВ Laptop:    192.168.1.10    тФВ
тФВ Phone:     192.168.1.11    тФВ
тФВ PC:        192.168.1.12    тФВ
тФВ Tablet:    192.168.1.13    тФВ
тФВ Smart TV:  192.168.1.14    тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ

рж╕ржм Private IP! ржЗржирзНржЯрж╛рж░ржирзЗржЯрзЗ ржпрж╛ржмрзЗ ржирж╛ред
Router ржПрж░ NAT ржХрж░рзЗ Public IP рждрзЗ ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рзЗред
```

---

## 5.2 Special Purpose:

```
Loopback (ржирж┐ржЬрзЗ Test):
127.0.0.0 - 127.255.255.255 (127.0.0.0/8)
рж╕рж╛ржзрж╛рж░ржгржд: 127.0.0.1
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
ржмрзНржпржмрж╣рж╛рж░: ping 127.0.0.1 (ржирж┐ржЬрзЗ Test)

Link-Local (APIPA):
169.254.0.0 - 169.254.255.255 (169.254.0.0/16)
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
ржХржЦржи ржЖрж╕рзЗ: DHCP ржкрж╛ржпрж╝ржирж┐
рж╕ржорж╕рзНржпрж╛: ржЗржирзНржЯрж╛рж░ржирзЗржЯ ржХрж╛ржЬ ржХрж░ржмрзЗ ржирж╛!

Multicast:
224.0.0.0 - 239.255.255.255 (224.0.0.0/4)
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
ржмрзНржпржмрж╣рж╛рж░: Video Streaming, IPTV

Documentation (Example):
192.0.2.0/24
198.51.100.0/24
203.0.113.0/24
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
ржмрзНржпржмрж╣рж╛рж░: ржмржЗ, ржЯрж┐ржЙржЯрзЛрж░рж┐ржпрж╝рж╛рж▓, Example
```

---

# рзм. NAT - ржмрж┐рж╕рзНрждрж╛рж░рж┐ржд

## NAT ржХрж┐ ржПржмржВ ржХрзЗржи?

```
рж╕ржорж╕рзНржпрж╛:
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
IPv4 рж╕рзАржорж┐ржд (4 ржмрж┐рж▓рж┐ржпрж╝ржи)
ржмрж╛ржбрж╝рж┐рждрзЗ ржЕржирзЗржХ ржбрж┐ржнрж╛ржЗрж╕
ржкрзНрж░рждрж┐ржЯрж╛рж░ ржЬржирзНржп Public IP ржирзЗржЗ!

рж╕ржорж╛ржзрж╛ржи: NAT
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
1ржЯрж╛ Public IP ржжрж┐ржпрж╝рзЗ
ржЕржирзЗржХ ржбрж┐ржнрж╛ржЗрж╕ ржЪрж╛рж▓рж╛ржирзЛ!
```

### ржХрж┐ржнрж╛ржмрзЗ ржХрж╛ржЬ ржХрж░рзЗ:

```
      ржмрж╛ржбрж╝рж┐рж░ ржнрзЗрждрж░ (Private)
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ ЁЯУ▒ Phone: 192.168.1.10      тФВ
тФВ ЁЯТ╗ Laptop: 192.168.1.11     тФВ
тФВ ЁЯЦея╕П PC: 192.168.1.12         тФВ
тФВ ЁЯУ║ TV: 192.168.1.13         тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ
           тФВ
      тФМтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФР
      тФВ Router  тФВ тЖР NAT Box
      тФВ (NAT)   тФВ
      тФФтФАтФАтФАтФАтФмтФАтФАтФАтФАтФШ
           тФВ
    Public IP: 103.58.73.10
           тФВ
           тЖУ
      ЁЯМР Internet
```

---

## NAT Types - ржмрж┐рж╕рзНрждрж╛рж░рж┐ржд:

### 1. Static NAT (One-to-One):

```
ржПржХржЯрж╛ Private IP = ржПржХржЯрж╛ Public IP

тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ Private IP  тФВ Public IP  тФВ
тФЬтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФд
тФВ192.168.1.10 тФВ203.0.113.10тФВ Web Server
тФВ192.168.1.11 тФВ203.0.113.11тФВ Mail Server
тФВ192.168.1.12 тФВ203.0.113.12тФВ FTP Server
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ

ржмрзНржпржмрж╣рж╛рж░: Server ржпрзЗржЧрзБрж▓рж╛ ржЗржирзНржЯрж╛рж░ржирзЗржЯ ржерзЗржХрзЗ Access ржХрж░рж╛ рж╣ржпрж╝

ржЦрж░ржЪ: ржмрзЗрж╢рж┐ (ржкрзНрж░рждрж┐ржЯрж╛рж░ Public IP рж▓рж╛ржЧрзЗ)
```

### 2. Dynamic NAT (Pool):

```
ржЕржирзЗржХ Private IP тЖТ ржХржпрж╝рзЗржХржЯрж╛ Public IP Pool

Private Network:     Public IP Pool:
192.168.1.10    тФАтФР   203.0.113.10
192.168.1.11    тФАтФ╝тЖТ  203.0.113.11
192.168.1.12    тФАтФд   203.0.113.12
192.168.1.13    тФАтФШ   203.0.113.13
...

ржпрзЗ ржЖржЧрзЗ ржЖрж╕рзЗ, рж╕рзЗ Public IP ржкрж╛ржпрж╝
рж╢рзЗрж╖ рж╣рж▓рзЗ wait ржХрж░рждрзЗ рж╣ржпрж╝

ржмрзНржпржмрж╣рж╛рж░: ржорж╛ржЭрж╛рж░рж┐ ржкрзНрж░рждрж┐рж╖рзНржарж╛ржи
```

### 3. PAT/NAT Overload (ржмрж╛ржбрж╝рж┐рждрзЗ):

```
ржЕржирзЗржХ Private тЖТ 1ржЯрж╛ Public IP
Port Number ржжрж┐ржпрж╝рзЗ ржЖрж▓рж╛ржжрж╛ ржХрж░рж╛

NAT Translation Table:
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ Inside (Private)тФВ Outside (Public) тФВ Destination тФВ
тФЬтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФд
тФВ192.168.1.10:3345тФВ103.58.73.10:50001тФВ8.8.8.8:80   тФВYouTube
тФВ192.168.1.11:3346тФВ103.58.73.10:50002тФВ31.13.66.35  тФВFacebook
тФВ192.168.1.12:5060тФВ103.58.73.10:50003тФВ142.250.80.46тФВGoogle
тФВ192.168.1.10:4455тФВ103.58.73.10:50004тФВ1.1.1.1:53   тФВDNS
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ

рж╕ржмрж╛ржЗ ржПржХржЗ Public IP ржХрж┐ржирзНрждрзБ ржЖрж▓рж╛ржжрж╛ Port!

ржПржЯрж╛ржЗ рж╕ржмржЪрзЗржпрж╝рзЗ ржмрзЗрж╢рж┐ ржмрзНржпржмрж╣рзГржд! тнР
ржЖржкржирж╛рж░ ржмрж╛ржбрж╝рж┐рж░ Router ржПржЯрж╛ ржХрж░рзЗ!
```

---

## NAT Working - Example:

```
Phone ржерзЗржХрзЗ YouTube ржжрзЗржЦржЫрзЗржи:

Step 1: Request ржкрж╛ржарж╛ржирзЛ
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
Phone: 192.168.1.10:3345
       "YouTube, Video ржжрж╛ржУ!"
       тЖУ
Router ржП ржкрзМржБржЫрж╛рж▓рзЛ

Step 2: NAT Translation
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
Router Table ржП рж▓рж┐ржЦрж▓:
192.168.1.10:3345 тЖТ 103.58.73.10:50001

Private IP ржорзБржЫрзЗ Public IP ржжрж┐рж▓:
ржерзЗржХрзЗ: 103.58.73.10:50001
ржХрзЛржерж╛ржпрж╝: 142.250.185.78:80 (YouTube)
       тЖУ
Internet ржП ржЧрзЗрж▓

Step 3: YouTube Response
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
YouTube: "ржирж╛ржУ Video!"
ржерзЗржХрзЗ: 142.250.185.78:80
ржХрзЛржерж╛ржпрж╝: 103.58.73.10:50001
       тЖУ
Router ржП ржкрзМржБржЫрж╛рж▓рзЛ

Step 4: Reverse Translation
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
Router Table ржжрзЗржЦрж▓:
50001 тЖТ 192.168.1.10:3345

Public IP ржорзБржЫрзЗ Private IP ржжрж┐рж▓:
ржерзЗржХрзЗ: 142.250.185.78:80
ржХрзЛржерж╛ржпрж╝: 192.168.1.10:3345
       тЖУ
ржЖржкржирж╛рж░ Phone ржП ржкрзМржБржЫрж╛рж▓рзЛ!

тЬЕ Video ржЪрж▓ржЫрзЗ!
```

---

# рзн. Routing - ржмрж┐рж╕рзНрждрж╛рж░рж┐ржд

## Routing Table ржХрж┐?

```
Router ржПрж░ Map/GPS
ржпрзЗржЦрж╛ржирзЗ рж▓рзЗржЦрж╛ ржЖржЫрзЗ ржХрзЛржи ржкржерзЗ ржпрзЗрждрзЗ рж╣ржмрзЗ

Routing Table Example:
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ Destination  тФВ Netmask     тФВ Gateway  тФВ InterfaceтФВMetricтФВ
тФЬтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФАтФАтФАтФАтФд
тФВ 0.0.0.0      тФВ 0.0.0.0     тФВ192.168.1.1тФВ eth0   тФВ  100  тФВDefault
тФВ 192.168.1.0  тФВ255.255.255.0тФВ 0.0.0.0   тФВ eth0   тФВ   0   тФВDirect
тФВ 10.0.0.0     тФВ255.255.255.0тФВ192.168.1.5тФВ eth0   тФВ  10   тФВVia R2
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФАтФАтФАтФШ

Destination: ржХрзЛржерж╛ржпрж╝ ржпрж╛ржмрзЗ
Netmask: Network ржЕржВрж╢
Gateway: ржкрж░ржмрж░рзНрждрзА Router
Interface: ржХрзЛржи Port ржжрж┐ржпрж╝рзЗ
Metric: Distance (ржХржо = ржнрж╛рж▓рзЛ)
```

---

## Longest Prefix Match:

```
Packet ржЖрж╕рж▓рзЛ: 192.168.10.50

Routing Table:
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ Destination  тФВ Mask  тФВ Gateway тФВ
тФЬтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФАтФАтФАтФАтФАтФд
тФВ 192.168.0.0  тФВ /16   тФВ GW-A    тФВ Match!
тФВ 192.168.10.0 тФВ /24   тФВ GW-B    тФВ Match! (More specific)
тФВ 0.0.0.0      тФВ /0    тФВ GW-C    тФВ Match! (Default)
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ

ржХрзЛржиржЯрж╛ ржмрзЗржЫрзЗ ржирзЗржмрзЗ?

/24 ржмрзЗржЫрзЗ ржирзЗржмрзЗ! тЬЕ
ржХрж╛рж░ржг: рж╕ржмржЪрзЗржпрж╝рзЗ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ (Longest Prefix)

ржпрзЗржоржи:
"ржврж╛ржХрж╛" - рж╕рж╛ржзрж╛рж░ржг
"ржврж╛ржХрж╛, ржзрж╛ржиржоржирзНржбрж┐" - ржирж┐рж░рзНржжрж┐рж╖рзНржЯ
"ржврж╛ржХрж╛, ржзрж╛ржиржоржирзНржбрж┐, рж░рзЛржб рзл" - ржЖрж░рзЛ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ тЬЕ

рж╕ржмржЪрзЗржпрж╝рзЗ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржарж┐ржХрж╛ржирж╛ ржмрзЗржЫрзЗ ржирж┐ржмрзЗ!
```

---

## Static vs Dynamic Routing:

### Static Routing (ржорзНржпрж╛ржирзБржпрж╝рж╛рж▓):

```
Admin ржирж┐ржЬрзЗ Route ржпрзЛржЧ ржХрж░рзЗ

Command:
route add 192.168.2.0 mask 255.255.255.0 10.0.0.1

тЬЕ рж╕рзБржмрж┐ржзрж╛:
- рж╕рж╣ржЬ
- ржирж┐рж░рж╛ржкржж
- ржжрзНрж░рзБржд
- ржХржо Resource

тЭМ ржЕрж╕рзБржмрж┐ржзрж╛:
- ржорзНржпрж╛ржирзБржпрж╝рж╛рж▓ ржХрж╛ржЬ
- ржмржбрж╝ Network ржП ржХржарж┐ржи
- Route ржмржжрж▓рж╛рж▓рзЗ ржЖржмрж╛рж░ рж▓рж┐ржЦрждрзЗ рж╣ржпрж╝

ржмрзНржпржмрж╣рж╛рж░: ржЫрзЛржЯ Network, рж╣рзЛржо Router
```

### Dynamic Routing (рж╕рзНржмржпрж╝ржВржХрзНрж░рж┐ржпрж╝):

```
Router ржирж┐ржЬрзЗ Route рж╢рж┐ржЦрзЗ

Protocols:

1. RIP (Routing Information Protocol)
   - ржкрзБрж░ржирзЛ, ржзрзАрж░
   - Hop Count (рж╕рж░рзНржмрзЛржЪрзНржЪ 15)
   - ржкрзНрж░рждрж┐ 30 рж╕рзЗржХрзЗржирзНржбрзЗ Update
   
2. OSPF (Open Shortest Path First)
   - ржжрзНрж░рзБржд, ржжржХрзНрж╖
   - Link State Protocol
   - ржмржбрж╝ Network ржПрж░ ржЬржирзНржп ржнрж╛рж▓рзЛ
   
3. EIGRP (Cisco)
   - Cisco ржПрж░ ржирж┐ржЬрж╕рзНржм
   - ржЦрзБржмржЗ ржжрзНрж░рзБржд
   
4. BGP (Border Gateway Protocol)
   - ржЗржирзНржЯрж╛рж░ржирзЗржЯрзЗрж░ Backbone
   - ISP ржжрзЗрж░ ржоржзрзНржпрзЗ

тЬЕ рж╕рзБржмрж┐ржзрж╛:
- рж╕рзНржмржпрж╝ржВржХрзНрж░рж┐ржпрж╝
- Network ржкрж░рж┐ржмрж░рзНрждржи рж╣рж▓рзЗ ржирж┐ржЬрзЗ adjust ржХрж░рзЗ
- ржмржбрж╝ Network ржП рж╕рж╣ржЬ

тЭМ ржЕрж╕рзБржмрж┐ржзрж╛:
- ржЬржЯрж┐рж▓
- ржмрзЗрж╢рж┐ Resource рж▓рж╛ржЧрзЗ
- рж╕ржоржпрж╝ ржирзЗржпрж╝ рж╢рж┐ржЦрждрзЗ

ржмрзНржпржмрж╣рж╛рж░: ржмржбрж╝ Network, ISP
```

---

# рзо. ARP - ржмрж┐рж╕рзНрждрж╛рж░рж┐ржд

## ARP ржХрж┐?

```
ARP = Address Resolution Protocol

ржХрж╛ржЬ: IP Address ржерзЗржХрзЗ MAC Address ржЦрзБржБржЬрзЗ ржмрзЗрж░ ржХрж░рж╛

ржХрзЗржи ржжрж░ржХрж╛рж░?
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
Layer 3 (Network): IP Address ржХрж╛ржЬ ржХрж░рзЗ
Layer 2 (Data Link): MAC Address ржХрж╛ржЬ ржХрж░рзЗ

ржПржХржЗ Network ржП Data ржкрж╛ржарж╛рждрзЗ 
MAC Address рж▓рж╛ржЧрзЗ!

ржХрж┐ржирзНрждрзБ ржЖржорж░рж╛ рж╢рзБржзрзБ IP ржЬрж╛ржирж┐ред
рждрж╛ржЗ ARP ржжрж┐ржпрж╝рзЗ MAC ржЦрзБржБржЬрж┐!
```

---

## ARP ржХрж┐ржнрж╛ржмрзЗ ржХрж╛ржЬ ржХрж░рзЗ:

```
Scenario: PC1 тЖТ PC2 ржпрзЛржЧрж╛ржпрзЛржЧ ржХрж░ржмрзЗ

PC1: 192.168.1.10 (MAC: AA:AA:AA:AA:AA:AA)
PC2: 192.168.1.20 (MAC: BB:BB:BB:BB:BB:BB)

Step 1: PC1 Check ржХрж░рзЗ
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
PC1: "ржЖржорж┐ 192.168.1.20 ржП Data ржкрж╛ржарж╛ржм"
     "ржХрж┐ржирзНрждрзБ MAC Address ржЬрж╛ржирж┐ ржирж╛!"
     "ARP Table ржжрзЗржЦрж┐..."
     
ARP Table: Empty тЭМ

Step 2: ARP Request (Broadcast)
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
PC1 рж╕ржмрж╛ржЗржХрзЗ ржЬрж┐ржЬрзНржЮрзЗрж╕ ржХрж░рзЗ:
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ ARP Request                    тФВ
тФВ From: 192.168.1.10             тФВ
тФВ       AA:AA:AA:AA:AA:AA        тФВ
тФВ                                тФВ
тФВ "ржХрж╛рж░ IP 192.168.1.20?"         тФВ
тФВ "ржЖржорж╛ржХрзЗ рждрзЛржорж╛рж░ MAC ржжрж╛ржУ!"        тФВ
тФВ                                тФВ
тФВ To: Broadcast (FF:FF:FF:FF:FF:FF)тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ
       тЖУ
рж╕ржмрж╛ржЗ ржкрж╛ржпрж╝! (PC2, PC3, PC4...)

Step 3: PC2 Reply ржХрж░рзЗ (Unicast)
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
PC2: "ржЖржорж╛рж░ IP 192.168.1.20!"
     "ржЖржорж╛рж░ MAC: BB:BB:BB:BB:BB:BB"
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ ARP Reply                      тФВ
тФВ From: 192.168.1.20             тФВ
тФВ       BB:BB:BB:BB:BB:BB        тФВ
тФВ                                тФВ
тФВ To: 192.168.1.10               тФВ
тФВ     AA:AA:AA:AA:AA:AA          тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ
       тЖУ
рж╢рзБржзрзБ PC1 ржкрж╛ржпрж╝!

Step 4: PC1 Cache ржП рж░рж╛ржЦрзЗ
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
ARP Table Update:
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФР
тФВ IP Address   тФВ MAC Address       тФВ Age  тФВ
тФЬтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФАтФАтФд
тФВ192.168.1.20  тФВBB:BB:BB:BB:BB:BB  тФВ 0s   тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФАтФШ

ржПржЦржи Data ржкрж╛ржарж╛рждрзЗ ржкрж╛рж░ржмрзЗ!

Step 5: Data ржкрж╛ржарж╛ржирзЛ
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
Frame:
[Dest MAC: BB:BB:BB:BB:BB:BB]
[Source MAC: AA:AA:AA:AA:AA:AA]
[Data...]

тЬЕ PC2 ржкрзЗржпрж╝рзЗ ржЧрзЗрж▓!
```

---

## ARP Commands:

```
Windows/Linux:
arp -a  (рж╕ржм ARP Table ржжрзЗржЦрзБржи)

Output:
Internet Address    Physical Address      Type
192.168.1.1        00-11-22-33-44-55     dynamic
192.168.1.20       BB-BB-BB-BB-BB-BB     dynamic
192.168.1.30       CC-CC-CC-CC-CC-CC     dynamic

arp -d  (Clear ARP Cache)
```

---

# рзп. IP Fragmentation

## Fragmentation ржХрж┐?

```
рж╕ржорж╕рзНржпрж╛:
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
ржмржбрж╝ Packet ржкрж╛ржарж╛рждрзЗ рж╣ржмрзЗ: 3000 bytes
ржХрж┐ржирзНрждрзБ Cable ржПрж░ рж╕рзАржорж╛ ржЖржЫрзЗ: 1500 bytes (MTU)

MTU = Maximum Transmission Unit

рж╕ржорж╛ржзрж╛ржи: Fragmentation
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
ржмржбрж╝ Packet ржХрзЗ ржЫрзЛржЯ ржЫрзЛржЯ ржЯрзБржХрж░рж╛ ржХрж░рзЗ ржкрж╛ржарж╛ржирзЛ!
```

---

## Example:

```
Original Packet: 3000 bytes
MTU: 1500 bytes

ржнрж╛ржЧ ржХрж░рж╛:

Fragment 1:
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ IP Header  тФВ 1480 bytes   тФВ
тФВ (20 bytes) тФВ Data         тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ
Total: 1500 bytes
Flags: MF=1 (More Fragments ржЖржЫрзЗ)
Offset: 0

Fragment 2:
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ IP Header  тФВ 1480 bytes   тФВ
тФВ (20 bytes) тФВ Data         тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ
Total: 1500 bytes
Flags: MF=1
Offset: 185 (1480├╖8)

Fragment 3:
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ IP Header  тФВ 40 bytes     тФВ
тФВ (20 bytes) тФВ Data         тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ
Total: 60 bytes
Flags: MF=0 (рж╢рзЗрж╖ Fragment)
Offset: 370 (2960├╖8)

Destination ржП:
рж╕ржм Fragment ржЬрзЛржбрж╝рж╛ рж▓рж╛ржЧрж┐ржпрж╝рзЗ 
ржЖржмрж╛рж░ 3000 bytes рждрзИрж░рж┐!
```

---

# рззрзж. Supernetting (Route Aggregation)

## Supernetting ржХрж┐?

```
ржЕржирзЗржХ ржЫрзЛржЯ Network ржХрзЗ ржПржХрж╕рж╛ржерзЗ ржХрж░рж╛
Routing Table ржЫрзЛржЯ рж░рж╛ржЦрж╛рж░ ржЬржирзНржп

Without Supernetting:
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
192.168.0.0/24  тЖТ Gateway A
192.168.1.0/24  тЖТ Gateway A
192.168.2.0/24  тЖТ Gateway A
192.168.3.0/24  тЖТ Gateway A
(4ржЯрж╛ Entry!)

With Supernetting:
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
192.168.0.0/22  тЖТ Gateway A
(1ржЯрж╛ Entry!)

ржПржЯрж╛ 4ржЯрж╛ /24 Network cover ржХрж░рзЗ!
```

---

## Calculation:

```
Networks:
192.168.0.0/24  = 192.168.0.0 - 192.168.0.255
192.168.1.0/24  = 192.168.1.0 - 192.168.1.255
192.168.2.0/24  = 192.168.2.0 - 192.168.2.255
192.168.3.0/24  = 192.168.3.0 - 192.168.3.255

Binary:
192.168.0.0 = 11000000.10101000.00000000.00000000
192.168.1.0 = 11000000.10101000.00000001.00000000
192.168.2.0 = 11000000.10101000.00000010.00000000
192.168.3.0 = 11000000.10101000.00000011.00000000
                                тФФтФАтФмтФАтФАтФШ
                            рж╢рзБржзрзБ ржПржЗ 2 bits ржкрж░рж┐ржмрж░рзНрждржи!

рждрж╛ржЗ:
Supernet = 192.168.0.0/22
           (22 bits fix, 2 bits ржкрж░рж┐ржмрж░рзНрждржирж╢рзАрж▓)

Cover ржХрж░рзЗ:
192.168.0.0 - 192.168.3.255
Total: 1024 IPs
```

---

# рж╕рж╛рж░рж╕ржВржХрзНрж╖рзЗржк - ржоржирзЗ рж░рж╛ржЦрж╛рж░ ржЬржирзНржп

```
тЬЕ IP Address = ржЗржирзНржЯрж╛рж░ржирзЗржЯрзЗрж░ ржарж┐ржХрж╛ржирж╛
тЬЕ IPv4 = 32-bit (4 ржмрж┐рж▓рж┐ржпрж╝ржи)
тЬЕ IPv6 = 128-bit (ржЕрж╕рзАржо!)
тЬЕ Subnet = ржирзЗржЯржУржпрж╝рж╛рж░рзНржХ ржнрж╛ржЧ ржХрж░рж╛
тЬЕ CIDR = /24, /26 (рж╕ржВржХрзНрж╖рж┐ржкрзНржд рж▓рзЗржЦрж╛)
тЬЕ Private IP = ржмрж╛ржбрж╝рж┐рждрзЗ ржмрзНржпржмрж╣рж╛рж░
тЬЕ Public IP = ржЗржирзНржЯрж╛рж░ржирзЗржЯрзЗ ржмрзНржпржмрж╣рж╛рж░
тЬЕ NAT = Private тЖТ Public рж░рзВржкрж╛ржирзНрждрж░
тЬЕ Routing = ржкрже ржирж┐рж░рзНржжрзЗрж╢ржирж╛
тЬЕ ARP = IP тЖТ MAC ржЦрзБржБржЬрзЗ ржмрзЗрж░ ржХрж░рж╛
```

---



# IP Address 

## рзз. IP Address ржХрж┐ржнрж╛ржмрзЗ ржХрж╛ржЬ ржХрж░рзЗрзЗ

### Data Packet ржПрж░ ржпрж╛рждрзНрж░рж╛:

```
ржЖржкржирж┐ YouTube ржП Video ржЪрж╛рж▓рзБ ржХрж░рж▓рзЗржи
              тЖУ
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ Step 1: Request рждрзИрж░рж┐ рж╣ржпрж╝            тФВ
тФВ ржЖржкржирж╛рж░ PC: 192.168.1.10             тФВ
тФВ "ржЖржорж┐ Video ржЪрж╛ржЗ!"                    тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ
              тЖУ
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ Step 2: Router ржП ржпрж╛ржпрж╝                тФВ
тФВ Router: ржЖржкржирж╛рж░ Private IP ржХрзЗ        тФВ
тФВ Public IP рждрзЗ ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рзЗ          тФВ
тФВ (192.168.1.10 тЖТ 103.58.73.10)       тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ
              тЖУ
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ Step 3: ржЗржирзНржЯрж╛рж░ржирзЗржЯрзЗ ржнрзНрж░ржоржг           тФВ
тФВ ржЕржирзЗржХ Router ржкрж╛рж░ рж╣ржпрж╝рзЗ                тФВ
тФВ YouTube Server ржП ржкрзМржБржЫрж╛ржпрж╝             тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ
              тЖУ
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ Step 4: YouTube Response ржкрж╛ржарж╛ржпрж╝     тФВ
тФВ Video Data ржЖржкржирж╛рж░ IP рждрзЗ ржлрзЗрж░ржд ржЖрж╕рзЗ   тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ
              тЖУ
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ Step 5: Router Data Receive ржХрж░рзЗ    тФВ
тФВ ржЖржмрж╛рж░ Private IP рждрзЗ ржкрж╛ржарж╛ржпрж╝          тФВ
тФВ (103.58.73.10 тЖТ 192.168.1.10)       тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ
              тЖУ
         тЬЕ Video ржЪрж▓ржЫрзЗ!
```

---

## рзи. IP Address Class - ржмрж┐рж╕рзНрждрж╛рж░рж┐ржд

### Class A (ржмржбрж╝ ржкрзНрж░рждрж┐рж╖рзНржарж╛ржи):
```
Range: 1.0.0.0 ржерзЗржХрзЗ 126.255.255.255

ржЧржаржи: N.H.H.H
     тФВ тФФтФАтФ┤тФАтФ┤тФАтФА Host (рзз ржХрзЛржЯрж┐ рзмрзж рж▓ржХрзНрж╖+ ржбрж┐ржнрж╛ржЗрж╕)
     тФФтФАтФА Network (рззрзирзоржЯрж╛ ржирзЗржЯржУржпрж╝рж╛рж░рзНржХ)

ржЙржжрж╛рж╣рж░ржг: 10.25.100.50
         10 = Network
         25.100.50 = ржПржЗ ржирзЗржЯржУржпрж╝рж╛рж░рзНржХрзЗ ржбрж┐ржнрж╛ржЗрж╕

ржмрзНржпржмрж╣рж╛рж░: Google, Facebook ржПрж░ ржоржд ржмржбрж╝ ржХрзЛржорзНржкрж╛ржирж┐
```

### Class B (ржорж╛ржЭрж╛рж░рж┐ ржкрзНрж░рждрж┐рж╖рзНржарж╛ржи):
```
Range: 128.0.0.0 ржерзЗржХрзЗ 191.255.255.255

ржЧржаржи: N.N.H.H
     тФВ тФВ тФФтФАтФ┤тФАтФА Host (рзмрзл рж╣рж╛ржЬрж╛рж░+ ржбрж┐ржнрж╛ржЗрж╕)
     тФФтФАтФ┤тФАтФА Network (рззрзм рж╣рж╛ржЬрж╛рж░+ ржирзЗржЯржУржпрж╝рж╛рж░рзНржХ)

ржЙржжрж╛рж╣рж░ржг: 172.16.50.100
         172.16 = Network
         50.100 = ржбрж┐ржнрж╛ржЗрж╕

ржмрзНржпржмрж╣рж╛рж░: ржмрж┐рж╢рзНржмржмрж┐ржжрзНржпрж╛рж▓ржпрж╝, рж╣рж╛рж╕ржкрж╛рждрж╛рж▓, ржХрзЛржорзНржкрж╛ржирж┐
```

### Class C (ржЫрзЛржЯ ржкрзНрж░рждрж┐рж╖рзНржарж╛ржи):
```
Range: 192.0.0.0 ржерзЗржХрзЗ 223.255.255.255

ржЧржаржи: N.N.N.H
     тФВ тФВ тФВ тФФтФАтФА Host (рзирзлрзкржЯрж╛ ржбрж┐ржнрж╛ржЗрж╕)
     тФФтФАтФ┤тФАтФ┤тФАтФА Network (рзирзж рж▓ржХрзНрж╖+ ржирзЗржЯржУржпрж╝рж╛рж░рзНржХ)

ржЙржжрж╛рж╣рж░ржг: 192.168.1.10
         192.168.1 = Network
         10 = ржбрж┐ржнрж╛ржЗрж╕

ржмрзНржпржмрж╣рж╛рж░: ржмрж╛ржбрж╝рж┐, ржЫрзЛржЯ ржЕржлрж┐рж╕, ржжрзЛржХрж╛ржи
```

---

## рзй. Subnetting - ржирзЗржЯржУржпрж╝рж╛рж░рзНржХ ржнрж╛ржЧ ржХрж░рж╛

### ржХрзЗржи Subnetting ржжрж░ржХрж╛рж░?

```
ржПржХржЯрж╛ ржмржбрж╝ ржЕржлрж┐рж╕рзЗ ржнрж╛ржмрзБржи:

тЭМ рж╕ржорж╕рзНржпрж╛: рж╕ржмрж╛ржЗ ржПржХ ржирзЗржЯржУржпрж╝рж╛рж░рзНржХрзЗ
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ  Accounts + Sales + IT       тФВ
тФВ  + Security = 200 PC         тФВ
тФВ  рж╕ржмрж╛ржЗ ржПржХрж╕рж╛ржерзЗ (ржнрж┐ржбрж╝!)         тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ

тЬЕ рж╕ржорж╛ржзрж╛ржи: Subnet ржХрж░рзЗ ржнрж╛ржЧ ржХрж░рзБржи
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВAccounts тФВ тФВ  Sales  тФВ тФВ   IT    тФВ
тФВ  50 PC  тФВ тФВ  70 PC  тФВ тФВ  80 PC  тФВ
тФВ192.168.1тФВ тФВ192.168.2тФВ тФВ192.168.3тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ
```

### Subnetting ржПрж░ ржЙржжрж╛рж╣рж░ржг:

```
ржорзВрж▓ Network: 192.168.1.0/24 (256ржЯрж╛ IP)

ржПржЯрж╛ржХрзЗ 4 ржнрж╛ржЧрзЗ ржнрж╛ржЧ ржХрж░рж┐:

Subnet 1: 192.168.1.0/26   тЖТ 64 IP (Sales ржмрж┐ржнрж╛ржЧ)
Subnet 2: 192.168.1.64/26  тЖТ 64 IP (Accounts ржмрж┐ржнрж╛ржЧ)
Subnet 3: 192.168.1.128/26 тЖТ 64 IP (IT ржмрж┐ржнрж╛ржЧ)
Subnet 4: 192.168.1.192/26 тЖТ 64 IP (Management)

ржкрзНрж░рждрж┐ржЯрж╛ Subnet ржП:
- Network Address: 1ржЯрж╛ (ржкрзНрж░ржержо)
- Usable IPs: 62ржЯрж╛ (ржбрж┐ржнрж╛ржЗрж╕рзЗрж░ ржЬржирзНржп)
- Broadcast: 1ржЯрж╛ (рж╢рзЗрж╖)
```

---

## рзк. DHCP - рж╕рзНржмржпрж╝ржВржХрзНрж░рж┐ржпрж╝ IP ржжрзЗржУржпрж╝рж╛

### DHCP ржХрж┐?

**DHCP = Dynamic Host Configuration Protocol**
рж╕рзНржмржпрж╝ржВржХрзНрж░рж┐ржпрж╝ржнрж╛ржмрзЗ IP Address ржжрзЗржпрж╝ ржЖржкржирж╛рж░ ржбрж┐ржнрж╛ржЗрж╕ржХрзЗ

### DHCP ржХрж┐ржнрж╛ржмрзЗ ржХрж╛ржЬ ржХрж░рзЗ:

```
ржЖржкржирж╛рж░ ржирждрзБржи ржлрзЛржи Wi-Fi ржП Connect рж╣рж▓рзЛ
                тЖУ
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ Step 1: DISCOVER (ржЦрзЛржБржЬрж╛)           тФВ
тФВ Phone: "ржХрзЗржЙ ржЖржЫрзЗ? ржЖржорж╛ржХрзЗ IP ржжрж╛ржУ!"    тФВ
тФВ (Broadcast рж╕ржмрж╛ржЗржХрзЗ ржмрж▓рзЗ)             тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ
                тЖУ
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ Step 2: OFFER (ржкрзНрж░рж╕рзНрждрж╛ржм)           тФВ
тФВ DHCP Server: "ржирж╛ржУ, рждрзЛржорж╛рж░ ржЬржирзНржп     тФВ
тФВ 192.168.1.50 ржЖржЫрзЗ"                  тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ
                тЖУ
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ Step 3: REQUEST (ржЪрж╛ржУржпрж╝рж╛)            тФВ
тФВ Phone: "ржзржирзНржпржмрж╛ржж! ржЖржорж┐ 192.168.1.50 тФВ
тФВ ржирж┐ржЪрзНржЫрж┐"                             тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ
                тЖУ
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ Step 4: ACK (ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рж╛)          тФВ
тФВ DHCP Server: "ржарж┐ржХ ржЖржЫрзЗ, ржирж╛ржУ ржмрзНржпржмрж╣рж╛рж░тФВ
тФВ ржХрж░рзЛред 24 ржШржирзНржЯрж╛рж░ ржЬржирзНржп ржжрж┐рж▓рж╛ржо"        тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ
                тЖУ
        тЬЕ IP ржкрзЗржпрж╝рзЗ ржЧрзЗржЫрзЗ!
```

### DHCP ржП ржпрж╛ ржпрж╛ ржжрзЗржпрж╝:
- IP Address (192.168.1.50)
- Subnet Mask (255.255.255.0)
- Default Gateway (192.168.1.1) - Router ржПрж░ IP
- DNS Server (8.8.8.8) - Google DNS

---

## рзл. DNS - Domain Name System

### DNS ржХрж┐?

ржЖржкржирж┐ ржХрж┐ ржПржнрж╛ржмрзЗ ржоржирзЗ рж░рж╛ржЦрждрзЗ ржкрж╛рж░ржмрзЗржи?
- Facebook = 31.13.66.35 тЭМ
- Google = 142.250.185.78 тЭМ

рждрж╛ржЗ DNS ржЖржЫрзЗ! ржПржЯрж╛ ржирж╛ржо тЖТ IP рждрзЗ ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рзЗред

### DNS ржХрж┐ржнрж╛ржмрзЗ ржХрж╛ржЬ ржХрж░рзЗ:

```
ржЖржкржирж┐ рж▓рж┐ржЦрж▓рзЗржи: www.facebook.com
              тЖУ
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ 1. ржЖржкржирж╛рж░ Computer DNS Server тФВ
тФВ    ржХрзЗ ржЬрж┐ржЬрзНржЮрзЗрж╕ ржХрж░рзЗ             тФВ
тФВ    "facebook.com ржПрж░ IP ржХрж┐?"   тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ
              тЖУ
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ 2. DNS Server ржЦрзБржБржЬрзЗ ржмрзЗрж░ ржХрж░рзЗ  тФВ
тФВ    "31.13.66.35"              тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ
              тЖУ
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ 3. ржЖржкржирж╛рж░ Browser рж╕рзЗржЗ IP рждрзЗ   тФВ
тФВ    Connect ржХрж░рзЗ                тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ
              тЖУ
     тЬЕ Facebook ржЦрзБрж▓рзЗ ржЧрзЗрж▓!
```

### ржЬржиржкрзНрж░рж┐ржпрж╝ DNS Server:
```
Google DNS:     8.8.8.8 ржПржмржВ 8.8.4.4
Cloudflare DNS: 1.1.1.1 ржПржмржВ 1.0.0.1
OpenDNS:        208.67.222.222
```

---

## рзм. NAT - Network Address Translation

### NAT ржХрзЗржи ржжрж░ржХрж╛рж░?

```
рж╕ржорж╕рзНржпрж╛: Public IP рж╕рзАржорж┐ржд
рж╕ржорж╛ржзрж╛ржи: ржПржХржЯрж╛ Public IP ржжрж┐ржпрж╝рзЗ ржЕржирзЗржХ ржбрж┐ржнрж╛ржЗрж╕ ржЪрж╛рж▓рж╛ржирзЛ
```

### NAT ржПрж░ ржХрж╛ржЬ:

```
     ржЖржкржирж╛рж░ ржмрж╛ржбрж╝рж┐ (Private Network)
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ                                    тФВ
тФВ  ЁЯТ╗ Laptop    ЁЯУ▒ Phone   ЁЯЦея╕П PC     тФВ
тФВ  192.168.1.5  192.168.1.6  .1.7   тФВ
тФВ              тЖУ                     тФВ
тФВ         тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР               тФВ
тФВ         тФВ  Router  тФВ               тФВ
тФВ         тФВ(NAT Box) тФВ               тФВ
тФВ         тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ               тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ
              тЖУ
    Public IP: 103.58.73.10
              тЖУ
          ЁЯМР Internet

NAT Table (Router ржП):
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФР
тФВPrivate IP   тФВPublic IP:PortтФВServiceтФВ
тФЬтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФАтФАтФд
тФВ192.168.1.5  тФВ103.58.73.10  тФВYouTubeтФВ
тФВ             тФВ:50001        тФВ       тФВ
тФЬтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФАтФАтФд
тФВ192.168.1.6  тФВ103.58.73.10  тФВFacebkтФВ
тФВ             тФВ:50002        тФВ       тФВ
тФЬтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФАтФАтФд
тФВ192.168.1.7  тФВ103.58.73.10  тФВGoogleтФВ
тФВ             тФВ:50003        тФВ       тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФАтФШ
```

---

## рзн. Port Number - ржмрж┐рж╕рзНрждрж╛рж░рж┐ржд

### Port ржХрж┐?

IP Address = ржмрж╛ржбрж╝рж┐рж░ ржарж┐ржХрж╛ржирж╛
Port Number = ржмрж╛ржбрж╝рж┐рж░ ржжрж░ржЬрж╛/ржЬрж╛ржирж╛рж▓рж╛

```
192.168.1.10:80
тФВ           тФВ тФФтФАтФА Port Number (ржжрж░ржЬрж╛ ржиржорзНржмрж░)
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШтФАтФА IP Address (ржмрж╛ржбрж╝рж┐)
```

### ржЬржиржкрзНрж░рж┐ржпрж╝ Port ржирж╛ржорзНржмрж╛рж░:

```
Web Browsing:
- HTTP:  Port 80
- HTTPS: Port 443

Email:
- SMTP: Port 25 (ржкрж╛ржарж╛ржирзЛ)
- POP3: Port 110 (ржирзЗржУржпрж╝рж╛)
- IMAP: Port 143 (ржирзЗржУржпрж╝рж╛)

File Transfer:
- FTP: Port 21
- SSH: Port 22

Others:
- DNS: Port 53
- DHCP: Port 67, 68
- Telnet: Port 23
```

### ржПржХржЗ рж╕ржоржпрж╝рзЗ ржЕржирзЗржХ ржХрж╛ржЬ:

```
ржЖржкржирж╛рж░ PC: 192.168.1.10
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ Port 80:  Chrome (YouTube)  тФВ
тФВ Port 443: Firefox (Facebook)тФВ
тФВ Port 25:  Email ржкрж╛ржарж╛ржЪрзНржЫрзЗ     тФВ
тФВ Port 22:  File Download      тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ

ржПржХржЗ IP, ржЖрж▓рж╛ржжрж╛ ржЖрж▓рж╛ржжрж╛ Port = ржЖрж▓рж╛ржжрж╛ ржЖрж▓рж╛ржжрж╛ ржХрж╛ржЬ!
```

---

## рзо. Static vs Dynamic IP

### Static IP (рж╕рзНржерж╛ржпрж╝рзА):
```
тЬЕ рж╕рзБржмрж┐ржзрж╛:
- рж╕ржм рж╕ржоржпрж╝ ржПржХржЗ ржерж╛ржХрзЗ
- Server, Website ржПрж░ ржЬржирзНржп ржнрж╛рж▓рзЛ
- Remote Access рж╕рж╣ржЬ

тЭМ ржЕрж╕рзБржмрж┐ржзрж╛:
- ржжрж╛ржо ржмрзЗрж╢рж┐
- ржорзНржпрж╛ржирзБржпрж╝рж╛рж▓рж┐ рж╕рзЗржЯ ржХрж░рждрзЗ рж╣ржпрж╝

ржХрзЛржерж╛ржпрж╝ ржмрзНржпржмрж╣рж╛рж░:
ЁЯПв Office Server
ЁЯМР Website Hosting
ЁЯОо Gaming Server
ЁЯУ╣ CCTV/Security System
```

### Dynamic IP (ржкрж░рж┐ржмрж░рзНрждржирж╢рзАрж▓):
```
тЬЕ рж╕рзБржмрж┐ржзрж╛:
- рж╕рзНржмржпрж╝ржВржХрзНрж░рж┐ржпрж╝ ржкрж╛ржУржпрж╝рж╛ ржпрж╛ржпрж╝
- ржЦрж░ржЪ ржХржо
- ржирж┐рж░рж╛ржкржж (ржмржжрж▓рж╛ржпрж╝ ржмрж▓рзЗ)

тЭМ ржЕрж╕рзБржмрж┐ржзрж╛:
- ржмрж╛рж░ ржмрж╛рж░ ржкрж░рж┐ржмрж░рзНрждржи рж╣ржпрж╝
- Server ржЪрж╛рж▓рж╛ржирзЛ ржХржарж┐ржи

ржХрзЛржерж╛ржпрж╝ ржмрзНржпржмрж╣рж╛рж░:
ЁЯПа ржмрж╛ржбрж╝рж┐рж░ Wi-Fi
ЁЯУ▒ ржорзЛржмрж╛ржЗрж▓ Internet
ЁЯТ╗ рж╕рж╛ржзрж╛рж░ржг ржХржорзНржкрж┐ржЙржЯрж╛рж░
```

---

## рзп. IPv4 vs IPv6 - рждрзБрж▓ржирж╛

```
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ ржмрж┐рж╖ржпрж╝        тФВ IPv4             тФВ IPv6             тФВ
тФЬтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФд
тФВ ржЖржХрж╛рж░        тФВ 32 bit           тФВ 128 bit          тФВ
тФВ             тФВ                  тФВ                  тФВ
тФВ ржЙржжрж╛рж╣рж░ржг      тФВ 192.168.1.1      тФВ 2001:db8::1      тФВ
тФВ             тФВ                  тФВ                  тФВ
тФВ ржХрждржЧрзБрж▓рзЛ IP   тФВ 4 ржмрж┐рж▓рж┐ржпрж╝ржи        тФВ 340 undecillion  тФВ
тФВ             тФВ (рж╢рзЗрж╖ рж╣ржпрж╝рзЗ ржпрж╛ржЪрзНржЫрзЗ)тФВ (ржХржЦржирзЛ рж╢рзЗрж╖ рж╣ржмрзЗржирж╛)тФВ
тФВ             тФВ                  тФВ                  тФВ
тФВ рж▓рзЗржЦрж╛рж░ ржкржжрзНржзрждрж┐тФВ Decimal (ржжрж╢ржорж┐ржХ) тФВ Hexadecimal      тФВ
тФВ             тФВ 192.168.1.1      тФВ (рззрзм-ржнрж┐рждрзНрждрж┐ржХ)    тФВ
тФВ             тФВ                  тФВ                  тФВ
тФВ NAT ржжрж░ржХрж╛рж░   тФВ рж╣рзНржпрж╛ржБ             тФВ ржирж╛               тФВ
тФВ             тФВ                  тФВ                  тФВ
тФВ ржирж┐рж░рж╛ржкрждрзНрждрж╛    тФВ Optional         тФВ Built-in (IPSec) тФВ
тФВ             тФВ                  тФВ                  тФВ
тФВ ржЧрждрж┐         тФВ ржнрж╛рж▓рзЛ             тФВ ржЖрж░рзЛ ржнрж╛рж▓рзЛ        тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ
```

---

## рззрзж. IP Address Security - ржирж┐рж░рж╛ржкрждрзНрждрж╛

### ржЖржкржирж╛рж░ IP ржжрж┐ржпрж╝рзЗ ржХрж┐ рж╣рждрзЗ ржкрж╛рж░рзЗ?

```
тЬЕ ржирж┐рж░рж╛ржкржж рждржерзНржп:
- ржЖржкржирж╛рж░ ржПрж▓рж╛ржХрж╛ ржЬрж╛ржирж╛ ржпрж╛ржпрж╝ (рж╢рж╣рж░)
- ISP ржХрзЛржиржЯрж╛ ржЬрж╛ржирж╛ ржпрж╛ржпрж╝

тЪая╕П ржЭрзБржБржХрж┐:
- DDoS Attack (ржЕржирзЗржХ Request ржкрж╛ржарж┐ржпрж╝рзЗ ржмржирзНржз ржХрж░рж╛)
- Location Tracking
- Hacking ржПрж░ ржЪрзЗрж╖рзНржЯрж╛

ЁЯЫбя╕П рж╕рзБрж░ржХрзНрж╖рж╛:
1. VPN ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзБржи
2. Firewall ржЪрж╛рж▓рзБ рж░рж╛ржЦрзБржи
3. Public Wi-Fi рждрзЗ рж╕рждрж░рзНржХ ржерж╛ржХрзБржи
4. Unknown Link ржП Click ржХрж░ржмрзЗржи ржирж╛
```

### VPN ржХрж┐ржнрж╛ржмрзЗ ржХрж╛ржЬ ржХрж░рзЗ:

```
VPN ржЫрж╛ржбрж╝рж╛:
ржЖржкржирж┐ тЖТ ISP тЖТ Website
(ржЖржкржирж╛рж░ ржЖрж╕рж▓ IP ржжрзЗржЦрж╛ ржпрж╛ржпрж╝)

VPN ржжрж┐ржпрж╝рзЗ:
ржЖржкржирж┐ тЖТ VPN Server тЖТ Website
(VPN Server ржПрж░ IP ржжрзЗржЦрж╛ ржпрж╛ржпрж╝, ржЖржкржирж╛рж░ ржирж╛)

ржЙржжрж╛рж╣рж░ржг:
ржЖрж╕рж▓ IP: 103.58.73.10 (Bangladesh)
          тЖУ
VPN ржЪрж╛рж▓рзБ ржХрж░рж▓рзЗржи
          тЖУ
ржирждрзБржи IP: 185.25.50.100 (USA)
```

---

## рззрзз. Troubleshooting - рж╕ржорж╕рзНржпрж╛ рж╕ржорж╛ржзрж╛ржи

### ржЗржирзНржЯрж╛рж░ржирзЗржЯ ржХрж╛ржЬ ржХрж░ржЫрзЗ ржирж╛?

```
ржзрж╛ржк рзз: IP Check ржХрж░рзБржи
CMD тЖТ ipconfig
тЬЕ IP ржЖржЫрзЗ: 192.168.1.10 тЖТ ржнрж╛рж▓рзЛ
тЭМ IP: 169.254.x.x тЖТ DHCP рж╕ржорж╕рзНржпрж╛

ржзрж╛ржк рзи: Gateway Ping ржХрж░рзБржи
CMD тЖТ ping 192.168.1.1
тЬЕ Reply ржкрж╛ржЪрзНржЫрзЗржи тЖТ Router OK
тЭМ Request timeout тЖТ Router рж╕ржорж╕рзНржпрж╛

ржзрж╛ржк рзй: DNS Check ржХрж░рзБржи
CMD тЖТ ping 8.8.8.8
тЬЕ Reply тЖТ Internet OK
тЭМ No reply тЖТ ISP рж╕ржорж╕рзНржпрж╛

ржзрж╛ржк рзк: Website Ping ржХрж░рзБржи
CMD тЖТ ping google.com
тЬЕ Reply тЖТ рж╕ржм ржарж┐ржХ
тЭМ No reply тЖТ DNS рж╕ржорж╕рзНржпрж╛
```

### рж╕рж╛ржзрж╛рж░ржг ржХржорж╛ржирзНржб:

```
Windows:
ipconfig        тЖТ IP ржжрзЗржЦрзБржи
ipconfig /all   тЖТ ржмрж┐рж╕рзНрждрж╛рж░рж┐ржд рждржерзНржп
ipconfig /renew тЖТ ржирждрзБржи IP ржирж┐ржи
ping 8.8.8.8    тЖТ Internet test
tracert google.com тЖТ Route ржжрзЗржЦрзБржи
nslookup google.com тЖТ DNS check

Android/iPhone:
Settings тЖТ Wi-Fi тЖТ Network Details
```

---


# Layer 2: Data Link Layer - рж╕ржорзНржкрзВрж░рзНржг ржмрж┐рж╕рзНрждрж╛рж░рж┐ржд ржирзЛржЯ

## ЁЯУЪ ржмрж┐рж╖ржпрж╝рж╕рзВржЪрж┐ (Table of Contents)

1. Data Link Layer ржПрж░ ржкрж░рж┐ржЪржпрж╝
2. MAC Address - рж╕ржорзНржкрзВрж░рзНржг ржмрж┐рж╢рзНрж▓рзЗрж╖ржг
3. Ethernet Frame Structure
4. Switch ржПрж░ ржХрж╛рж░рзНржпржкрзНрж░ржгрж╛рж▓рзА
5. Error Detection & Correction
6. Flow Control
7. Access Control Methods
8. ржмрж╛рж╕рзНрждржм ржЙржжрж╛рж╣рж░ржг ржУ Scenarios
9. ржмрж┐рж╢рзЗрж╖ Topics

---

## ЁЯОп Part 1: Data Link Layer ржПрж░ ржкрж░рж┐ржЪржпрж╝

### Data Link Layer ржХрж┐?

```
OSI Model:
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ 7. Application      тФВ
тФВ 6. Presentation     тФВ
тФВ 5. Session          тФВ
тФВ 4. Transport        тФВ
тФВ 3. Network          тФВ
тФВ 2. Data Link тЧДтФАтФАтФАтФАтФАтФАтФВ ржЖржорж░рж╛ ржПржЦрж╛ржирзЗ
тФВ 1. Physical         тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ
```

### ржорзВрж▓ ржжрж╛ржпрж╝рж┐рждрзНржм:

**рзз. Node-to-Node Delivery:**
- рж╕рж░рж╛рж╕рж░рж┐ рж╕ржВржпрзБржХрзНржд ржжрзБржЗ ржбрж┐ржнрж╛ржЗрж╕рзЗрж░ ржоржзрзНржпрзЗ data ржкрж╛ржарж╛ржирзЛ
- Physical addressing (MAC) ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ

**рзи. Framing:**
- Network layer ржерзЗржХрзЗ packets ржирж┐ржпрж╝рзЗ frames ржмрж╛ржирж╛ржирзЛ
- Header ржУ Trailer ржпрзЛржЧ ржХрж░рж╛

**рзй. Error Detection:**
- Transmission ржП error рж╣ржпрж╝рзЗржЫрзЗ ржХрж┐ржирж╛ check ржХрж░рж╛
- Corrupted frames ржмрж╛рждрж┐рж▓ ржХрж░рж╛

**рзк. Flow Control:**
- Sender ржУ Receiver ржПрж░ ржоржзрзНржпрзЗ speed рж╕ржоржирзНржмржпрж╝

**рзл. Access Control:**
- Shared medium ржП ржХрзЗ ржХржЦржи ржкрж╛ржарж╛ржмрзЗ рждрж╛ ржирж┐ржпрж╝ржирзНрждрзНрж░ржг

### Two Sub-layers:

```
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ   LLC (Logical Link Control)   тФВ
тФВ   - Error Control              тФВ
тФВ   - Flow Control               тФВ
тФВ   - Framing                    тФВ
тФЬтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФд
тФВ   MAC (Media Access Control)   тФВ
тФВ   - Physical Addressing        тФВ
тФВ   - Access Control             тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ
```

**LLC (Logical Link Control):**
```
ржХрж╛ржЬ:
- Network Layer ржПрж░ рж╕рж╛ржерзЗ interface ржХрж░рзЗ
- Error checking ржПржмржВ recovery
- Flow control maintain ржХрж░рзЗ
- Protocol multiplexing

IEEE 802.2 standard ржЕржирзБрж╕рж░ржг ржХрж░рзЗ
```

**MAC (Media Access Control):**
```
ржХрж╛ржЬ:
- Frame assembly/disassembly
- MAC addressing
- Media access management
- Error detection (CRC ржпрзЛржЧ ржХрж░рзЗ)

ржмрж┐ржнрж┐ржирзНржи standard:
- IEEE 802.3 (Ethernet)
- IEEE 802.11 (Wi-Fi)
- IEEE 802.15 (Bluetooth)
```

---

## ЁЯФв Part 2: MAC Address - рж╕ржорзНржкрзВрж░рзНржг ржмрж┐рж╢рзНрж▓рзЗрж╖ржг

### MAC Address ржХрж┐?

```
MAC = Media Access Control Address
ржЕржирзНржп ржирж╛ржо:
- Physical Address
- Hardware Address
- Burned-in Address (BIA)
- Ethernet Address
```

### MAC Address ржПрж░ ржЧржаржи:

```
Total: 48 bits = 6 bytes = 12 Hexadecimal digits

Format 1 (рж╕рж╛ржзрж╛рж░ржг): AA:BB:CC:DD:EE:FF
Format 2 (Cisco):   AABB.CCDD.EEFF
Format 3 (Windows): AA-BB-CC-DD-EE-FF

Binary рждрзЗ:
10101010 10111011 11001100 11011101 11101110 11111111
```

### OUI ржПржмржВ NIC ржмрж┐ржнрж╛ржЧ:

```
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ           48-bit MAC Address                    тФВ
тФЬтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФд
тФВ   OUI (24 bits)        тФВ   NIC (24 bits)        тФВ
тФВ Organizationally       тФВ Network Interface      тФВ
тФВ Unique Identifier      тФВ Controller Specific    тФВ
тФЬтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФд
тФВ    AA : BB : CC        тФВ    DD : EE : FF        тФВ
тФВ   (Manufacturer)       тФВ   (Device Number)      тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ
```

**ржмрж┐ржЦрзНржпрж╛ржд ржирж┐рж░рзНржорж╛рждрж╛ржжрзЗрж░ OUI:**

```
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ Company      тФВ OUI Prefix      тФВ
тФЬтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФд
тФВ Cisco        тФВ 00:1A:A1        тФВ
тФВ Dell         тФВ 00:14:22        тФВ
тФВ HP           тФВ 00:1E:0B        тФВ
тФВ Apple        тФВ AC:DE:48        тФВ
тФВ Intel        тФВ 00:1B:21        тФВ
тФВ D-Link       тФВ 00:1B:11        тФВ
тФВ TP-Link      тФВ EC:08:6B        тФВ
тФВ Huawei       тФВ 00:E0:FC        тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ
```

### MAC Address ржПрж░ ржкрзНрж░ржержо Byte ржмрж┐рж╢рзНрж▓рзЗрж╖ржг:

```
Binary: 10101010 (AA in hex)
        тФВтФВтФВтФВтФВтФВтФВтФВ
        тФВтФВтФВтФВтФВтФВтФВтФФтФА Bit 0 (LSB)
        тФВтФВтФВтФВтФВтФВтФФтФАтФА Bit 1
        тФВтФВтФВтФВтФВтФФтФАтФАтФА Bit 2
        тФВтФВтФВтФВтФФтФАтФАтФАтФА Bit 3
        тФВтФВтФВтФФтФАтФАтФАтФАтФА Bit 4
        тФВтФВтФФтФАтФАтФАтФАтФАтФА Bit 5
        тФВтФФтФАтФАтФАтФАтФАтФАтФА Bit 6
        тФФтФАтФАтФАтФАтФАтФАтФАтФА Bit 7 (MSB)

Important Bits:
Bit 0 (LSB): I/G bit (Individual/Group)
  - 0 = Unicast (ржПржХржХ ржбрж┐ржнрж╛ржЗрж╕)
  - 1 = Multicast (ржПржХрж╛ржзрж┐ржХ ржбрж┐ржнрж╛ржЗрж╕)

Bit 1: U/L bit (Universal/Local)
  - 0 = Globally Unique (ржирж┐рж░рзНржорж╛рждрж╛ assigned)
  - 1 = Locally Administered (manually set)
```

### MAC Address ржПрж░ ржкрзНрж░ржХрж╛рж░ржнрзЗржж:

**1. Unicast MAC Address:**
```
Example: A0:B1:C2:D3:E4:F5
Binary first byte: 10100000 (Bit 0 = 0)

ржмрзНржпржмрж╣рж╛рж░:
- ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржПржХржЯрж┐ device ржХрзЗ ржкрж╛ржарж╛ржирзЛрж░ ржЬржирзНржп
- рж╕ржмржЪрзЗржпрж╝рзЗ рж╕рж╛ржзрж╛рж░ржг type

ржХрж┐ржнрж╛ржмрзЗ ржЪрж┐ржиржмрзЗржи:
- ржкрзНрж░ржержо byte ржПрж░ рж╢рзЗрж╖ bit = 0
- Example: A0, 02, 44, 66, 88, AA, CC, EE
```

**2. Multicast MAC Address:**
```
Example: 01:00:5E:7F:00:01
Binary first byte: 00000001 (Bit 0 = 1)

ржмрзНржпржмрж╣рж╛рж░:
- ржПржХржЗ group ржПрж░ ржПржХрж╛ржзрж┐ржХ device
- Video streaming, IPTV
- Routing protocols (OSPF, EIGRP)

IPv4 Multicast MAC ржмрж╛ржирж╛ржирзЛрж░ ржирж┐ржпрж╝ржо:
Step 1: 01:00:5E ржжрж┐ржпрж╝рзЗ рж╢рзБрж░рзБ (fixed)
Step 2: IP Multicast ржПрж░ рж╢рзЗрж╖ 23 bits ржирж┐ржпрж╝рзЗ ржмрж╛ржХрж┐ рждрзИрж░рж┐

Example:
IP: 224.0.0.1 (OSPF All Routers)
MAC: 01:00:5E:00:00:01

ржХрж┐ржнрж╛ржмрзЗ ржЪрж┐ржиржмрзЗржи:
- ржкрзНрж░ржержо byte = odd number
- Example: 01, 03, 05, 07, 09, 0B, 0D, 0F
```

**3. Broadcast MAC Address:**
```
Address: FF:FF:FF:FF:FF:FF
Binary: рж╕ржм bits = 1

ржмрзНржпржмрж╣рж╛рж░:
- Network ржПрж░ рж╕ржм device ржХрзЗ ржПржХрж╕рж╛ржерзЗ ржкрж╛ржарж╛ржирзЛ
- ARP requests
- DHCP Discovery
- NetBIOS name resolution

ржмрзИрж╢рж┐рж╖рзНржЯрзНржп:
- рж╢рзБржзрзБржорж╛рждрзНрж░ ржПржХржЯрж┐ broadcast MAC ржЖржЫрзЗ
- Local network ржПрж░ ржоржзрзНржпрзЗ рж╕рзАржорж╛ржмржжрзНржз
- Router broadcast forward ржХрж░рзЗ ржирж╛
```

### Locally Administered vs Globally Unique:

**Globally Unique (Universal):**
```
Example: 00:1A:2B:3C:4D:5E
Binary first byte: 00000000 (Bit 1 = 0)

ржмрзИрж╢рж┐рж╖рзНржЯрзНржп:
- Manufacturer assign ржХрж░рзЗ
- Worldwide unique guarantee
- ROM ржП burned ржерж╛ржХрзЗ
- ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рж╛ ржпрж╛ржпрж╝ ржирж╛ (hardware level)
```

**Locally Administered:**
```
Example: 02:1A:2B:3C:4D:5E
Binary first byte: 00000010 (Bit 1 = 1)

ржмрзИрж╢рж┐рж╖рзНржЯрзНржп:
- User/Admin manually set ржХрж░рзЗ
- Virtual interfaces (VLAN, VPN)
- MAC spoofing
- Duplicate рж╣рждрзЗ ржкрж╛рж░рзЗ (same network ржП рж╕ржорж╕рзНржпрж╛)

ржХржЦржи ржмрзНржпржмрж╣рж╛рж░ рж╣ржпрж╝:
- Virtual machines
- Docker containers
- VPN interfaces
- Load balancers
```

### MAC Address ржХрж┐ржнрж╛ржмрзЗ ржжрзЗржЦржмрзЗржи:

**Windows:**
```bash
Command Prompt ржП:
ipconfig /all

Output:
Physical Address. . . . . . . . . : AA-BB-CC-DD-EE-FF

ржЕржержмрж╛:
getmac /v /fo list
```

**Linux:**
```bash
Terminal ржП:
ifconfig

Output:
ether aa:bb:cc:dd:ee:ff

ржЕржержмрж╛:
ip link show
ip addr show
```

**Mac OS:**
```bash
Terminal ржП:
ifconfig en0 | grep ether

ржЕржержмрж╛:
networksetup -getmacaddress Wi-Fi
```

**Router/Switch (Cisco):**
```bash
Router# show interfaces
Router# show arp
Switch# show mac address-table
```

### MAC Address ржкрж░рж┐ржмрж░рзНрждржи (MAC Spoofing):

**Windows ржП:**
```
1. Device Manager тЖТ Network Adapter
2. Properties тЖТ Advanced
3. "Network Address" ржмрж╛ "Locally Administered Address"
4. ржирждрзБржи MAC enter ржХрж░рзБржи
5. Restart network adapter
```

**Linux ржП:**
```bash
# Interface down ржХрж░рзБржи
sudo ifconfig eth0 down

# ржирждрзБржи MAC set ржХрж░рзБржи
sudo ifconfig eth0 hw ether 00:11:22:33:44:55

# Interface up ржХрж░рзБржи
sudo ifconfig eth0 up

ржЕржержмрж╛ (macchanger tool):
sudo macchanger -m 00:11:22:33:44:55 eth0
sudo macchanger -r eth0  # Random MAC
```

**ржХрзЗржи MAC spoofing ржХрж░рж╛ рж╣ржпрж╝:**
```
Legitimate ржмрзНржпржмрж╣рж╛рж░:
- Privacy protection
- Network testing
- Bypass MAC filtering
- Virtual environments

Malicious ржмрзНржпржмрж╣рж╛рж░:
- Identity theft
- Bypass security
- Network attacks (ARP spoofing)

ржирзИрждрж┐ржХ ржжрж┐ржХ:
- ржирж┐ржЬрзЗрж░ network ржП = ржарж┐ржХ ржЖржЫрзЗ
- ржЕржирзНржпрзЗрж░ network ржП = illegal
```

---

## ЁЯУж Part 3: Ethernet Frame Structure

### Ethernet Frame - рж╕ржорзНржкрзВрж░рзНржг ржЧржаржи:

```
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ Preamble тФВ SFD тФВ  Dest.    тФВ  Source   тФВ Type/тФВ Data тФВ Pad тФВ  FCS   тФВ
тФВ 7 bytes  тФВ1 byteтФВ   MAC     тФВ   MAC     тФВLengthтФВ      тФВ     тФВ4 bytes тФВ
тФВ          тФВ     тФВ  6 bytes  тФВ  6 bytes  тФВ2 byteтФВ46-1500тФВ    тФВ        тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФАтФАтФАтФШ
   56 bits   8 bits  48 bits    48 bits   16 bits  Variable  32 bits

Total Frame Size: 64 bytes ржерзЗржХрзЗ 1518 bytes
(Preamble ржУ SFD ржмрж╛ржжрзЗ: 64-1518 bytes)
```

### ржкрзНрж░рждрж┐ржЯрж┐ Field ржПрж░ ржмрж┐рж╕рзНрждрж╛рж░рж┐ржд:

---

#### 1. Preamble (ржкрзНрж░рж╕рзНрждрж╛ржмржирж╛) - 7 bytes

```
Pattern: 10101010 10101010 10101010 10101010 10101010 10101010 10101010
         (56 bits of alternating 1s and 0s)

Hexadecimal: AA AA AA AA AA AA AA

ржЙржжрзНржжрзЗрж╢рзНржп:
1. Clock Synchronization:
   - Sender ржУ Receiver ржПрж░ clock align ржХрж░рзЗ
   - Timing reference рждрзИрж░рж┐ ржХрж░рзЗ

2. Signal Stabilization:
   - Physical layer ржПрж░ signal settle рж╣рждрзЗ ржжрзЗржпрж╝
   - Receiver ржПрж░ circuitry prepare ржХрж░рзЗ

3. Bit Pattern Recognition:
   - Receiver ржмрзБржЭрждрзЗ ржкрж╛рж░рзЗ data ржЖрж╕ржЫрзЗ
   - Automatic Gain Control (AGC) adjust ржХрж░рзЗ

ржХрзЗржи 10101010 pattern:
- Maximum transition (0тЖТ1, 1тЖТ0)
- Clock recovery рж╕рж╣ржЬ
- Signal quality test ржХрж░рж╛ ржпрж╛ржпрж╝
```

#### 2. SFD (Start Frame Delimiter) - 1 byte

```
Pattern: 10101011
Hexadecimal: AB

ржЙржжрзНржжрзЗрж╢рзНржп:
1. Frame ржПрж░ ржкрзНрж░ржХрзГржд рж╢рзБрж░рзБ ржирж┐рж░рзНржжрзЗрж╢ ржХрж░рзЗ
2. Preamble рж╢рзЗрж╖ рж╣ржпрж╝рзЗржЫрзЗ ржмрзБржЭрж╛ржпрж╝
3. рж╢рзЗрж╖рзЗрж░ ржжрзБржЗ bit (11) ржжрж┐ржпрж╝рзЗ signal ржжрзЗржпрж╝ ржпрзЗ ржПржЦржи data ржЖрж╕ржмрзЗ

Receiver ржПрж░ action:
- ржПржЗ byte ржжрзЗржЦрж▓рзЗржЗ ржкрж░ржмрж░рзНрждрзА byte ржерзЗржХрзЗ MAC address ржкржбрж╝рж╛ рж╢рзБрж░рзБ ржХрж░рзЗ
- Timing adjustment рж╕ржорзНржкрзВрж░рзНржг ржХрж░рзЗ
```

#### 3. Destination MAC Address - 6 bytes

```
Example: 00:1A:2B:3C:4D:5E
Size: 48 bits = 6 bytes

ржХрж╛ржЬ:
1. Frame ржХрзЛржерж╛ржпрж╝ ржпрж╛ржмрзЗ рждрж╛ ржирж┐рж░рзНржжрзЗрж╢ ржХрж░рзЗ
2. Switch ржПржЗ address ржжрзЗржЦрзЗ forwarding decision ржирзЗржпрж╝
3. Network card ржПржЯрж┐ match ржХрж░рзЗ frame receive ржХрж░ржмрзЗ ржХрж┐ржирж╛ decide ржХрж░рзЗ

ржкрзНрж░ржХрж╛рж░ржнрзЗржж:
- Unicast: ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржПржХржЯрж┐ device
- Multicast: ржПржХрж╛ржзрж┐ржХ device (group)
- Broadcast: FF:FF:FF:FF:FF:FF (рж╕ржмрж╛ржЗ)

Receiver ржПрж░ check:
if (Dest_MAC == My_MAC || Dest_MAC == Broadcast || Dest_MAC == Subscribed_Multicast)
    Accept frame
else
    Discard frame
```

#### 4. Source MAC Address - 6 bytes

```
Example: A1:B2:C3:D4:E5:F6
Size: 48 bits = 6 bytes

ржХрж╛ржЬ:
1. Frame ржХрзЛржерж╛ ржерзЗржХрзЗ ржПрж╕рзЗржЫрзЗ рждрж╛ ржЬрж╛ржирж╛ржпрж╝
2. Reply ржкрж╛ржарж╛ржирзЛрж░ ржЬржирзНржп address provide ржХрж░рзЗ
3. Switch ржПржЯрж┐ ржжрзЗржЦрзЗ MAC table update ржХрж░рзЗ
4. Security ржУ monitoring ржП ржмрзНржпржмрж╣рж╛рж░ рж╣ржпрж╝

Switch ржПрж░ ржХрж╛ржЬ:
1. Source MAC ржкржбрж╝рзЗ
2. ржХрзЛржи port ржерзЗржХрзЗ ржПрж╕рзЗржЫрзЗ note ржХрж░рзЗ
3. MAC Address Table ржП entry ржпрзЛржЧ/update ржХрж░рзЗ
4. Aging timer reset ржХрж░рзЗ

ARP Cache ржП ржмрзНржпржмрж╣рж╛рж░:
- IP-to-MAC mapping рждрзИрж░рж┐ рж╣ржпрж╝
- Future communication рж╕рж╣ржЬ рж╣ржпрж╝
```

#### 5. Type/Length Field - 2 bytes

```
Size: 16 bits = 2 bytes

ржжрзБржЗ ржзрж░ржирзЗрж░ ржмрзНржпржмрж╣рж╛рж░:

A) EtherType (ржпржжрж┐ ржорж╛ржи тЙе 1536 ржмрж╛ 0x0600):
   тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
   тФВ Value    тФВ Protocol                  тФВ
   тФЬтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФд
   тФВ 0x0800   тФВ IPv4                      тФВ
   тФВ 0x0806   тФВ ARP                       тФВ
   тФВ 0x0842   тФВ Wake-on-LAN               тФВ
   тФВ 0x86DD   тФВ IPv6                      тФВ
   тФВ 0x8100   тФВ VLAN-tagged frame (802.1Q)тФВ
   тФВ 0x88CC   тФВ LLDP                      тФВ
   тФВ 0x8863   тФВ PPPoE Discovery           тФВ
   тФВ 0x8864   тФВ PPPoE Session             тФВ
   тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ

B) Length (ржпржжрж┐ ржорж╛ржи тЙд 1500):
   - Data field ржПрж░ actual length ржирж┐рж░рзНржжрзЗрж╢ ржХрж░рзЗ
   - IEEE 802.3 frame ржП ржмрзНржпржмрж╣рж╛рж░ рж╣ржпрж╝
   - LLC header ржерж╛ржХрзЗ data ржПрж░ рж╢рзБрж░рзБрждрзЗ

Example Analysis:
0x0800 = IPv4 packet inside
0x0806 = ARP request/reply inside
0x05DC (1500 decimal) = 1500 bytes data
```

#### 6. Data/Payload - 46 to 1500 bytes

```
Minimum: 46 bytes
Maximum: 1500 bytes (MTU - Maximum Transmission Unit)

Content:
- Network layer packet (IP packet)
- LLC header (802.3 frames ржП)
- Upper layer data

Minimum Size Requirement:
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ ржХрзЗржи minimum 46 bytes?                   тФВ
тФЬтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФд
тФВ Ethernet collision detection ржПрж░ ржЬржирзНржп  тФВ
тФВ Minimum frame = 64 bytes ржжрж░ржХрж╛рж░        тФВ
тФВ                                         тФВ
тФВ Calculation:                            тФВ
тФВ Dest MAC (6) + Source MAC (6) +        тФВ
тФВ Type (2) + Data (46) + FCS (4) = 64    тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ

ржпржжрж┐ data < 46 bytes:
- Padding ржпрзЛржЧ ржХрж░рж╛ рж╣ржпрж╝ (0x00 bytes)
- Example: 30 bytes data тЖТ 16 bytes padding ржпрзЛржЧ

тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ Actual Data: 30 bytes        тФВ
тФВ Padding: 16 bytes (0x00...)  тФВ
тФВ Total: 46 bytes тЬУ            тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ

Maximum Size (MTU):
- Standard Ethernet: 1500 bytes
- Jumbo Frames: 9000 bytes (special config)
- Baby Giant: 2000 bytes (some vendors)

ржпржжрж┐ data > MTU:
Network layer ржП fragmentation рж╣ржпрж╝
```

#### 7. Frame Check Sequence (FCS) - 4 bytes

```
Size: 32 bits = 4 bytes
Algorithm: CRC-32 (Cyclic Redundancy Check)

ржХрж╛ржЬ:
- Error detection
- Data integrity verification
- Corruption check

CRC-32 Generation Process:

Step 1: Input
Frame = Dest MAC + Source MAC + Type + Data
(FCS ржЫрж╛ржбрж╝рж╛ ржмрж╛ржХрж┐ рж╕ржм)

Step 2: Polynomial
Generator Polynomial (G): 
x┬│┬▓ + x┬▓тБ╢ + x┬▓┬│ + x┬▓┬▓ + x┬╣тБ╢ + x┬╣┬▓ + x┬╣┬╣ + x┬╣тБ░ + xтБ╕ + xтБ╖ + xтБ╡ + xтБ┤ + x┬▓ + x + 1

Binary: 100000100110000010001110110110111
(33 bits)

Step 3: Calculation
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ Sender:                             тФВ
тФВ 1. Frame data ржПрж░ рж╢рзЗрж╖рзЗ 32 bits      тФВ
тФВ    zero append ржХрж░рзЗ                 тФВ
тФВ 2. Generator ржжрж┐ржпрж╝рзЗ binary division  тФВ
тФВ    (XOR operation)                  тФВ
тФВ 3. Remainder = FCS (32 bits)       тФВ
тФВ 4. Original frame + FCS ржкрж╛ржарж╛ржпрж╝     тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ

тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ Receiver:                           тФВ
тФВ 1. ржкрзБрж░рзЛ frame (data + FCS) ржирж┐ржпрж╝рзЗ   тФВ
тФВ    ржПржХржЗ division ржХрж░рзЗ               тФВ
тФВ 2. Remainder check ржХрж░рзЗ:           тФВ
тФВ    - Remainder = 0 тЖТ рж╕ржарж┐ржХ тЬУ        тФВ
тФВ    - Remainder тЙа 0 тЖТ error тЬЧ       тФВ
тФВ 3. Error ржерж╛ржХрж▓рзЗ frame discard      тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ

Example (Simplified):
Data: 11010011101100
Generator: 1011 (4-bit example)

Sender:
11010011101100 + 000 (append 3 zeros)
= 11010011101100000

Divide by 1011:
Remainder (CRC) = 100

Send: 11010011101100100

Receiver:
11010011101100100 ├╖ 1011
Remainder = 0 тЖТ Valid! тЬУ

Error Detection Capability:
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ Error Type            тФВ DetectionтФВ
тФЬтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФд
тФВ Single bit error      тФВ 100%     тФВ
тФВ Two bit errors        тФВ 100%     тФВ
тФВ Odd number of errors  тФВ 100%     тФВ
тФВ Burst тЙд 32 bits      тФВ 100%     тФВ
тФВ Burst > 32 bits      тФВ 99.99%   тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ
```

### Frame Sizes Summary:

```
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ Ethernet Frame Size Specifications             тФВ
тФЬтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФд
тФВ Minimum Frame (with Preamble): 72 bytes       тФВ
тФВ Minimum Frame (without Preamble): 64 bytes    тФВ
тФВ Maximum Frame (with Preamble): 1526 bytes     тФВ
тФВ Maximum Frame (without Preamble): 1518 bytes  тФВ
тФВ                                                тФВ
тФВ Data Field:                                    тФВ
тФВ Minimum: 46 bytes (padding ржпрзЛржЧ рж╣рждрзЗ ржкрж╛рж░рзЗ)      тФВ
тФВ Maximum: 1500 bytes (Standard MTU)             тФВ
тФВ                                                тФВ
тФВ Overhead:                                      тФВ
тФВ Headers: 18 bytes (Dest+Src+Type+FCS)         тФВ
тФВ With Preamble/SFD: 26 bytes                   тФВ
тФВ                                                тФВ
тФВ Efficiency:                                    тФВ
тФВ Best case: 1500/1518 = 98.8%                  тФВ
тФВ Worst case: 46/64 = 71.9%                     тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ
```

### Jumbo Frames:

```
Standard Frame: MTU = 1500 bytes
Jumbo Frame: MTU = 9000 bytes

Advantages:
тЬУ Less overhead (fewer frames)
тЬУ CPU usage ржХржорзЗ
тЬУ Throughput ржмрж╛ржбрж╝рзЗ
тЬУ Large file transfers faster

Disadvantages:
тЬЧ рж╕ржм devices support ржХрж░рзЗ ржирж╛
тЬЧ Entire path ржП enable ржХрж░рждрзЗ рж╣ржпрж╝
тЬЧ Error рж╣рж▓рзЗ ржмржбрж╝ data retransmit

Configuration:
- Switch ржП enable ржХрж░рждрзЗ рж╣ржпрж╝
- Network card support рж▓рж╛ржЧрзЗ
- Router/Gateway config ржжрж░ржХрж╛рж░

Use Cases:
- Storage networks (SAN, NAS)
- Backup operations
- Video streaming servers
- High-performance computing
```

---

## ЁЯФА Part 4: Switch ржПрж░ ржХрж╛рж░рзНржпржкрзНрж░ржгрж╛рж▓рзА

### Switch ржХрж┐?

```
Switch = Intelligent multi-port bridge
Layer 2 device ржпрж╛ MAC address based forwarding ржХрж░рзЗ

Hub vs Switch:
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ Feature      тФВ Hub        тФВ Switch     тФВ
тФЬтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФд
тФВ Layer        тФВ Physical   тФВ Data Link  тФВ
тФВ Intelligence тФВ None       тФВ MAC table  тФВ
тФВ Forwarding   тФВ Broadcast  тФВ Selective  тФВ
тФВ Collision    тФВ Yes        тФВ No         тФВ
тФВ Speed        тФВ Slow       тФВ Fast       тФВ
тФВ Price        тФВ Cheap      тФВ Moderate   тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ
```

### Switch ржПрж░ Main Components:

```
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ            Switch                    тФВ
тФВ                                     тФВ
тФВ  тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР  тФВ
тФВ  тФВ   MAC Address Table (CAM)    тФВ  тФВ
тФВ  тФВ   (Content Addressable       тФВ  тФВ
тФВ  тФВ    Memory)                   тФВ  тФВ
тФВ  тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ  тФВ
тФВ               тЖХ                     тФВ
тФВ  тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР  тФВ
тФВ  тФВ   Switching Fabric/ASIC      тФВ  тФВ
тФВ  тФВ   (Fast forwarding logic)    тФВ  тФВ
тФВ  тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ  тФВ
тФВ               тЖХ                     тФВ
тФВ  тФМтФАтФАтФАтФмтФАтФАтФАтФмтФАтФАтФАтФмтФАтФАтФАтФмтФАтФАтФАтФмтФАтФАтФАтФмтФАтФАтФАтФмтФАтФАтФАтФРтФВ
тФВ  тФВ 1 тФВ 2 тФВ 3 тФВ 4 тФВ 5 тФВ 6 тФВ 7 тФВ 8 тФВтФВ
тФВ  тФФтФАтФАтФАтФ┤тФАтФАтФАтФ┤тФАтФАтФАтФ┤тФАтФАтФАтФ┤тФАтФАтФАтФ┤тФАтФАтФАтФ┤тФАтФАтФАтФ┤тФАтФАтФАтФШтФВ
тФВ         Physical Ports              тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ
```

### MAC Address Table (CAM Table):

```
Structure:
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ MAC Address      тФВ Port тФВ VLAN тФВ Type     тФВ Age (sec)тФВ
тФЬтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФд
тФВ AA:BB:CC:DD:EE:11тФВ  1   тФВ  10  тФВ Dynamic  тФВ   120    тФВ
тФВ AA:BB:CC:DD:EE:22тФВ  2   тФВ  10  тФВ Dynamic  тФВ    85    тФВ
тФВ AA:BB:CC:DD:EE:33тФВ  3   тФВ  10  тФВ Dynamic  тФВ   200    тФВ
тФВ AA:BB:CC:DD:EE:99тФВ  5   тФВ  10  тФВ Static   тФВ    -     тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ

Fields:
1. MAC Address: Device ржПрж░ physical address
2. Port: ржХрзЛржи port ржП connected
3. VLAN: Virtual LAN ID
4. Type: Dynamic (learned) ржмрж╛ Static (manual)
5. Age: рж╢рзЗрж╖ ржХржмрзЗ traffic ржжрзЗржЦрж╛ ржЧрзЗржЫрзЗ

Properties:
- CAM = Content Addressable Memory
- Hardware-based (ASIC)
- Very fast lookup (nanoseconds)
- Parallel search ржХрж░рждрзЗ ржкрж╛рж░рзЗ
```

### MAC Learning Process (рж╢рж┐ржЦржи ржкрзНрж░ржХрзНрж░рж┐ржпрж╝рж╛):

```
Initial State:
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФР
тФВ MAC Address      тФВ Port тФВ
тФЬтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФАтФАтФд
тФВ (Empty)          тФВ      тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФАтФШ

Scenario: PC-A sends first frame

Step 1: Frame arrives
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ Frame received on Port 1        тФВ
тФВ Source MAC: AA:BB:CC:DD:EE:11   тФВ
тФВ Dest MAC: AA:BB:CC:DD:EE:22     тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ

Step 2: Learn Source MAC
Switch checks: "ржЖржорж┐ AA:BB:CC:DD:EE:11 ржЬрж╛ржирж┐?"
Answer: ржирж╛
Action: Table ржП add ржХрж░рж┐

тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФР
тФВ MAC Address      тФВ Port тФВ Age  тФВ
тФЬтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФАтФАтФд
тФВ AA:BB:CC:DD:EE:11тФВ  1   тФВ  0   тФВ тЖР ржирждрзБржи entry
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФАтФШ

Step 3: Check Destination MAC
Switch checks: "ржЖржорж┐ AA:BB:CC:DD:EE:22 ржЬрж╛ржирж┐?"
Answer: ржирж╛ (table ржП ржирзЗржЗ)
Action: Flooding ржХрж░рждрзЗ рж╣ржмрзЗ

Step 4: Forward Decision
ржпрзЗрж╣рзЗрждрзБ destination unknown:
- Port 1 ржЫрж╛ржбрж╝рж╛ рж╕ржм port ржП ржкрж╛ржарж╛ржУ
  тФМтФАтФАтФАтФАтФАтФР
  тФВPort2тФВ тЖР Frame sent
  тФВPort3тФВ тЖР Frame sent
  тФВPort4тФВ тЖР Frame sent
  тФВPort5тФВ тЖР Frame sent
  тФФтФАтФАтФАтФАтФАтФШ

Step 5: PC-B (Port 2) responds
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ Frame received on Port 2        тФВ
тФВ Source MAC: AA:BB:CC:DD:EE:22   тФВ
тФВ Dest MAC: AA:BB:CC:DD:EE:11     тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ

Learn: AA:BB:CC:DD:EE:22 тЖТ Port 2

тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФР
тФВ MAC Address      тФВ Port тФВ Age  тФВ
тФЬтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФАтФАтФд
тФВ AA:BB:CC:DD:EE:11тФВ  1   тФВ 2    тФВ
тФВ AA:BB:CC:DD:EE:22тФВ  2   тФВ 0    тФВ тЖР ржирждрзБржи entry
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФАтФШ

Destination check: AA:BB:CC:DD:EE:11
Found in table! тЖТ Port 1

Forward only to Port 1 тЬУ
```

### Switch Forwarding Methods:

**1. Store-and-Forward:**
```
Process:
1. ржкрзБрж░рзЛ frame receive ржХрж░рзЗ
2. FCS check ржХрж░рзЗ (error detection)
3. Error ржирж╛ ржерж╛ржХрж▓рзЗ forward ржХрж░рзЗ

Advantages:
тЬУ Error detection
тЬУ No corrupted frames forwarded
тЬУ ржмрзЗрж╢рж┐ reliable

Disadvantages:
тЬЧ ржмрзЗрж╢рж┐ latency
тЬЧ Slow (ржкрзБрж░рзЛ frame wait ржХрж░рждрзЗ рж╣ржпрж╝)

Use Case:
- High-quality networks
- Mission-critical data
- Default mode in most switches
```

**2. Cut-Through:**
```
Process:
1. рж╢рзБржзрзБ destination MAC ржкржбрж╝рзЗ (first 14 bytes)
2. рж╕рж╛ржерзЗ рж╕рж╛ржерзЗ forward рж╢рзБрж░рзБ ржХрж░рзЗ
3. FCS check ржХрж░рзЗ ржирж╛

Advantages:
тЬУ Very low latency
тЬУ Fast forwarding
тЬУ Good for real-time applications

Disadvantages:
тЬЧ Corrupted frames forward рж╣рждрзЗ ржкрж╛рж░рзЗ
тЬЧ Error propagation

Use Case:
- Gaming networks
- VoIP
- Video conferencing
```

**3. Fragment-Free:**
```
Process:
1. First 64 bytes ржкржбрж╝рзЗ
2. Collision check ржХрж░рзЗ
3. рждрж╛рж░ржкрж░ forward ржХрж░рзЗ

Logic:
- ржмрзЗрж╢рж┐рж░ржнрж╛ржЧ errors ржкрзНрж░ржержо 64 bytes ржП ржзрж░рж╛ ржкржбрж╝рзЗ
- Collision рж╕ржмрж╕ржоржпрж╝ ржкрзНрж░ржержо 64 bytes ржП рж╣ржпрж╝

Advantages:
тЬУ Better than cut-through
тЬУ Faster than store-and-forward
тЬУ Balanced approach

Use Case:
- Mixed environments
- Moderate traffic networks
```

### Switch Forwarding Decisions:

**Decision Tree:**
```
Frame Received
      тФВ
      тФЬтФАтЖТ Learn Source MAC + Port
      тФВ
      тФЬтФАтЖТ Check Destination MAC
      тФВ         тФВ
      тФВ         тФЬтФАтЖТ Broadcast (FF:FF:FF:FF:FF:FF)?
      тФВ         тФВ         тФВ
      тФВ         тФВ         тФФтФАтЖТ YES тЖТ Flood (except source port)
      тФВ         тФВ
      тФВ         тФЬтФАтЖТ Multicast (first byte odd)?
      тФВ         тФВ         тФВ
      тФВ         тФВ         тФФтФАтЖТ YES тЖТ Forward to multicast group
      тФВ         тФВ
      тФВ         тФФтФАтЖТ Unicast
      тФВ                   тФВ
      тФВ                   тФЬтФАтЖТ MAC in table?
      тФВ                   тФВ      тФВ
      тФВ                   тФВ      тФЬтФАтЖТ YES тЖТ Forward to specific port
      тФВ                   тФВ      тФВ
      тФВ                   тФВ      тФФтФАтЖТ NO тЖТ Flood (unknown unicast)
      тФВ
      тФФтФАтЖТ Update Age Timer
```

**Case 1: Known Unicast (ржЬрж╛ржирж╛ ржПржХржХ ржЧржирзНрждржмрзНржп):**
```
Situation:
Frame: PC-A (Port 1) тЖТ PC-B (Port 3)

MAC Table:
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФР
тФВ MAC-A    тФВ  1   тФВ
тФВ MAC-B    тФВ  3   тФВ тЖР ржПржЯрж╛ ржЬрж╛ржирж╛ ржЖржЫрзЗ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФАтФШ

Switch Action:
1. Source MAC-A тЖТ Port 1 (refresh)
2. Dest MAC-B тЖТ Table ржП ржЖржЫрзЗ, Port 3
3. рж╢рзБржзрзБ Port 3 ржП forward тЬУ

Result:
   1   2   3   4
   тЧП   тЧЛ   тЧП   тЧЛ
   тЖУ       тЖС
  PC-A    PC-B

тЧЛ = No traffic
тЧП = Traffic flows

Efficiency: Maximum! (рж╢рзБржзрзБ ржкрзНрж░ржпрж╝рзЛржЬржирзАржпрж╝ port)
```

**Case 2: Unknown Unicast (ржЕржЬрж╛ржирж╛ ржЧржирзНрждржмрзНржп):**
```
Situation:
Frame: PC-A (Port 1) тЖТ PC-X (MAC unknown)

MAC Table:
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФР
тФВ MAC-A    тФВ  1   тФВ
тФВ MAC-B    тФВ  3   тФВ
тФВ (MAC-X ржирзЗржЗ)     тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФАтФШ

Switch Action:
1. Source MAC-A тЖТ Port 1 (known)
2. Dest MAC-X тЖТ Table ржП ржирзЗржЗ!
3. Flooding ржХрж░рждрзЗ рж╣ржмрзЗ

Forward to:
   1   2   3   4   5   6   7   8
   тЧП   тЧП   тЧП   тЧП   тЧП   тЧП   тЧП   тЧП
   тЖУ   тЖС   тЖС   тЖС   тЖС   тЖС   тЖС   тЖС
  PC-A (source port ржЫрж╛ржбрж╝рж╛ рж╕ржм port)

When PC-X replies:
- Switch will learn MAC-X
- Next time direct forwarding тЬУ

Disadvantage:
- Unnecessary traffic on other ports
- Network bandwidth waste
- ржХрж┐ржирзНрждрзБ ржкрзНрж░ржержоржмрж╛рж░ ржПржЯрж╛ржЗ ржПржХржорж╛рждрзНрж░ ржЙржкрж╛ржпрж╝
```

**Case 3: Broadcast:**
```
Situation:
Frame: PC-A тЖТ Broadcast (FF:FF:FF:FF:FF:FF)

Examples of Broadcast:
- ARP: "Who has IP 192.168.1.10?"
- DHCP Discover: "Is there a DHCP server?"
- NetBIOS: "Where is FILESERVER?"

Switch Action:
1. Dest = Broadcast ржЪрж┐ржирждрзЗ ржкрж╛рж░рзЗ
2. ржирж┐ржпрж╝ржо: рж╕ржм port ржП ржкрж╛ржарж╛рждрзЗ рж╣ржпрж╝
3. Source port (Port 1) ржЫрж╛ржбрж╝рж╛ рж╕ржм port ржП forward

   1   2   3   4   5   6   7   8
   тЧП   тЧП   тЧП   тЧП   тЧП   тЧП   тЧП   тЧП
   тЖУ   тЖС   тЖС   тЖС   тЖС   тЖС   тЖС   тЖС
  PC-A  (All receive broadcast)

Broadcast Domain:
- Switch ржПржХржЯрж┐ broadcast domain рждрзИрж░рж┐ ржХрж░рзЗ
- рж╕ржм ports same broadcast domain ржП
- Router ржжрж┐ржпрж╝рзЗ broadcast domain ржЖрж▓рж╛ржжрж╛ рж╣ржпрж╝

Broadcast Storm Problem:
ржпржжрж┐ ржЕрждрж┐рж░рж┐ржХрзНржд broadcast:
- Network saturate рж╣ржпрж╝
- Performance ржЦрж╛рж░рж╛ржк рж╣ржпрж╝
Solution: VLAN ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛
```

**Case 4: Multicast:**
```
Situation:
Video streaming server тЖТ Multicast group

Multicast MAC: 01:00:5E:01:02:03
Subscribed devices: Port 2, 5, 7

Without IGMP Snooping:
- Multicast = Broadcast рж╣рж┐рж╕рзЗржмрзЗ treat
- рж╕ржм port ржП ржкрж╛ржарж╛ржпрж╝

With IGMP Snooping:
Switch tracks: ржХрзЛржи port multicast ржЪрж╛ржпрж╝

тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ Multicast Group  тФВ Ports           тФВ
тФЬтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФд
тФВ 224.1.2.3       тФВ 2, 5, 7         тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ

Forward only to: Port 2, 5, 7 тЬУ

   1   2   3   4   5   6   7   8
   тЧП   тЧП   тЧЛ   тЧЛ   тЧП   тЧЛ   тЧП   тЧЛ
   тЖУ   тЖС           тЖС       тЖС
Server  Subscribers

Efficiency: рж╢рзБржзрзБ interested ports
```

### MAC Table Aging:

```
ржХрзЗржи Aging ржжрж░ржХрж╛рж░:

Scenario:
1. PC-A, Port 1 ржП ржЫрж┐рж▓
2. ржПржЦржи PC-A ржХрзЗ Port 5 ржП рж╕рж░рж╛ржирзЛ рж╣рж▓рзЛ
3. Table ржП ржПржЦржиржУ Port 1 ржжрзЗржЦрж╛ржЪрзНржЫрзЗ

рж╕ржорж╕рзНржпрж╛:
- Frames wrong port ржП ржпрж╛ржмрзЗ
- PC-A data receive ржХрж░ржмрзЗ ржирж╛

Solution: Aging Timer

тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ MAC      тФВ Port тФВ Age      тФВ
тФЬтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФд
тФВ MAC-A    тФВ  1   тФВ 290 sec  тФВ тЖР ржкрзНрж░рж╛ржпрж╝ expire
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ

Default Aging Time: 300 seconds (5 minutes)

ржпржжрж┐ 300 рж╕рзЗржХрзЗржирзНржб traffic ржирж╛ ржерж╛ржХрзЗ:
- Entry delete рж╣ржмрзЗ
- ржирждрзБржи frame ржПрж▓рзЗ ржирждрзБржи ржХрж░рзЗ рж╢рж┐ржЦржмрзЗ

Aging Process:
1. ржкрзНрж░рждрж┐ржЯрж┐ entry ржПрж░ timer ржЖржЫрзЗ
2. Traffic ржжрзЗржЦрж▓рзЗ timer reset (0 ржХрж░рзЗ)
3. No traffic = timer ржмрж╛ржбрж╝рждрзЗ ржерж╛ржХрзЗ
4. Timer = 300 тЖТ entry ржорзБржЫрзЗ ржпрж╛ржпрж╝

Manual Commands (Cisco):
Switch# show mac address-table aging-time
Switch# mac address-table aging-time 600 (change to 10 min)
Switch# clear mac address-table dynamic (clear all)
```

### Static vs Dynamic Entries:

```
Dynamic Entries:
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ Automatically learned              тФВ
тФВ Age timer ржЖржЫрзЗ                      тФВ
тФВ 300 sec ржкрж░ ржорзБржЫрзЗ ржпрж╛ржпрж╝               тФВ
тФВ Device move рж╣рж▓рзЗ re-learn рж╣ржпрж╝       тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ

Static Entries:
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ Manually configured                тФВ
тФВ Age timer ржирзЗржЗ                      тФВ
тФВ ржХржЦржирзЛ expire рж╣ржпрж╝ ржирж╛                тФВ
тФВ Reboot ржХрж░рж▓рзЗржУ ржерж╛ржХрзЗ                тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ

ржХрзЗржи Static Entry:
1. Security:
   - Important servers
   - Prevent MAC spoofing
   
2. Stability:
   - Critical devices
   - Guaranteed forwarding

Configuration (Cisco):
Switch(config)# mac address-table static aaaa.bbbb.cccc vlan 10 interface fastEthernet 0/1
```

### Switch Performance Metrics:

```
1. Switching Capacity (Backplane):
   Example: 48 Gbps
   - Internal bandwidth
   - Switch fabric speed

2. Forwarding Rate (PPS):
   Example: 35.7 Mpps (Million packets per second)
   - Layer 2 forwarding rate
   - Wire speed рж╕ржХрзНрж╖ржорждрж╛

3. MAC Table Size:
   Example: 8000 entries
   - ржХржд MAC address ржоржирзЗ рж░рж╛ржЦрждрзЗ ржкрж╛рж░рзЗ

4. Latency:
   - Store-and-Forward: ~20-30 microseconds
   - Cut-Through: ~2-5 microseconds

5. Buffer Memory:
   Example: 4 MB
   - Packet queue ржХрж░рж╛рж░ ржЬржирзНржп
   - Congestion handle ржХрж░рзЗ
```

---

## тЪая╕П Part 5: Error Detection & Correction

### Error ржПрж░ ржкрзНрж░ржХрж╛рж░ржнрзЗржж:

```
1. Single Bit Error:
   Original: 10101010
   Received: 10111010
                тЖС
             One bit changed

2. Burst Error:
   Original: 10101010 11001100
   Received: 10111110 11001100
               тЖСтЖСтЖСтЖС
           Multiple consecutive bits

3. Random Error:
   Original: 10101010 11001100 01010101
   Received: 10101011 11101100 01110101
                  тЖС      тЖС        тЖС
            Random positions
```

### Error Detection Methods:

**1. Parity Check (рж╕рж░рж▓ ржкржжрзНржзрждрж┐):**

```
Even Parity:
Data: 1011001 (4 ones)
Parity bit: 0 (make total even)
Transmitted: 10110010

Receiver:
Received: 10110010
Count ones: 4 (even) тЬУ Accept

If error:
Received: 10110110
Count ones: 5 (odd) тЬЧ Reject

Limitations:
- рж╢рзБржзрзБ odd number of errors detect ржХрж░рзЗ
- Even number of errors miss ржХрж░рзЗ
- ржХрзЛржи bit error рж╣ржпрж╝рзЗржЫрзЗ ржЬрж╛ржирж╛ ржпрж╛ржпрж╝ ржирж╛

Example of Failure:
Original: 10110010
Two bits flip: 10010010
Parity: Still even тЬЧ (error undetected)
```

**2. Checksum:**

```
Simple Checksum:
Data blocks: 25, 37, 45, 52
Sum: 25 + 37 + 45 + 52 = 159
Checksum: 159

Receiver:
Sum received data: 25 + 37 + 45 + 52 = 159
Compare with checksum: 159 = 159 тЬУ

If error:
Received: 25, 37, 40, 52 (45тЖТ40)
Sum: 154
Compare: 154 тЙа 159 тЬЧ Error detected

Internet Checksum (TCP/IP):
1. Divide data into 16-bit words
2. Add all words (with overflow wraparound)
3. Take 1's complement
4. This is checksum

Example:
Data: 0110011001100000
      0101010101010101
      1000111100001100

Step 1: Add
  0110011001100000
+ 0101010101010101
+ 1000111100001100
тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФА
= 10100101011010001

Step 2: Wraparound carry
  0100101011010001  (lower 16 bits)
+                 1  (carry)
тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФА
= 0100101011010010

Step 3: 1's complement
Checksum: 1011010100101101
```

**3. CRC (Cyclic Redundancy Check) - рж╕ржмржЪрзЗржпрж╝рзЗ рж╢ржХрзНрждрж┐рж╢рж╛рж▓рзА:**

```
Ethernet ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ CRC-32

Components:
1. Data (D): ржпрж╛ ржкрж╛ржарж╛рждрзЗ рж╣ржмрзЗ
2. Generator Polynomial (G): Fixed pattern
3. CRC bits (R): Calculated redundancy

CRC-32 Polynomial:
x┬│┬▓ + x┬▓тБ╢ + x┬▓┬│ + x┬▓┬▓ + x┬╣тБ╢ + x┬╣┬▓ + x┬╣┬╣ + 
x┬╣тБ░ + xтБ╕ + xтБ╖ + xтБ╡ + xтБ┤ + x┬▓ + x + 1

Binary (33 bits):
100000100110000010001110110110111

Simplified Example (CRC-4):
Data: 1101 (4 bits)
Generator: 1011 (4 bits, so CRC = 3 bits)

Sender Side:
Step 1: Append zeros
1101 тЖТ 1101000 (append 3 zeros)

Step 2: Divide
        1010 тЖР Quotient (ржкрзНрж░ржпрж╝рзЛржЬржи ржирзЗржЗ)
      тФМтФАтФАтФАтФАтФА
 1011 тФВ 1101000
       1011
       тФАтФАтФАтФАтФА
        1100
        1011
        тФАтФАтФАтФАтФА
         1110
         1011
         тФАтФАтФАтФАтФА
          101 тЖР Remainder (CRC)

Step 3: Replace zeros with CRC
Transmitted: 1101101

Receiver Side:
Step 1: Divide received data
        1010011
      тФМтФАтФАтФАтФАтФА
 1011 тФВ 1101101
       1011
       тФАтФАтФАтФАтФА
        1101
        1011
        тФАтФАтФАтФАтФА
         1100
         1011
         тФАтФАтФАтФАтФА
          1111
          1011
          тФАтФАтФАтФАтФА
           100
           1011 (can't divide)
           тФАтФАтФАтФАтФА
            000 тЖР Remainder = 0 тЬУ Valid

ржпржжрж┐ error ржерж╛ржХрзЗ:
Received: 1100101 (first bit flipped)
Remainder тЙа 0 тЬЧ Error detected!

CRC-32 рж╢ржХрзНрждрж┐:
тЬУ Single bit errors: 100%
тЬУ Double bit errors: 100%
тЬУ All odd number errors: 100%
тЬУ Burst errors тЙд32 bits: 100%
тЬУ Longer bursts: 99.9999%
```

### Error Detection Performance:

```
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ Method           тФВ OverheadтФВ DetectionтФВ StrengthтФВ
тФЬтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФАтФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФАтФАтФАтФАтФАтФд
тФВ Parity           тФВ 1 bit   тФВ Poor     тФВ тШЕтШЖтШЖтШЖтШЖ   тФВ
тФВ Checksum         тФВ 16-32 b тФВ Good     тФВ тШЕтШЕтШЕтШЖтШЖ   тФВ
тФВ CRC-16           тФВ 16 bits тФВ V.Good   тФВ тШЕтШЕтШЕтШЕтШЖ   тФВ
тФВ CRC-32 (Ethernet)тФВ 32 bits тФВ ExcellentтФВ тШЕтШЕтШЕтШЕтШЕ   тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ
```

### Error Correction vs Detection:

```
Error Detection:
- рж╢рзБржзрзБ error ржЖржЫрзЗ ржХрж┐ржирж╛ ржЬрж╛ржирж╛ржпрж╝
- рж╕ржВрж╢рзЛржзржи ржХрж░рзЗ ржирж╛
- Ethernet ржП ржмрзНржпржмрж╣рж╛рж░ рж╣ржпрж╝
- Corrupted frame discard ржХрж░рзЗ

Action: Retransmission (ржЙржкрж░рзЗрж░ layer)

Error Correction (FEC):
- Error detect ржПржмржВ correct ржЙржнржпрж╝ржЗ ржХрж░рзЗ
- Extra redundancy bits рж▓рж╛ржЧрзЗ
- RAM, wireless link ржП ржмрзНржпржмрж╣рж╛рж░ рж╣ржпрж╝

Example: Hamming Code
Data: 1011
Parity bits: p1, p2, p3

Combined: p1 p2 1 p3 0 1 1

Calculate parity:
p1 (positions 1,3,5,7): 1,0,1 тЖТ p1=0
p2 (positions 2,3,6,7): 1,1,1 тЖТ p2=1
p3 (positions 4,5,6,7): 0,1,1 тЖТ p3=0

Transmitted: 0110011

If 1 bit error, receiver can:
1. Detect error
2. Find which bit
3. Correct it тЬУ
```

---

## ЁЯЪж Part 6: Flow Control

### Flow Control ржХрзЗржи ржжрж░ржХрж╛рж░?

```
Problem:
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР                 тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ  Sender  тФВ    Fast         тФВ Receiver тФВ
тФВ 1 Gbps   тФВ тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтЦ║ тФВ 100 Mbps тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ                 тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ
                                  тЖУ
                            Buffer Overflow!
                            Data Loss!

Solution: Flow Control
- Sender ржХрзЗ slow down ржХрж░рж╛
- Receiver ржПрж░ capacity ржЕржирзБржпрж╛ржпрж╝рзА
```

### Flow Control Methods:

**1. Stop-and-Wait:**

```
Process:
1. Sender ржПржХржЯрж┐ frame ржкрж╛ржарж╛ржпрж╝
2. Wait ржХрж░рзЗ acknowledgment ржПрж░ ржЬржирзНржп
3. ACK ржкрзЗрж▓рзЗ next frame ржкрж╛ржарж╛ржпрж╝

Timeline:
Sender          Network         Receiver
  тФВ                               тФВ
  тФЬтФА Frame 1 тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтЦ║ тФВ
  тФВ                               тФЬтФА Process
  тФВ тЧДтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФА ACK 1 тФАтФАтФд
  тФВ                               тФВ
  тФЬтФА Frame 2 тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтЦ║ тФВ
  тФВ                               тФЬтФА Process
  тФВ тЧДтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФА ACK 2 тФАтФАтФд
  тФВ                               тФВ

Advantages:
тЬУ Simple implementation
тЬУ No buffer overflow
тЬУ Guaranteed delivery

Disadvantages:
тЬЧ Very slow
тЬЧ Low bandwidth utilization
тЬЧ Round-trip time waste

Efficiency:
Useful Data Time / Total Time
= Frame Transmission Time / (Frame + Propagation + ACK)

Example:
Frame: 1000 bits
Link: 1 Mbps
Propagation: 10 ms

Transmission time: 1000/1,000,000 = 1 ms
Total time: 1 + 10 + 10 = 21 ms
Efficiency: 1/21 = 4.7% тЬЧ
```

**2. Sliding Window:**

```
Concept:
- ржПржХрж╛ржзрж┐ржХ frames ржкрж╛ржарж╛ржирзЛ ржпрж╛ржпрж╝ ACK ржПрж░ ржЖржЧрзЗ
- Window size = ржХрждржЧрзБрж▓рзЛ frames

Window Size = 4:
Sender:
тФМтФАтФАтФАтФмтФАтФАтФАтФмтФАтФАтФАтФмтФАтФАтФАтФмтФАтФАтФАтФмтФАтФАтФАтФмтФАтФАтФАтФмтФАтФАтФАтФР
тФВ 1 тФВ 2 тФВ 3 тФВ 4 тФВ 5 тФВ 6 тФВ 7 тФВ 8 тФВ
тФФтФАтФАтФАтФ┤тФАтФАтФАтФ┤тФАтФАтФАтФ┤тФАтФАтФАтФ┤тФАтФАтФАтФ┤тФАтФАтФАтФ┤тФАтФАтФАтФ┤тФАтФАтФАтФШ
  тФФтФАтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФАтФШ
       Window (can send)

Timeline:
T=0:  Send 1,2,3,4 (window full)
T=1:  Receive ACK 1 тЖТ Window slides
      Send frame 5
T=2:  Receive ACK 2 тЖТ Window slides
      Send frame 6
...

Advantages:
тЬУ High efficiency
тЬУ Better bandwidth use
тЬУ Pipelining

Go-Back-N:
- ржпржжрж┐ frame 3 error
- Frame 3,4,5,6... рж╕ржм retransmit

Selective Repeat:
- рж╢рзБржзрзБ frame 3 retransmit
- ржмрж╛ржХрж┐ frames buffer ржХрж░рзЗ рж░рж╛ржЦрзЗ
```

**3. Credit-Based Flow Control:**

```
Receiver maintains credits:
- Credit = ржХрждржЧрзБрж▓рзЛ frames ржирж┐рждрзЗ ржкрж╛рж░ржмрзЗ
- Sender credits track ржХрж░рзЗ

Example:
Initial credits: 5

Sender                          Receiver
Credits: 5
  тФВ                               тФВ
  тФЬтФА Frame 1 тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтЦ║ тФВ
Credits: 4                         тФВ
  тФЬтФА Frame 2 тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтЦ║ тФВ
Credits: 3                         тФВ
  тФЬтФА Frame 3 тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтЦ║ тФВ
Credits: 2                         тФВ
  тФВ                               тФЬтФА Process frames
  тФВ                               тФЬтФА Free buffer
  тФВ тЧДтФАтФАтФАтФАтФАтФАтФАтФА Grant 3 credits тФАтФАтФАтФАтФд
Credits: 5 (2+3)                   тФВ
  тФЬтФА Frame 4 тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтЦ║ тФВ

Advantages:
тЬУ Dynamic adjustment
тЬУ No buffer overflow
тЬУ Efficient resource use
```

**4. Pause Frames (IEEE 802.3x):**

```
Ethernet Flow Control:

ржпржЦржи receiver ржПрж░ buffer ржкрзНрж░рж╛ржпрж╝ full:

Receiver тЖТ Sender:
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ Pause Frame (MAC Control)      тФВ
тФВ Type: 0x8808                    тФВ
тФВ Pause Time: 65535 (quanta)     тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ

Sender:
- Pause time ржПрж░ ржЬржирзНржп transmission stop
- Timer рж╢рзЗрж╖ рж╣рж▓рзЗ ржЖржмрж╛рж░ рж╢рзБрж░рзБ

Pause Time:
- 1 quantum = 512 bit times
- 65535 quantum = max pause
- 0 = resume transmission

Full-Duplex Only:
- Half-duplex ржП ржХрж╛ржЬ ржХрж░рзЗ ржирж╛
- Switch ports ржП enable ржХрж░рждрзЗ рж╣ржпрж╝

Configuration (Cisco):
Switch(config-if)# flowcontrol receive on
Switch(config-if)# flowcontrol send on
```

### Buffer Management:

```
Switch Buffer:
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ         Memory Pool              тФВ
тФВ  тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР  тФВ
тФВ  тФВ Ingress Queue  (incoming)  тФВ  тФВ
тФВ  тФЬтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФд  тФВ
тФВ  тФВ Egress Queue   (outgoing)  тФВ  тФВ
тФВ  тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ  тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ

Buffer Types:
1. Shared Memory:
   - рж╕ржм ports share ржХрж░рзЗ
   - Dynamic allocation
   - Efficient

2. Port-Based:
   - ржкрзНрж░рждрж┐ржЯрж┐ port ржПрж░ ржирж┐ржЬрж╕рзНржм buffer
   - Fixed allocation
   - Isolated

Queue Disciplines:
1. FIFO (First In First Out):
   - Simple
   - No prioritization

2. Priority Queue:
   - High priority first
   - QoS support

3. Weighted Fair Queue:
   - Bandwidth distribution
   - Fair sharing
```

---

## ЁЯОЫя╕П Part 7: Access Control Methods

### Shared Medium ржП рж╕ржорж╕рзНржпрж╛:

```
Scenario: ржПржХрж╛ржзрж┐ржХ devices ржПржХржЗ cable/medium ржмрзНржпржмрж╣рж╛рж░ ржХрж░ржЫрзЗ

Problem: ржПржХрж╕рж╛ржерзЗ ржкрж╛ржарж╛рж▓рзЗ Collision!

тФМтФАтФАтФАтФАтФР                    тФМтФАтФАтФАтФАтФР
тФВPC-AтФВ тФАтФР              тФМтФА тФВPC-CтФВ
тФФтФАтФАтФАтФАтФШ  тФВ              тФВ  тФФтФАтФАтФАтФАтФШ
        тФЬтФА Shared Bus тФАтФд
тФМтФАтФАтФАтФАтФР  тФВ              тФВ  тФМтФАтФАтФАтФАтФР
тФВPC-BтФВ тФАтФШ              тФФтФА тФВPC-DтФВ
тФФтФАтФАтФАтФАтФШ                    тФФтФАтФАтФАтФАтФШ

ржпржжрж┐ PC-A ржУ PC-B ржПржХрж╕рж╛ржерзЗ ржкрж╛ржарж╛ржпрж╝:
Signal collision тЖТ Data corrupt!

Solution: Medium Access Control (MAC)
```

### 1. CSMA/CD (Carrier Sense Multiple Access with Collision Detection)

```
Used in: Traditional Ethernet (Half-Duplex)

Algorithm:
1. CS (Carrier Sense):
   - ржкрж╛ржарж╛ржирзЛрж░ ржЖржЧрзЗ medium check ржХрж░рзЛ
   - ржХрзЗржЙ transmit ржХрж░ржЫрзЗ?

2. MA (Multiple Access):
   - рж╕ржмрж╛ржЗ same medium share ржХрж░рзЗ

3. CD (Collision Detection):
   - Transmit ржХрж░рж╛рж░ рж╕ржоржпрж╝ржУ рж╢рзБржирждрзЗ ржерж╛ржХрзЛ
   - Collision detect ржХрж░рж▓рзЗ stop ржХрж░рзЛ

Detailed Process:
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ Step 1: Listen (Carrier Sense)  тФВ
тФВ Is medium idle?                 тФВ
тФВ   тФЬтФА YES тЖТ Go to Step 2         тФВ
тФВ   тФФтФА NO  тЖТ Wait until idle      тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ
           тЖУ
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ Step 2: Start Transmitting      тФВ
тФВ Send data                       тФВ
тФВ Continue listening              тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ
           тЖУ
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ Step 3: Collision Detection?    тФВ
тФВ   тФЬтФА NO  тЖТ Continue, Success тЬУ  тФВ
тФВ   тФФтФА YES тЖТ Go to Step 4         тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ
           тЖУ
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ Step 4: Jam Signal              тФВ
тФВ Send 48 bits jam pattern        тФВ
тФВ Ensure all stations detect      тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ
           тЖУ
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ Step 5: Backoff                 тФВ
тФВ Wait random time                тФВ
тФВ Binary Exponential Backoff      тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ
           тЖУ
     Go to Step 1

Binary Exponential Backoff:
Attempt 1: Wait 0 or 1 slot times (random)
Attempt 2: Wait 0-3 slot times
Attempt 3: Wait 0-7 slot times
Attempt n: Wait 0 to (2^n - 1) slot times
Max attempts: 16
Max backoff: 1023 slot times

Slot Time = 512 bit times
For 10 Mbps: 51.2 microseconds
```

**Collision Detection ржХрж┐ржнрж╛ржмрзЗ:**

```
Transmitting station:
- ржирж┐ржЬрзЗрж░ sent signal ржЬрж╛ржирзЗ
- ржпрж╛ receive ржХрж░ржЫрзЗ рждрж╛рж░ рж╕рж╛ржерзЗ compare ржХрж░рзЗ

Normal:
Sent:     тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
Received: тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
Match! тЬУ No collision

Collision:
Sent:     тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
Received: тЦУтЦУтЦУтЦУтЦУтЦУтЦУтЦУтЦУтЦУ (garbled)
Mismatch! тЬЧ Collision detected

Voltage Level Change:
- Normal signal: specific voltage
- Collision: voltage doubles/чХ░х╕╕
```

**Minimum Frame Size Requirement:**

```
ржХрзЗржи 64 bytes minimum?

Collision detection ржПрж░ ржЬржирзНржп:
- Signal ржкрж╛ржарж┐ржпрж╝рзЗ ржЖржмрж╛рж░ ржлрж┐рж░рзЗ ржЖрж╕рждрзЗ рж╣ржмрзЗ
- Round-trip time ржП detect ржХрж░рждрзЗ рж╣ржмрзЗ

Formula:
Min Frame Size = 2 ├Ч Propagation Delay ├Ч Data Rate

Example:
Maximum cable: 2500 meters
Signal speed: 2├Ч10тБ╕ m/s
Data rate: 10 Mbps

Propagation delay = 2500 / (2├Ч10тБ╕) = 12.5 ╬╝s
Round trip = 2 ├Ч 12.5 = 25 ╬╝s

Min bits = 25 ╬╝s ├Ч 10 Mbps = 250 bits

With safety margin: 512 bits = 64 bytes

ржпржжрж┐ frame < 64 bytes:
- Collision рж╣рждрзЗ ржкрж╛рж░рзЗ ржХрж┐ржирзНрждрзБ detect рж╣ржмрзЗ ржирж╛
- "Late collision" problem
```

### 2. CSMA/CA (Collision Avoidance)

```
Used in: Wi-Fi (IEEE 802.11)

ржХрзЗржи CD ржиржпрж╝, CA?
Wireless ржП collision detect ржХрж░рж╛ ржХржарж┐ржи:
- Receiver ржЕржирзЗржХ ржжрзВрж░рзЗ рж╣рждрзЗ ржкрж╛рж░рзЗ
- Hidden node problem
- Signal strength vary ржХрж░рзЗ

Algorithm:
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ Step 1: Carrier Sense           тФВ
тФВ Listen: Channel free?           тФВ
тФВ   тФЬтФА YES тЖТ Wait DIFS            тФВ
тФВ   тФФтФА NO  тЖТ Defer                тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ
           тЖУ
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ Step 2: DIFS (Distributed IFS)  тФВ
тФВ Wait fixed time                 тФВ
тФВ Still free? тЖТ Continue          тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ
           тЖУ
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ Step 3: Random Backoff          тФВ
тФВ Contention Window               тФВ
тФВ Select random slot              тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ
           тЖУ
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ Step 4: Transmit                тФВ
тФВ Send entire frame               тФВ
тФВ (Can't detect collision)        тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ
           тЖУ
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ Step 5: Wait for ACK            тФВ
тФВ   тФЬтФА ACK received тЖТ Success тЬУ   тФВ
тФВ   тФФтФА No ACK тЖТ Retransmit        тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ

Inter-Frame Spaces (IFS):
SIFS (Short): 10 ╬╝s  (highest priority)
DIFS (Distributed): 50 ╬╝s  (normal data)
EIFS (Extended): 364 ╬╝s  (after error)
```

**Hidden Node Problem:**

```
Scenario:
       A тЖРтФАтФАтФА 100m тФАтФАтФАтЖТ B тЖРтФАтФАтФА 100m тФАтФАтФАтЖТ C
       
A can hear: B
B can hear: A, C
C can hear: B

Problem:
1. A starts transmitting to B
2. C can't hear A (hidden from A)
3. C thinks medium is free
4. C also transmits to B
5. Collision at B! тЬЧ

Solution: RTS/CTS

RTS/CTS Mechanism:
A wants to send to B:

1. A тЖТ RTS (Request to Send) тЖТ B
   тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
   тФВ Duration: 500 ╬╝s   тФВ (time needed)
   тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ
   
2. B тЖТ CTS (Clear to Send) тЖТ A
   тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
   тФВ Duration: 450 ╬╝s   тФВ
   тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ
   C hears CTS! тЖТ Must wait 450 ╬╝s

3. A тЖТ Data тЖТ B
   (C stays quiet)

4. B тЖТ ACK тЖТ A
   Now C can transmit тЬУ
```

### 3. Token Passing

```
Used in: Token Ring, FDDI

Concept:
- ржПржХржЯрж┐ special frame = Token
- рж╢рзБржзрзБ token holder transmit ржХрж░рждрзЗ ржкрж╛рж░рзЗ
- Token circulate ржХрж░рзЗ

Token Ring Topology:
    тФМтФАтФАтФАтФАтФР
    тФВ A  тФВ
    тФФтФАтФмтФАтФАтФШ
      тФВ
тФМтФАтФАтФАтФАтФРтФВтФМтФАтФАтФАтФАтФР
тФВ D  тФВтФВ  B тФВ
тФФтФАтФАтФАтФАтФ┤тФ┤тФАтФАтФАтФАтФШ
      тФВ
    тФМтФАтФ┤тФАтФАтФР
    тФВ C  тФВ
    тФФтФАтФАтФАтФАтФШ

Process:
1. Token circulates: AтЖТBтЖТCтЖТDтЖТA...
2. A wants to send:
   - Captures token
   - Attaches data
   - Sends to destination
3. Data reaches destination (C)
   - C copies data
   - Marks frame as "copied"
4. Frame returns to A
   - A removes frame
   - Releases new token
5. Token continues: BтЖТCтЖТDтЖТA...

Advantages:
тЬУ No collision
тЬУ Deterministic access
тЬУ Fair (everyone gets turn)
тЬУ Predictable delay

Disadvantages:
тЬЧ Token overhead
тЬЧ Complex
тЬЧ Single point of failure (token lost)

Token Lost Recovery:
- Timer mechanism
- Token monitor station
- Generates new token if lost
```

### 4. Polling

```
Concept:
- ржПржХржЯрж┐ master/controller
- ржмрж╛ржХрж┐ рж╕ржм slave
- Master polls each slave

Process:
Master: "Station A, ржЖржкржирж╛рж░ data ржЖржЫрзЗ?"
A: "рж╣рзНржпрж╛ржБ" тЖТ Sends data
A: "ржирж╛" тЖТ Next

Master: "Station B, ржЖржкржирж╛рж░ data ржЖржЫрзЗ?"
B: "рж╣рзНржпрж╛ржБ" тЖТ Sends data
...

Timeline:
Master тФА Poll A тФАтФАтЦ║ A
       тЧДтФАтФА Data тФАтФАтФА A
       тФА Poll B тФАтФАтЦ║ B
       тЧДтФАтФА No тФАтФАтФАтФАтФА B
       тФА Poll C тФАтФАтЦ║ C
       тЧДтФАтФА Data тФАтФАтФА C
       ...

Advantages:
тЬУ No collision
тЬУ Centralized control
тЬУ Priority possible

Disadvantages:
тЬЧ Polling overhead
тЬЧ Master = single point of failure
тЬЧ Scalability issues

Use Cases:
- Bluetooth piconet
- Industrial networks
- Legacy mainframe systems
```

### Modern Ethernet (Full-Duplex):

```
Switch-based Networks:
- ржкрзНрж░рждрж┐ржЯрж┐ port = ржЖрж▓рж╛ржжрж╛ collision domain
- Full-duplex communication
- Send ржУ Receive ржПржХрж╕рж╛ржерзЗ
- NO collision possible!

тФМтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ Switch тФВ
тФЬтФАтФмтФАтФмтФАтФмтФАтФмтФд
тФВ тФВ тФВ тФВ тФВ тФВ
A B C D E

Each link:
A тЖФ Switch: Dedicated, full-duplex
B тЖФ Switch: Dedicated, full-duplex
...

рж╕рзБржмрж┐ржзрж╛:
тЬУ No CSMA/CD needed
тЬУ Maximum bandwidth
тЬУ Simultaneous Tx/Rx
тЬУ No collisions
тЬУ Better performance

Modern Ethernet:
- 100 Mbps+: Full-duplex рж╕ржмрж╕ржоржпрж╝
- CSMA/CD: legacy, rarely used
- Switch: standard
```

---

## ЁЯМР Part 8: Real-World Scenarios

### Scenario 1: Office Network Setup

```
Network Diagram:
                 Internet
                    тФВ
              тФМтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФР
              тФВ  Router   тФВ
              тФФтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФШ
                    тФВ Port 1
              тФМтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФР
              тФВ  Switch   тФВ
              тФФтФАтФмтФАтФмтФАтФмтФАтФмтФАтФмтФАтФШ
                1 2 3 4 5
                тФВ тФВ тФВ тФВ тФВ
               PC-AтФВ тФВ Printer
                PC-BтФВ
                 Server

Devices:
PC-A: AA:AA:AA:AA:AA:AA, IP: 192.168.1.10
PC-B: BB:BB:BB:BB:BB:BB, IP: 192.168.1.20
Server: CC:CC:CC:CC:CC:CC, IP: 192.168.1.100
Printer: DD:DD:DD:DD:DD:DD, IP: 192.168.1.50
Router: RR:RR:RR:RR:RR:RR, IP: 192.168.1.1
```

**Event 1: PC-A Boot ржХрж░рж▓рзЛ**

```
T=0: PC-A powers on
DHCP Process:

Step 1: DHCP Discover (Broadcast)
PC-A тЖТ Broadcast:
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ Dest MAC: FF:FF:FF:FF:FF:FF       тФВ
тФВ Source MAC: AA:AA:AA:AA:AA:AA     тФВ
тФВ Data: DHCP Discover               тФВ
тФВ "Need IP address!"                тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ

Switch:
1. Learns: AA:AA тЖТ Port 1
2. Broadcast тЖТ рж╕ржм port ржП (except Port 1)

тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФР
тФВ MAC      тФВ Port тФВ
тФЬтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФАтФАтФд
тФВ AA:AA... тФВ  1   тФВ тЖР ржирждрзБржи
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФАтФШ

Router receives broadcast:
- DHCP server ржЖржЫрзЗ router ржП
- Offer ржкрж╛ржарж╛ржпрж╝

Step 2: DHCP Offer (Unicast)
Router тЖТ PC-A:
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ Dest MAC: AA:AA:AA:AA:AA:AA       тФВ
тФВ Source MAC: RR:RR:RR:RR:RR:RR     тФВ
тФВ Data: IP 192.168.1.10 available   тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ

Switch:
1. Learns: RR:RR тЖТ Port 5
2. Dest AA:AA тЖТ Table ржП Port 1
3. Forward to Port 1 only тЬУ

тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФР
тФВ MAC      тФВ Port тФВ
тФЬтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФАтФАтФд
тФВ AA:AA... тФВ  1   тФВ
тФВ RR:RR... тФВ  5   тФВ тЖР ржирждрзБржи
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФАтФШ

Step 3: DHCP Request (Broadcast)
PC-A тЖТ Broadcast:
"ржЖржорж┐ 192.168.1.10 ржирж┐рждрзЗ ржЪрж╛ржЗ"

Step 4: DHCP ACK (Unicast)
Router тЖТ PC-A:
"Confirmed! IP assigned тЬУ"

ржПржЦржи PC-A ржПрж░:
IP: 192.168.1.10
Gateway: 192.168.1.1
DNS: 8.8.8.8
```

**Event 2: PC-A ржерзЗржХрзЗ Server ржП File Transfer**

```
T=10: PC-A opens \\192.168.1.100\files

Step 1: ARP Request (PC-A doesn't know Server MAC)
PC-A тЖТ Broadcast:
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ Dest MAC: FF:FF:FF:FF:FF:FF       тФВ
тФВ Source MAC: AA:AA:AA:AA:AA:AA     тФВ
тФВ Type: 0x0806 (ARP)                тФВ
тФВ Who has 192.168.1.100?            тФВ
тФВ Tell 192.168.1.10                 тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ

Switch floods (source port ржЫрж╛ржбрж╝рж╛):
Port 2: PC-B receives (ignores, wrong IP)
Port 3: Server receives тЬУ (my IP!)
Port 4: Printer receives (ignores)
Port 5: Router receives (ignores)

Step 2: ARP Reply
Server тЖТ PC-A (Unicast):
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ Dest MAC: AA:AA:AA:AA:AA:AA       тФВ
тФВ Source MAC: CC:CC:CC:CC:CC:CC     тФВ
тФВ Type: 0x0806 (ARP)                тФВ
тФВ 192.168.1.100 is at CC:CC:CC:...  тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ

Switch:
1. Learns: CC:CC тЖТ Port 3
2. Dest AA:AA тЖТ Port 1 (already know)
3. Direct forward to Port 1 тЬУ

тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФР
тФВ MAC      тФВ Port тФВ Age  тФВ
тФЬтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФАтФАтФд
тФВ AA:AA... тФВ  1   тФВ  15  тФВ
тФВ RR:RR... тФВ  5   тФВ  15  тФВ
тФВ CC:CC... тФВ  3   тФВ  0   тФВ тЖР ржирждрзБржи
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФАтФШ

PC-A ржПрж░ ARP Cache:
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ IP             тФВ MAC              тФВ
тФЬтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФд
тФВ 192.168.1.1    тФВ RR:RR:RR:RR:RR:RRтФВ
тФВ 192.168.1.100  тФВ CC:CC:CC:CC:CC:CCтФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ

Step 3: TCP Connection (3-way handshake)
PC-A тЖТ Server:
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ Dest MAC: CC:CC:CC:CC:CC:CC       тФВ
тФВ Source MAC: AA:AA:AA:AA:AA:AA     тФВ
тФВ Type: 0x0800 (IPv4)               тФВ
тФВ IP: 192.168.1.10 тЖТ 192.168.1.100 тФВ
тФВ TCP: SYN (port 54321 тЖТ 445)       тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ

Switch: CC:CC тЖТ Port 3 тЬУ Direct

Server тЖТ PC-A: SYN-ACK
PC-A тЖТ Server: ACK

Connection established! тЬУ

Step 4: File Transfer
PC-A тЖТ Server: DATA packets
Server тЖТ PC-A: ACK packets

Switch forwarding:
- AA:AA (Port 1) тЖФ CC:CC (Port 3)
- ржЕржирзНржп ports ржП traffic ржпрж╛ржпрж╝ ржирж╛
- Efficient! тЬУ

Switch MAC Table (Final):
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФР
тФВ MAC      тФВ Port тФВ Age  тФВ
тФЬтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФАтФАтФд
тФВ AA:AA... тФВ  1   тФВ  2   тФВ тЖР active
тФВ BB:BB... тФВ  2   тФВ 180  тФВ
тФВ CC:CC... тФВ  3   тФВ  1   тФВ тЖР active
тФВ DD:DD... тФВ  4   тФВ 250  тФВ
тФВ RR:RR... тФВ  5   тФВ  45  тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФАтФШ
```

**Event 3: PC-A Print Job**

```
T=100: PC-A prints document

Step 1: ARP (if not in cache)
PC-A checks ARP cache:
192.168.1.50 тЖТ DD:DD:DD:DD:DD:DD тЬУ
(already cached from earlier)

Step 2: Print Data
PC-A тЖТ Printer:
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ Dest MAC: DD:DD:DD:DD:DD:DD       тФВ
тФВ Source MAC: AA:AA:AA:AA:AA:AA     тФВ
тФВ Type: 0x0800                      тФВ
тФВ IP: 192.168.1.10 тЖТ 192.168.1.50  тФВ
тФВ Data: Print job (PDF/PostScript)  тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ

Switch:
DD:DD тЖТ Port 4
Direct forward тЬУ

Traffic Flow:
   1       2       3       4       5
   тЧП       тЧЛ       тЧЛ       тЧП       тЧЛ
   PC-A                  Printer
   
тЧЛ = No traffic (efficient!)
тЧП = Active traffic
```

### Scenario 2: Network Loop Problem

```
Problem Setup: ржжрзБржЗ switch ржПрж░ ржоржзрзНржпрзЗ duplicate connection

        тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
   тФМтФАтФАтФАтФАтФд Switch AтФЬтФАтФАтФАтФАтФР
   тФВ    тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ    тФВ
   тФВ         тФВ         тФВ
   тФВ         тФВ         тФВ
   тФВ    тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР    тФВ
   тФФтФАтФАтФАтФАтФд Switch BтФЬтФАтФАтФАтФАтФШ
        тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ

PC-1 broadcasts (ARP):

T=0: Broadcast frame enters Switch A
     Switch A тЖТ Both links тЖТ Switch B
     
T=1: Switch B receives on both ports
     Learns PC-1 on both ports (confused!)
     Forwards to Switch A on both links
     
T=2: Switch A receives again
     Forwards again...
     
Result: Broadcast Storm! ЁЯМА
- Frames multiply infinitely
- Network saturated
- Complete failure

Solution: STP (Spanning Tree Protocol)

STP Process:
1. Switches exchange BPDU (Bridge Protocol Data Unit)
2. Elect Root Bridge (lowest MAC/Priority)
3. Calculate best path to root
4. Block redundant links
5. Maintain loop-free topology

After STP:
        тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
   тФМтФАтФАтФАтФАтФд Switch AтФЬтФАтФАтФАтФАX (blocked)
   тФВ    тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ    
   тФВ         тФВ         
   тФВ         тФВ         
   тФВ    тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР    
   тФФтФАтФАтФАтФАтФд Switch BтФЬтФАтФАтФАтФАтФШ (forwarding)
        тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ

Loop prevented! тЬУ
Redundancy available (failover)
```

### Scenario 3: VLAN Segregation

```
Company Network:
- Sales department
- IT department
- Guest Wi-Fi

Without VLAN:
рж╕ржмрж╛ржЗ same broadcast domain
Sales ржжрзЗржЦрждрзЗ ржкрж╛рж░рзЗ IT ржПрж░ traffic
Security risk!

With VLAN:

Physical Switch:
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ        Switch               тФВ
тФВ Port 1-8:  VLAN 10 (Sales) тФВ
тФВ Port 9-16: VLAN 20 (IT)    тФВ
тФВ Port 17-24: VLAN 30 (Guest)тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ

Logical Separation:
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР  тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР  тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ VLAN 10  тФВ  тФВ VLAN 20  тФВ  тФВ VLAN 30  тФВ
тФВ Sales    тФВ  тФВ IT       тФВ  тФВ Guest    тФВ
тФВ          тФВ  тФВ          тФВ  тФВ          тФВ
тФВ PC 1-8   тФВ  тФВ PC 9-16  тФВ  тФВ Guests   тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ  тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ  тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ
     тЖХ             тЖХ             тЖХ
  No communication between VLANs

VLAN Tagging (802.1Q):

Normal Frame:
тФМтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФР
тФВDest  тФВSource  тФВ Type   тФВ Data тФВ FCS тФВ     тФВ
тФФтФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФШ

VLAN Tagged Frame:
тФМтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФР
тФВDest  тФВSource  тФВ802.1Q TagтФВType тФВ Data тФВ FCS тФВ
тФВ      тФВ        тФВVLAN ID   тФВ     тФВ      тФВ     тФВ
тФФтФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФШ
                  тЖС
            тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
            тФВ VLAN ID: тФВ
            тФВ   10     тФВ (12 bits)
            тФВ Priority тФВ (3 bits)
            тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ

Benefits:
тЬУ Security separation
тЬУ Broadcast domain control
тЬУ Better organization
тЬУ Flexible management
```

---

## ЁЯФз Part 9: ржмрж┐рж╢рзЗрж╖ Topics

### 1. ARP (Address Resolution Protocol)

```
Purpose: IP address тЖТ MAC address

ARP Cache:
ржкрзНрж░рждрж┐ржЯрж┐ device maintain ржХрж░рзЗ

Windows ржП ржжрзЗржЦрзБржи:
C:\> arp -a

тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ IP Address     тФВ MAC Address      тФВ Type   тФВ
тФЬтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФАтФАтФАтФАтФд
тФВ 192.168.1.1    тФВ aa-bb-cc-dd-ee-ffтФВ DynamicтФВ
тФВ 192.168.1.10   тФВ 11-22-33-44-55-66тФВ DynamicтФВ
тФВ 192.168.1.255  тФВ ff-ff-ff-ff-ff-ffтФВ Static тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФАтФАтФАтФШ

ARP Types:

1. ARP Request (Broadcast):
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ Who has 192.168.1.10?         тФВ
тФВ Tell 192.168.1.5              тФВ
тФВ Dest MAC: FF:FF:FF:FF:FF:FF   тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ

2. ARP Reply (Unicast):
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ 192.168.1.10 is at            тФВ
тФВ AA:BB:CC:DD:EE:FF             тФВ
тФВ Dest MAC: (requester's MAC)   тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ

3. Gratuitous ARP:
Device announces ржирж┐ржЬрзЗрж░ IP/MAC
Uses:
- IP conflict detection
- Update ARP caches
- After IP change

4. Proxy ARP:
Router responds on behalf of another device
Use: Subnet communication

ARP Spoofing Attack:
Attacker sends fake ARP replies:
"192.168.1.1 is at ATTACKER_MAC"

Victims update cache:
Gateway traffic тЖТ Attacker!

Defense:
- Static ARP entries
- ARP inspection (switch feature)
- Monitoring tools
```

### 2. MAC Address Table Overflow Attack

```
Attack Concept:
Switch MAC table limited size (e.g., 8000 entries)

Attacker:
Sends frames with random source MACs

for i in range(10000):
    send_frame(source_mac=random())

Switch:
1. Learns random_mac_1 тЖТ Port X
2. Learns random_mac_2 тЖТ Port X
3. ...
8000. Table full!
8001. Oldest entry deleted
9000. Table constantly updating

Result:
- Legitimate MACs deleted
- Switch acts like hub (flooding)
- Attacker can sniff all traffic!

Defense:
Port Security:

Switch(config-if)# switchport port-security
Switch(config-if)# switchport port-security maximum 2
Switch(config-if)# switchport port-security violation shutdown

ржПржЦржи:
- Maximum 2 MAC per port
- Violation рж╣рж▓рзЗ port shutdown
```

### 3. VPN over Layer 2

```
L2TP (Layer 2 Tunneling Protocol):

PC тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтЦ║ L2TP тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтЦ║ Server
   (Home)       (Tunnel)        (Corporate)

Encapsulation:
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ Original Ethernet Frame             тФВ
тФВ тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР   тФВ
тФВ тФВ Data                          тФВ   тФВ
тФВ тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ   тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ
           тЖУ Encapsulate
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ New IP Header (Public IPs)          тФВ
тФВ тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР   тФВ
тФВ тФВ L2TP Header                   тФВ   тФВ
тФВ тФВ тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР   тФВ   тФВ
тФВ тФВ тФВ PPP Header              тФВ   тФВ   тФВ
тФВ тФВ тФВ тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР   тФВ   тФВ   тФВ
тФВ тФВ тФВ тФВ Original Frame    тФВ   тФВ   тФВ   тФВ
тФВ тФВ тФВ тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ   тФВ   тФВ   тФВ
тФВ тФВ тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ   тФВ   тФВ
тФВ тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ   тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ

Benefits:
- Remote access
- Secure tunnel
- Appears on same LAN
```

### 4. Link Aggregation (LAG)

```
Multiple physical links = One logical link

Physical:
Server тФАтФмтФА 1 Gbps тФАтФмтФА Switch
        тФЬтФА 1 Gbps тФАтФд
        тФЬтФА 1 Gbps тФАтФд
        тФФтФА 1 Gbps тФАтФШ

Logical:
Server тХРтХРтХР 4 Gbps тХРтХРтХР Switch

Protocols:
- LACP (Link Aggregation Control Protocol)
- PAgP (Port Aggregation Protocol - Cisco)
- Static LAG

Benefits:
тЬУ Increased bandwidth
тЬУ Redundancy
тЬУ Load balancing

Load Balancing Methods:
1. Source MAC
2. Destination MAC
3. Source+Dest MAC
4. IP addresses
5. Round-robin
```

### 5. QoS (Quality of Service) at Layer 2

```
802.1p Priority Tagging:

Frame:
тФМтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФР
тФВ ...  тФВ802.1Q тФВ  PCP      тФВ ...  тФВ
тФФтФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФАтФШ
                   тФФтФА 3 bits

PCP Values:
тФМтФАтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ Value тФВ Priority        тФВ Traffic    тФВ
тФЬтФАтФАтФАтФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФд
тФВ 7     тФВ Highest         тФВ Network    тФВ
тФВ 6     тФВ Very High       тФВ Voice      тФВ
тФВ 5     тФВ High            тФВ Video      тФВ
тФВ 4     тФВ Medium-High     тФВ Controlled тФВ
тФВ 3     тФВ Medium          тФВ Excellent  тФВ
тФВ 2     тФВ Medium-Low      тФВ Standard   тФВ
тФВ 1     тФВ Low             тФВ Background тФВ
тФВ 0     тФВ Lowest (Default)тФВ Best EffortтФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ

Switch Queuing:
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ  High Priority Queue        тФВ тЖР Voice
тФВ  (Process first)            тФВ
тФЬтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФд
тФВ  Medium Priority Queue      тФВ тЖР Video
тФЬтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФд
тФВ  Low Priority Queue         тФВ тЖР Data
тФВ  (Process last)             тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ

Use Case:
VoIP call + File download
тЖТ VoIP gets priority
тЖТ No choppy audio тЬУ
```

### 6. Jumbo Frames

```
Standard Frame: 1518 bytes (1500 data)
Jumbo Frame: 9018 bytes (9000 data)

Benefits:
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ Standard (1500 byte payload):     тФВ
тФВ 1 GB file = 699,051 frames        тФВ
тФВ Headers: 699,051 ├Ч 18 = 12.6 MB   тФВ
тФЬтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФд
тФВ Jumbo (9000 byte payload):        тФВ
тФВ 1 GB file = 116,509 frames        тФВ
тФВ Headers: 116,509 ├Ч 18 = 2.1 MB    тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ

Overhead saved: 10.5 MB тЬУ
Less CPU processing тЬУ
Higher throughput тЬУ

Requirements:
- ALL devices must support
- MTU = 9000 on all paths
- One device doesn't support = fragmentation

Configuration:
Linux:
ip link set eth0 mtu 9000

Windows:
Network Adapter Properties тЖТ Advanced тЖТ Jumbo Frame

Use Cases:
- Storage networks
- Backup systems
- High-performance computing
- Server-to-server transfers
```

---

## ЁЯУК Summary Chart

```
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ         Data Link Layer - Quick Reference              тФВ
тФЬтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФд
тФВ Function        тФВ Details                               тФВ
тФЬтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФд
тФВ Addressing      тФВ MAC (48-bit physical)                 тФВ
тФВ Frame Size      тФВ 64-1518 bytes (standard)              тФВ
тФВ Error Detection тФВ CRC-32 (FCS)                          тФВ
тФВ Flow Control    тФВ Pause frames, buffering               тФВ
тФВ Access Method   тФВ CSMA/CD (old), Full-duplex (modern)  тФВ
тФВ Main Device     тФВ Switch (Layer 2)                      тФВ
тФВ Protocol        тФВ Ethernet (IEEE 802.3)                 тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ
```

ржПржЗ ржирзЛржЯрзЗ Data Link Layer ржПрж░ рж╕ржорзНржкрзВрж░рзНржг ржмрж┐рж╕рзНрждрж╛рж░рж┐ржд ржЖрж▓рзЛржЪржирж╛ ржХрж░рж╛ рж╣ржпрж╝рзЗржЫрзЗред ржХрзЛржи ржкрзНрж░рж╢рзНржи ржерж╛ржХрж▓рзЗ ржЬрж┐ржЬрзНржЮрж╛рж╕рж╛ ржХрж░рзБржи! ЁЯУЪ
