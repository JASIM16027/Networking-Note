# Transport Layer - рж╕ржорзНржкрзВрж░рзНржг ржмрж┐рж╕рзНрждрж╛рж░рж┐ржд ржмрзНржпрж╛ржЦрзНржпрж╛ ЁЯЪЪ

---

# рж╕рзВржЪрж┐ржкрждрзНрж░

1. **Transport Layer ржХрж┐ ржПржмржВ ржХрзЗржи?**
2. **TCP - ржмрж┐рж╕рзНрждрж╛рж░рж┐ржд**
3. **UDP - ржмрж┐рж╕рзНрждрж╛рж░рж┐ржд**
4. **Port Numbers**
5. **TCP vs UDP рждрзБрж▓ржирж╛**
6. **Flow Control & Congestion Control**
7. **Error Detection & Correction**
8. **Multiplexing & Demultiplexing**
9. **Real-Life Examples**

---

# рзз. Transport Layer - ржорзМрж▓рж┐ржХ ржзрж╛рж░ржгрж╛

## Transport Layer ржХрж┐?

```
OSI Model ржП Position:

тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ Layer 7: ApplicationтФВ тЖР ржЖржкржирж┐ ржПржЦрж╛ржирзЗ
тФЬтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФд
тФВ Layer 6: PresentationтФВ
тФЬтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФд
тФВ Layer 5: Session    тФВ
тФЬтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФд
тФВ Layer 4: TRANSPORT  тФВ тнР ржЖржорж░рж╛ ржПржЦрж╛ржирзЗ!
тФЬтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФд
тФВ Layer 3: Network    тФВ тЖР IP Address
тФЬтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФд
тФВ Layer 2: Data Link  тФВ тЖР MAC Address
тФЬтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФд
тФВ Layer 1: Physical   тФВ тЖР Cable, Wi-Fi
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ
```

## ржХрж╛ржЬ ржХрж┐?

```
Transport Layer = ржбрзЗрж▓рж┐ржнрж╛рж░рж┐ рж╕рж╛рж░рзНржнрж┐рж╕ ЁЯУж

ржпрзЗржоржи:
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
Courier Service (ржбрж╛ржХ):
- Package ржирж┐ржпрж╝рзЗ ржпрж╛ржпрж╝
- рж╕ржарж┐ржХ Address ржП ржжрзЗржпрж╝
- ржирж┐рж░рж╛ржкржжрзЗ ржкрзМржБржЫрж╛ржпрж╝
- ржХрзНрж╖рждрж┐ржЧрзНрж░рж╕рзНржд рж╣рж▓рзЗ ржЖржмрж╛рж░ ржкрж╛ржарж╛ржпрж╝

Transport Layer:
- Data ржирж┐ржпрж╝рзЗ ржпрж╛ржпрж╝
- рж╕ржарж┐ржХ Application ржП ржжрзЗржпрж╝
- Error Check ржХрж░рзЗ
- рж╣рж╛рж░рж┐ржпрж╝рзЗ ржЧрзЗрж▓рзЗ ржЖржмрж╛рж░ ржкрж╛ржарж╛ржпрж╝
```

---

## ржЧрж▓рзНржкрзЗрж░ ржорж╛ржзрзНржпржорзЗ ржмрзБржЭрж┐:

```
Scenario: ржЖржкржирж┐ YouTube ржП Video ржжрзЗржЦржЫрзЗржи

Application Layer:
ЁЯОм "ржЖржорж┐ Video ржЪрж╛ржЗ!"

Transport Layer:
ЁЯУж "ржарж┐ржХ ржЖржЫрзЗ! ржЖржорж┐ Video ржХрзЗ 
    ржЫрзЛржЯ ржЫрзЛржЯ Segment ржП ржнрж╛ржЧ ржХрж░рзЗ 
    ржкрж╛ржарж╛ржЪрзНржЫрж┐ред Port 443 ржмрзНржпржмрж╣рж╛рж░ ржХрж░ржмред"

Network Layer:
ЁЯЧ║я╕П "ржЖржорж┐ IP Address ржжрж┐ржпрж╝рзЗ 
    ржкрже ржЦрзБржБржЬрзЗ ржжрж┐ржЪрзНржЫрж┐ред"

Data Link Layer:
ЁЯФЧ "ржЖржорж┐ MAC Address ржжрж┐ржпрж╝рзЗ 
    Local ржП ржкрж╛ржарж╛ржЪрзНржЫрж┐ред"

Physical Layer:
тЪб "ржЖржорж┐ Cable/Wi-Fi ржжрж┐ржпрж╝рзЗ 
    Signal ржкрж╛ржарж╛ржЪрзНржЫрж┐ред"
```

---

## Transport Layer ржПрж░ ржжрж╛ржпрж╝рж┐рждрзНржм:

```
1. Segmentation (ржнрж╛ржЧ ржХрж░рж╛):
   ржмржбрж╝ Data тЖТ ржЫрзЛржЯ Segments

2. Reassembly (ржЬрзЛржбрж╝рж╛ рж▓рж╛ржЧрж╛ржирзЛ):
   ржЫрзЛржЯ Segments тЖТ ржмржбрж╝ Data

3. Port Numbers (ржарж┐ржХрж╛ржирж╛):
   ржХрзЛржи Application ржП ржпрж╛ржмрзЗ?

4. Connection Management:
   рж╕ржВржпрзЛржЧ рждрзИрж░рж┐, ржмржЬрж╛ржпрж╝ рж░рж╛ржЦрж╛, ржмржирзНржз ржХрж░рж╛

5. Flow Control (ржЧрждрж┐ ржирж┐ржпрж╝ржирзНрждрзНрж░ржг):
   ржЦрзБржм ржжрзНрж░рзБржд ржкрж╛ржарж╛рж▓рзЗ рж╕ржорж╕рзНржпрж╛!

6. Error Control:
   ржнрзБрж▓ Data ржзрж░рж╛ ржПржмржВ рж╕ржВрж╢рзЛржзржи

7. Congestion Control:
   Network ржнрж░рзЗ ржЧрзЗрж▓рзЗ ржзрзАрж░рзЗ ржкрж╛ржарж╛ржирзЛ
```

---

# рзи. TCP - Transmission Control Protocol

## TCP ржХрж┐?

```
TCP = ржирж┐рж░рзНржнрж░ржпрзЛржЧрзНржп ржбрзЗрж▓рж┐ржнрж╛рж░рж┐ рж╕рж╛рж░рзНржнрж┐рж╕ ЁЯЪЪтЬЕ

ржпрзЗржоржи ржХрзБрж░рж┐ржпрж╝рж╛рж░ рж╕рж╛рж░рзНржнрж┐рж╕:
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
1. Package ржкрзМржБржЫрзЗржЫрзЗ ржХрж┐ржирж╛ ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рзЗ
2. ржХрзНрж╖рждрж┐ржЧрзНрж░рж╕рзНржд рж╣рж▓рзЗ ржЖржмрж╛рж░ ржкрж╛ржарж╛ржпрж╝
3. рж╕ржарж┐ржХ ржХрзНрж░ржорзЗ ржжрзЗржпрж╝
4. Receipt (рж░рж╕рж┐ржж) ржжрзЗржпрж╝

TCP ржарж┐ржХ рждрзЗржоржирж┐!
```

---

## TCP ржПрж░ ржмрзИрж╢рж┐рж╖рзНржЯрзНржп:

```
тЬЕ Connection-Oriented:
   - ржЖржЧрзЗ рж╕ржВржпрзЛржЧ рждрзИрж░рж┐ ржХрж░рждрзЗ рж╣ржпрж╝
   - рждрж╛рж░ржкрж░ Data ржкрж╛ржарж╛ржирзЛ ржпрж╛ржпрж╝

тЬЕ Reliable (ржирж┐рж░рзНржнрж░ржпрзЛржЧрзНржп):
   - ржкрзНрж░рждрж┐ржЯрж╛ Packet ржкрзМржБржЫрзЗржЫрзЗ ржХрж┐ржирж╛ Check ржХрж░рзЗ
   - рж╣рж╛рж░рж┐ржпрж╝рзЗ ржЧрзЗрж▓рзЗ ржЖржмрж╛рж░ ржкрж╛ржарж╛ржпрж╝

тЬЕ Ordered (ржХрзНрж░ржорж╛ржирзБрж╕рж╛рж░рзЗ):
   - Packet ржПрж▓рзЛржорзЗрж▓рзЛ ржЖрж╕рж▓рзЗржУ
   - рж╕ржарж┐ржХ ржХрзНрж░ржорзЗ рж╕рж╛ржЬрж┐ржпрж╝рзЗ ржжрзЗржпрж╝

тЬЕ Error Checking:
   - Checksum ржжрж┐ржпрж╝рзЗ ржнрзБрж▓ ржзрж░рзЗ
   - ржнрзБрж▓ ржерж╛ржХрж▓рзЗ ржмрж╛рждрж┐рж▓ ржХрж░рзЗ

тЬЕ Flow Control:
   - Receiver ржПрж░ Speed ржЕржирзБржпрж╛ржпрж╝рзА ржкрж╛ржарж╛ржпрж╝

тЬЕ Congestion Control:
   - Network ржЬрзНржпрж╛ржо рж╣рж▓рзЗ ржзрзАрж░рзЗ ржкрж╛ржарж╛ржпрж╝

тЭМ Slow (ржзрзАрж░):
   - ржЕржирзЗржХ Check ржХрж░рзЗ ржмрж▓рзЗ рж╕ржоржпрж╝ ржирзЗржпрж╝
```

---

## TCP Segment Structure:

```
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ          Source Port (16 bits)             тФВ ржХрзЛржерж╛ ржерзЗржХрзЗ?
тФЬтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФд
тФВ       Destination Port (16 bits)           тФВ ржХрзЛржерж╛ржпрж╝ ржпрж╛ржмрзЗ?
тФЬтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФд
тФВ      Sequence Number (32 bits)             тФВ Segment ржиржорзНржмрж░
тФЬтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФд
тФВ    Acknowledgment Number (32 bits)         тФВ ржХрзЛржиржЯрж╛ ржкрзЗржпрж╝рзЗржЫрж┐
тФЬтФАтФАтФАтФмтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФд
тФВHdrтФВRes.тФВ Flags тФВ   Window Size (16 bits)   тФВ ржХржд ржкрж╛ржарж╛рждрзЗ ржкрж╛рж░рзЛ
тФЬтФАтФАтФАтФ┤тФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФд
тФВ   Checksum    тФВ    Urgent Pointer         тФВ Error Check
тФЬтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФд
тФВ           Options (if any)                 тФВ
тФЬтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФд
тФВ              DATA                          тФВ ржЖрж╕рж▓ рждржерзНржп
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ
```

---

## TCP Flags - ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржг!

```
Flags (6ржЯрж╛ Control Bits):

1. SYN (Synchronize):
   рж╕ржВржпрзЛржЧ рж╢рзБрж░рзБ ржХрж░рждрзЗ ржЪрж╛ржЗ!
   
2. ACK (Acknowledgment):
   ржкрзЗржпрж╝рзЗржЫрж┐, ржзржирзНржпржмрж╛ржж!
   
3. FIN (Finish):
   рж╕ржВржпрзЛржЧ рж╢рзЗрж╖ ржХрж░рждрзЗ ржЪрж╛ржЗ!
   
4. RST (Reset):
   рж╕ржВржпрзЛржЧ ржмрж╛рждрж┐рж▓ ржХрж░рзЛ!
   
5. PSH (Push):
   ржПржЦржиржЗ Data ржкрж╛ржарж╛ржУ, ржЕржкрзЗржХрзНрж╖рж╛ ржХрж░рзЛ ржирж╛!
   
6. URG (Urgent):
   ржЬрж░рзБрж░рж┐ Data!

ржЙржжрж╛рж╣рж░ржг:
SYN=1, ACK=0 тЖТ "Connect ржХрж░рждрзЗ ржЪрж╛ржЗ"
SYN=1, ACK=1 тЖТ "ржарж┐ржХ ржЖржЫрзЗ, ржЖржорж┐ржУ Ready"
SYN=0, ACK=1 тЖТ "Data ржкрзЗржпрж╝рзЗржЫрж┐"
FIN=1, ACK=1 тЖТ "ржмрж┐ржжрж╛ржпрж╝ ржирж┐ржЪрзНржЫрж┐"
```

---

## TCP Three-Way Handshake - ржмрж┐рж╕рзНрждрж╛рж░рж┐ржд

### ржХрзЗржи ржжрж░ржХрж╛рж░?

```
ржоржирзЗ ржХрж░рзБржи ржЯрзЗрж▓рж┐ржлрзЛржи ржХрж▓:

ржЖржкржирж┐: "рж╣рзНржпрж╛рж▓рзЛ?" (SYN)
ржмржирзНржзрзБ: "рж╣рзНржпрж╛ржБ, рж╢рзБржиржЫрж┐!" (SYN-ACK)
ржЖржкржирж┐: "ржарж┐ржХ ржЖржЫрзЗ, ржмрж▓ржЫрж┐..." (ACK)

ржПржЦржи ржХржерж╛ рж╢рзБрж░рзБ! тЬЕ

TCP ржарж┐ржХ рждрзЗржоржирж┐!
```

---

### Step-by-Step:

```
Client (ржЖржкржирж╛рж░ PC)          Server (Google)
    192.168.1.10               142.250.185.78
         тФВ                            тФВ
         тФВ                            тФВ
Step 1: SYN (рж╕ржВржпрзЛржЧ ржЪрж╛ржУржпрж╝рж╛)
тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФА
         тФВтФАтФАтФАтФАтФАтФА SYN тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтЖТ тФВ
         тФВ                            тФВ
    "Connect ржХрж░рждрзЗ ржЪрж╛ржЗ!"
    SEQ = 1000 (Random ржиржорзНржмрж░)
    SYN = 1
    ACK = 0
         тФВ                            тФВ
         тФВ                            тФВ
Step 2: SYN-ACK (рж╕ржорзНржорждрж┐ + Ready)
тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФА
         тФВ тЖРтФАтФАтФАтФА SYN-ACK тФАтФАтФАтФАтФАтФАтФАтФАтФАтФА  тФВ
         тФВ                            тФВ
                            "ржарж┐ржХ ржЖржЫрзЗ, ржЖржорж┐ржУ Ready!"
                            SEQ = 5000 (Random)
                            ACK = 1001 (рждрзЛржорж╛рж░ ржкрж░ржмрж░рзНрждрзА)
                            SYN = 1
                            ACK = 1
         тФВ                            тФВ
         тФВ                            тФВ
Step 3: ACK (ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рж╛)
тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФА
         тФВтФАтФАтФАтФАтФАтФА ACK тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтЖТ тФВ
         тФВ                            тФВ
    "рж╢рзБрж░рзБ ржХрж░рж┐!"
    SEQ = 1001
    ACK = 5001 (рждрзЛржорж╛рж░ ржкрж░ржмрж░рзНрждрзА)
    SYN = 0
    ACK = 1
         тФВ                            тФВ
         тФВ                            тФВ
    тЬЕ рж╕ржВржпрзЛржЧ рждрзИрж░рж┐ рж╕ржорзНржкрзВрж░рзНржг!
         тФВ                            тФВ
         тФВтХРтХРтХР Data Transfer тХРтХРтХРтХРтХРтХРтХРтЖТ тФВ
         тФВ тЖРтХРтХРтХР Data Transfer тХРтХРтХРтХРтХРтХРтХРтФВ
         тФВ                            тФВ
```

---

### ржмрж╛рж╕рзНрждржм ржЙржжрж╛рж╣рж░ржг - Wireshark Capture:

```
Packet 1: Client тЖТ Server
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
Source: 192.168.1.10:53245
Dest: 142.250.185.78:443
Flags: SYN
SEQ: 1000
ACK: 0
Window: 65535
Options: MSS=1460

Packet 2: Server тЖТ Client
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
Source: 142.250.185.78:443
Dest: 192.168.1.10:53245
Flags: SYN, ACK
SEQ: 5000
ACK: 1001
Window: 42340
Options: MSS=1460

Packet 3: Client тЖТ Server
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
Source: 192.168.1.10:53245
Dest: 142.250.185.78:443
Flags: ACK
SEQ: 1001
ACK: 5001
Window: 65535

тЬЕ Connection Established!
```

---

## TCP Data Transfer - ржХрж┐ржнрж╛ржмрзЗ рж╣ржпрж╝?

```
Sequence Number ржПржмржВ Acknowledgment:

Client                          Server
  тФВ                                тФВ
  тФВтФАтФАтФАтФА SEQ=1001, 100 bytes тФАтФАтФАтФАтЖТтФВ
  тФВ                                тФВ
  тФВ                         ржкрзЗржпрж╝рзЗржЫрж┐!
  тФВ                         ржкрж░ржмрж░рзНрждрзА ржЪрж╛ржЗ: 1101
  тФВ                                тФВ
  тФВ тЖРтФАтФАтФАтФА ACK=1101 тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФВ
  тФВ                                тФВ
  тФВтФАтФАтФАтФА SEQ=1101, 100 bytes тФАтФАтФАтФАтЖТтФВ
  тФВ                                тФВ
  тФВ тЖРтФАтФАтФАтФА ACK=1201 тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФВ
  тФВ                                тФВ

ржпржжрж┐ Packet рж╣рж╛рж░рж┐ржпрж╝рзЗ ржпрж╛ржпрж╝:
тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФА
  тФВтФАтФАтФАтФА SEQ=1001, 100 bytes тФАтФАтФАтФАтЖТтФВ
  тФВ                                тФВ
  тФВтФАтФАтФАтФА SEQ=1101, 100 bytes тФАтФАX   тФВ рж╣рж╛рж░рж┐ржпрж╝рзЗ ржЧрзЗрж▓!
  тФВ                                тФВ
  тФВтФАтФАтФАтФА SEQ=1201, 100 bytes тФАтФАтФАтФАтЖТтФВ
  тФВ                                тФВ
  тФВ тЖРтФАтФАтФАтФА ACK=1101 тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФВ "1101 ржЪрж╛ржЗ!"
  тФВ                                тФВ
  тФВтФАтФАтФАтФА SEQ=1101, 100 bytes тФАтФАтФАтФАтЖТтФВ ржЖржмрж╛рж░ ржкрж╛ржарж╛рж▓рзЛ!
  тФВ                                тФВ
  тФВ тЖРтФАтФАтФАтФА ACK=1201 тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФВ "ржкрзЗржпрж╝рзЗржЫрж┐!"
```

---

## TCP Connection Termination - ржмржирзНржз ржХрж░рж╛

### Four-Way Handshake:

```
Client                          Server
  тФВ                                тФВ
  тФВ                                тФВ
Step 1: FIN (ржмрж┐ржжрж╛ржпрж╝)
тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФА
  тФВтФАтФАтФАтФА FIN, ACK тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтЖТтФВ
  тФВ                                тФВ
  "ржЖржорж┐ рж╢рзЗрж╖ ржХрж░рждрзЗ ржЪрж╛ржЗ!"
  SEQ = 5000
  FIN = 1
  тФВ                                тФВ
  тФВ                                тФВ
Step 2: ACK (рж╕рзНржмрзАржХрзГрждрж┐)
тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФА
  тФВ тЖРтФАтФАтФАтФА ACK тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФВ
  тФВ                                тФВ
                    "ржарж┐ржХ ржЖржЫрзЗ, ржмрзБржЭрзЗржЫрж┐!"
                    ACK = 5001
  тФВ                                тФВ
  тФВ                                тФВ
Step 3: FIN (Server ржУ рж╢рзЗрж╖ ржХрж░рзЗ)
тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФА
  тФВ тЖРтФАтФАтФАтФА FIN, ACK тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФВ
  тФВ                                тФВ
                    "ржЖржорж┐ржУ рж╢рзЗрж╖ ржХрж░ржЫрж┐!"
                    SEQ = 8000
                    FIN = 1
  тФВ                                тФВ
  тФВ                                тФВ
Step 4: ACK (ржЪрзВржбрж╝рж╛ржирзНржд рж╕рзНржмрзАржХрзГрждрж┐)
тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФА
  тФВтФАтФАтФАтФА ACK тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтЖТтФВ
  тФВ                                тФВ
  "ржмрж╛ржЗ ржмрж╛ржЗ!"
  ACK = 8001
  тФВ                                тФВ
  тФВ                                тФВ
тЬЕ рж╕ржВржпрзЛржЧ ржмржирзНржз рж╕ржорзНржкрзВрж░рзНржг!
  тФВ                                тФВ
```

---

## TCP Flow Control - Window Size

### Sliding Window ржХрж┐?

```
рж╕ржорж╕рзНржпрж╛:
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
Sender ржЦрзБржм ржжрзНрж░рзБржд ржкрж╛ржарж╛ржЪрзНржЫрзЗ
Receiver Handle ржХрж░рждрзЗ ржкрж╛рж░ржЫрзЗ ржирж╛!

рж╕ржорж╛ржзрж╛ржи: Window Size
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
Receiver ржмрж▓рзЗ ржжрзЗржпрж╝ ржХржд Data ржПржХрж╕рж╛ржерзЗ ржкрж╛ржарж╛рждрзЗ ржкрж╛рж░рзЗ
```

### Example:

```
Receiver Buffer: 1000 bytes

Step 1:
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
Receiver тЖТ Sender:
"Window Size = 1000"
"рждрзБржорж┐ 1000 bytes ржкрж╛ржарж╛рждрзЗ ржкрж╛рж░рзЛ"

Sender:
тФМтФАтФАтФАтФАтФмтФАтФАтФАтФАтФмтФАтФАтФАтФАтФмтФАтФАтФАтФАтФР
тФВ 250тФВ 250тФВ 250тФВ 250тФВ = 1000 bytes ржкрж╛ржарж╛рж▓рзЛ
тФФтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФШ

Step 2:
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
Receiver 500 bytes Process ржХрж░рзЗржЫрзЗ
Buffer ржП 500 bytes ржЦрж╛рж▓рж┐

Receiver тЖТ Sender:
"Window Size = 500"
"ржПржЦржи 500 bytes ржкрж╛ржарж╛ржУ"

Sender:
тФМтФАтФАтФАтФАтФмтФАтФАтФАтФАтФР
тФВ 250тФВ 250тФВ = 500 bytes ржкрж╛ржарж╛рж▓рзЛ
тФФтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФШ

Step 3:
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
Receiver рж╕ржм Process ржХрж░рзЗржЫрзЗ
Buffer ржкрзБрж░рзЛ ржЦрж╛рж▓рж┐!

Receiver тЖТ Sender:
"Window Size = 1000"
"ржЖржмрж╛рж░ 1000 bytes ржкрж╛ржарж╛рждрзЗ ржкрж╛рж░рзЛ!"
```

---

## TCP Congestion Control

### ржХрж┐ рж╕ржорж╕рзНржпрж╛?

```
                тФМтФАтФАтФАтФАтФАтФР
         тФМтФАтФАтФАтФАтФАтЖТтФВ  R1 тФВтФАтФАтФАтФАтФР
         тФВ      тФФтФАтФАтФАтФАтФАтФШ    тФВ
    тФМтФАтФАтФАтФАтФ┤тФАтФАтФАтФР          тФМтФАтФАтЦ╝тФАтФАтФАтФАтФР
    тФВ Sender тФВ          тФВReceiverтФВ
    тФФтФАтФАтФАтФАтФмтФАтФАтФАтФШ          тФФтФАтФАтЦ▓тФАтФАтФАтФАтФШ
         тФВ      тФМтФАтФАтФАтФАтФАтФР    тФВ
         тФФтФАтФАтФАтФАтФАтЖТтФВ  R2 тФВтФАтФАтФАтФАтФШ
                тФФтФАтФАтФАтФАтФАтФШ

ржЕржирзЗржХ Sender ржПржХрж╕рж╛ржерзЗ Data ржкрж╛ржарж╛ржЪрзНржЫрзЗ
Router ржЬрзНржпрж╛ржо! ЁЯЪж

Packet Drop рж╣ржЪрзНржЫрзЗ! тЭМ
```

### рж╕ржорж╛ржзрж╛ржи - Slow Start:

```
Congestion Window (cwnd):

Round 1: 1 Segment ржкрж╛ржарж╛ржУ
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
тФМтФАтФАтФАтФР
тФВ 1 тФВ ржкрж╛ржарж╛рж▓рзЛ
тФФтФАтФАтФАтФШ
ACK ржкрзЗрж▓рж╛ржо! тЬЕ

Round 2: 2 Segments ржкрж╛ржарж╛ржУ
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
тФМтФАтФАтФАтФмтФАтФАтФАтФР
тФВ 1 тФВ 2 тФВ ржкрж╛ржарж╛рж▓рзЛ
тФФтФАтФАтФАтФ┤тФАтФАтФАтФШ
ACK ржкрзЗрж▓рж╛ржо! тЬЕ

Round 3: 4 Segments ржкрж╛ржарж╛ржУ
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
тФМтФАтФАтФАтФмтФАтФАтФАтФмтФАтФАтФАтФмтФАтФАтФАтФР
тФВ 1 тФВ 2 тФВ 3 тФВ 4 тФВ ржкрж╛ржарж╛рж▓рзЛ
тФФтФАтФАтФАтФ┤тФАтФАтФАтФ┤тФАтФАтФАтФ┤тФАтФАтФАтФШ
ACK ржкрзЗрж▓рж╛ржо! тЬЕ

Round 4: 8 Segments ржкрж╛ржарж╛ржУ
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
тФМтФАтФАтФАтФмтФАтФАтФАтФмтФАтФАтФАтФмтФАтФАтФАтФмтФАтФАтФАтФмтФАтФАтФАтФмтФАтФАтФАтФмтФАтФАтФАтФР
тФВ 1 тФВ 2 тФВ 3 тФВ 4 тФВ 5 тФВ 6 тФВ 7 тФВ 8 тФВ
тФФтФАтФАтФАтФ┤тФАтФАтФАтФ┤тФАтФАтФАтФ┤тФАтФАтФАтФ┤тФАтФАтФАтФ┤тФАтФАтФАтФ┤тФАтФАтФАтФ┤тФАтФАтФАтФШ

...ржзрзАрж░рзЗ ржзрзАрж░рзЗ ржмрж╛ржбрж╝ржЫрзЗ (Exponential)

ржпржжрж┐ Packet Loss рж╣ржпрж╝:
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
cwnd ржХржорж┐ржпрж╝рзЗ ржЖржмрж╛рж░ рж╢рзБрж░рзБ!
```

---

# рзй. UDP - User Datagram Protocol

## UDP ржХрж┐?

```
UDP = ржжрзНрж░рзБржд ржХрж┐ржирзНрждрзБ ржЕржирж┐рж░рзНржнрж░ржпрзЛржЧрзНржп ржбрзЗрж▓рж┐ржнрж╛рж░рж┐ ЁЯЪА

ржпрзЗржоржи рж╕рж╛ржзрж╛рж░ржг ржбрж╛ржХ:
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
- ржЪрж┐ржарж┐ ржкрж╛ржарж╛рж▓рзЛ
- ржкрзМржБржЫрзЗржЫрзЗ ржХрж┐ржирж╛ ржЬрж╛ржирзЗ ржирж╛!
- рж╣рж╛рж░рж┐ржпрж╝рзЗ ржЧрзЗрж▓рзЗ ржХрж┐ржЫрзБ ржХрж░рзЗ ржирж╛
- ржХрж┐ржирзНрждрзБ ржжрзНрж░рзБржд! тЪб

UDP ржарж┐ржХ рждрзЗржоржирж┐!
```

---

## UDP ржПрж░ ржмрзИрж╢рж┐рж╖рзНржЯрзНржп:

```
тЬЕ Connectionless:
   - рж╕ржВржпрзЛржЧ рждрзИрж░рж┐ ржХрж░рждрзЗ рж╣ржпрж╝ ржирж╛
   - рж╕рж░рж╛рж╕рж░рж┐ ржкрж╛ржарж╛ржирзЛ рж╢рзБрж░рзБ

тЬЕ Fast (ржжрзНрж░рзБржд):
   - ржХрзЛржи Handshake ржирзЗржЗ
   - ржХрзЛржи ACK ржирзЗржЗ
   - рждрж╛ржЗ ржжрзНрж░рзБржд!

тЬЕ Simple (рж╕рж╣ржЬ):
   - ржХржо overhead
   - ржЫрзЛржЯ Header

тЭМ Unreliable (ржЕржирж┐рж░рзНржнрж░ржпрзЛржЧрзНржп):
   - ржкрзМржБржЫрзЗржЫрзЗ ржХрж┐ржирж╛ Check ржХрж░рзЗ ржирж╛
   - рж╣рж╛рж░рж┐ржпрж╝рзЗ ржЧрзЗрж▓рзЗ ржЖржмрж╛рж░ ржкрж╛ржарж╛ржпрж╝ ржирж╛

тЭМ No Ordering:
   - ржПрж▓рзЛржорзЗрж▓рзЛ ржЖрж╕рждрзЗ ржкрж╛рж░рзЗ
   - ржХрзНрж░ржорзЗ рж╕рж╛ржЬрж╛ржпрж╝ ржирж╛

тЭМ No Flow Control:
   - Receiver ржПрж░ ржЕржмрж╕рзНржерж╛ ржжрзЗржЦрзЗ ржирж╛

тЭМ No Congestion Control:
   - Network ржЬрзНржпрж╛ржо рж╣рж▓рзЗржУ ржкрж╛ржарж╛ржпрж╝
```

---

## UDP Datagram Structure:

```
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ    Source Port (16 bits)           тФВ ржХрзЛржерж╛ ржерзЗржХрзЗ?
тФЬтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФд
тФВ    Destination Port (16 bits)      тФВ ржХрзЛржерж╛ржпрж╝ ржпрж╛ржмрзЗ?
тФЬтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФд
тФВ    Length (16 bits)                тФВ ржХржд ржмржбрж╝?
тФЬтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФд
тФВ    Checksum (16 bits)              тФВ Error Check
тФЬтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФд
тФВ                                    тФВ
тФВ            DATA                    тФВ ржЖрж╕рж▓ рждржерзНржп
тФВ                                    тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ

ржорж╛рждрзНрж░ 8 bytes Header!
(TCP рждрзЗ 20+ bytes)

Simple ржПржмржВ Fast! тЪб
```

---

## UDP ржХржЦржи ржмрзНржпржмрж╣рж╛рж░ рж╣ржпрж╝?

```
1. Live Streaming (Video/Audio):
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
YouTube Live, Netflix, Zoom Call

ржХрзЗржи UDP?
- ржжрзНрж░рзБржд ржжрж░ржХрж╛рж░
- ржПржХржЯрж╛ Frame рж╣рж╛рж░рж┐ржпрж╝рзЗ ржЧрзЗрж▓рзЗ рж╕ржорж╕рзНржпрж╛ ржирзЗржЗ
- ржкрзБрж░ржирзЛ Frame ржЖржмрж╛рж░ ржкрзЗрж▓рзЗ ржХрж╛ржЬ ржирзЗржЗ!

2. Online Gaming:
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
PUBG, Free Fire, Call of Duty

ржХрзЗржи UDP?
- Real-time ржжрж░ржХрж╛рж░
- 100ms ржкрзБрж░ржирзЛ Position ржПрж░ ржжрж░ржХрж╛рж░ ржирзЗржЗ!

3. VoIP (Voice Call):
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
WhatsApp Call, Skype

ржХрзЗржи UDP?
- рж╕рж╛ржорж╛ржирзНржп Loss рж╕рж╣рзНржп ржХрж░рж╛ ржпрж╛ржпрж╝
- Delay рж╣рж▓рзЗ ржХржерж╛ ржмрзБржЭрж╛ ржпрж╛ржпрж╝ ржирж╛!

4. DNS Queries:
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
Domain Name тЖТ IP

ржХрзЗржи UDP?
- ржЫрзЛржЯ Request/Response
- ржжрзНрж░рзБржд ржЪрж╛ржЗ
- ржирж╛ ржкрзЗрж▓рзЗ ржЖржмрж╛рж░ ржЪрж╛ржЗржм!

5. DHCP:
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
IP Address ржкрж╛ржУржпрж╝рж╛

ржХрзЗржи UDP?
- Broadcast ржХрж░рждрзЗ рж╣ржпрж╝
- TCP Connection ржирзЗржЗ ржПржЦржирзЛ!

6. TFTP (Trivial File Transfer):
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
Router Configuration Download

ржХрзЗржи UDP?
- Simple ржЪрж╛ржЗ
- Small Files
```

---

## UDP Example - DNS Query:

```
Step 1: Query ржкрж╛ржарж╛ржирзЛ
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
Your PC: "google.com ржПрж░ IP ржХрж┐?"

UDP Packet:
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ Source Port: 53245       тФВ
тФВ Dest Port: 53 (DNS)      тФВ
тФВ Length: 32               тФВ
тФВ Checksum: 0x1A2B         тФВ
тФЬтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФд
тФВ Query: google.com?       тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ
       тЖУ
DNS Server: 8.8.8.8

Step 2: Response ржкрж╛ржУржпрж╝рж╛
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
DNS Server: "142.250.185.78"

UDP Packet:
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ Source Port: 53          тФВ
тФВ Dest Port: 53245         тФВ
тФВ Length: 48               тФВ
тФВ Checksum: 0x3C4D         тФВ
тФЬтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФд
тФВ Answer: 142.250.185.78   тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ
       тЖУ
Your PC: "ржкрзЗржпрж╝рзЗ ржЧрзЗржЫрж┐!"

ржорж╛рждрзНрж░ 2ржЯрж╛ Packet!
ржжрзНрж░рзБржд! тЪб
```

---

# рзк. Port Numbers - ржмрж┐рж╕рзНрждрж╛рж░рж┐ржд

## Port Number ржХрж┐?

```
IP Address = ржмрж╛ржбрж╝рж┐рж░ ржарж┐ржХрж╛ржирж╛
Port Number = ржмрж╛ржбрж╝рж┐рж░ ржжрж░ржЬрж╛/ржЬрж╛ржирж╛рж▓рж╛

ржПржХржЯрж╛ ржмрж╛ржбрж╝рж┐рждрзЗ ржЕржирзЗржХ ржжрж░ржЬрж╛:
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ   ЁЯПа 192.168.1.10      тФВ
тФВ                        тФВ
тФВ ЁЯЪк Port 80 - Web       тФВ
тФВ ЁЯЪк Port 443 - HTTPS    тФВ
тФВ ЁЯЪк Port 22 - SSH       тФВ
тФВ ЁЯЪк Port 25 - Email     тФВ
тФВ ЁЯЪк Port 53 - DNS       тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ

ржкрзНрж░рждрж┐ржЯрж╛ Port = ржЖрж▓рж╛ржжрж╛ Service
```

---

## Port Number Range:

```
ржорзЛржЯ Ports: 0 - 65535 (65,536ржЯрж╛)

ржнрж╛ржЧ ржХрж░рж╛ ржЖржЫрзЗ:

1. Well-Known Ports (0-1023):
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
   ржЬржиржкрзНрж░рж┐ржпрж╝ Services
   Reserved (рж╕ржВрж░ржХрзНрж╖рж┐ржд)
   Admin Permission ржжрж░ржХрж╛рж░

2. Registered Ports (1024-49151):
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
   ржХрзЛржорзНржкрж╛ржирж┐ Register ржХрж░рзЗ ржирзЗржпрж╝
   ржпрзЗржоржи: MySQL = 3306

3. Dynamic/Private Ports (49152-65535):
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
   ржпрзЗ ржХрзЗржЙ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рждрзЗ ржкрж╛рж░рзЗ
   Temporary Connection ржПрж░ ржЬржирзНржп
```

---

## ржЬржиржкрзНрж░рж┐ржпрж╝ Port Numbers:

```
Web & HTTP:
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
Port 80   тЖТ HTTP (рж╕рж╛ржзрж╛рж░ржг Web)
Port 443  тЖТ HTTPS (Secure Web) тнР
Port 8080 тЖТ Alternative HTTP

Email:
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
Port 25   тЖТ SMTP (ржкрж╛ржарж╛ржирзЛ)
Port 110  тЖТ POP3 (ржирзЗржУржпрж╝рж╛)
Port 143  тЖТ IMAP (ржирзЗржУржпрж╝рж╛)
Port 465  тЖТ SMTPS (Secure SMTP)
Port 587  тЖТ SMTP (TLS)
Port 993  тЖТ IMAPS (Secure IMAP)
Port 995  тЖТ POP3S (Secure POP3)

File Transfer:
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
Port 20   тЖТ FTP Data
Port 21   тЖТ FTP Control
Port 22   тЖТ SFTP/SSH тнР
Port 69   тЖТ TFTP

Remote Access:
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
Port 22   тЖТ SSH (Linux)
Port 23   тЖТ Telnet (ржЕржирж┐рж░рж╛ржкржж!)
Port 3389 тЖТ RDP (Windows Remote)
Port 5900 тЖТ VNC

Database:
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
Port 3306 тЖТ MySQL
Port 5432 тЖТ PostgreSQL
Port 1521 тЖТ Oracle
Port 27017тЖТ MongoDB

DNS & DHCP:
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
Port 53   тЖТ DNS (UDP/TCP)
Port 67   тЖТ DHCP Server
Port 68   тЖТ DHCP Client

Others:
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
Port 123  тЖТ NTP (Time Sync)
Port 161  тЖТ SNMP (Monitoring)
Port 389  тЖТ LDAP
Port 636  тЖТ LDAPS (Secure LDAP)
```

---

## Port ржХрж┐ржнрж╛ржмрзЗ ржХрж╛ржЬ ржХрж░рзЗ - Example:

```
ржЖржкржирж┐ Google ржЦрзБрж▓ржЫрзЗржи:

Your PC:
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
IP: 192.168.1.10
Port: 54321 (Random Dynamic Port)
      тЖУ
Request: "google.com ржЦрзБрж▓рзЗ ржжрж╛ржУ!"

Packet:
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ Source: 192.168.1.10:54321   тФВ
тФВ Dest: 142.250.185.78:443     тФВ
тФВ Protocol: TCP                тФВ
тФВ Data: GET / HTTP/1.1         тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ

Google Server:
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
IP: 142.250.185.78
Port: 443 (HTTPS)
      тЖУ
Response: "ржирж╛ржУ, Homepage!"

Packet:
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ Source: 142.250.185.78:443   тФВ
тФВ Dest: 192.168.1.10:54321     тФВ
тФВ Protocol: TCP                тФВ
тФВ Data: <html>...</html>       тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ

тЬЕ ржЖржкржирж╛рж░ Browser Port 54321 ржП
   ржкрзЗржпрж╝рзЗ ржЧрзЗрж▓!
```

---

# рзл. TCP vs UDP - ржкрзВрж░рзНржг рждрзБрж▓ржирж╛

```
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ    Feature      тФВ      TCP       тФВ      UDP       тФВ
тФЬтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФд
тФВ Connection      тФВ Required       тФВ Not Required   тФВ
тФВ                 тФВ (3-way shake)  тФВ (Connectionless)тФВ
тФЬтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФд
тФВ Reliability     тФВ тЬЕ Guaranteed  тФВ тЭМ No GuaranteeтФВ
тФВ                 тФВ (ACK, Retrans) тФВ                тФВ
тФЬтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФд
тФВ Ordering        тФВ тЬЕ Yes         тФВ тЭМ No          тФВ
тФВ                 тФВ (Seq Numbers)  тФВ                тФВ
тФЬтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФд
тФВ Speed           тФВ тЭМ Slow        тФВ тЬЕ Fast        тФВ
тФВ                 тФВ (Overhead)     тФВ (Low Overhead) тФВ
тФЬтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФд
тФВ Header Size     тФВ 20-60 bytes    тФВ 8 bytes        тФВ
тФЬтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФд
тФВ Flow Control    тФВ тЬЕ Yes         тФВ тЭМ No          тФВ
тФВ                 тФВ (Window Size)  тФВ                тФВ
тФЬтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФд
тФВ Congestion Ctrl тФВ тЬЕ Yes         тФВ тЭМ No          тФВ
тФВ                 тФВ (Slow Start)   тФВ                тФВ
тФЬтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФд
тФВ Error Checking  тФВ тЬЕ Extensive   тФВ тЪая╕П Basic       тФВ
тФВ                 тФВ (Checksum+ACK) тФВ (Checksum only)тФВ
тФЬтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФд
тФВ Broadcasting    тФВ тЭМ No          тФВ тЬЕ Yes         тФВ
тФЬтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФд
тФВ Use Cases       тФВ Web, Email,    тФВ Streaming,     тФВ
тФВ                 тФВ File Transfer, тФВ Gaming,        тФВ
тФВ                 тФВ SSH, FTP       тФВ DNS, VoIP      тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ
```

---

## ржХржЦржи ржХрзЛржиржЯрж╛ ржмрзНржпржмрж╣рж╛рж░ ржХрж░ржмрзЗржи?

```
TCP ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзБржи:
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
тЬЕ Data Loss рж╕рж╣рзНржп ржХрж░рж╛ ржпрж╛ржмрзЗ ржирж╛
тЬЕ Ordering ржжрж░ржХрж╛рж░
тЬЕ ржЧрждрж┐ ржХржо ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржг
тЬЕ ржирж┐рж░рзНржнрж░ржпрзЛржЧрзНржпрждрж╛ ржмрзЗрж╢рж┐ ржжрж░ржХрж╛рж░

ржЙржжрж╛рж╣рж░ржг:
- Web Browsing (HTTP/HTTPS)
- Email (SMTP, IMAP, POP3)
- File Download (FTP)
- Remote Login (SSH, Telnet)
- Database Connection
- WhatsApp Messages

UDP ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзБржи:
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
тЬЕ ржЧрждрж┐ ржЦрзБржм ржжрж░ржХрж╛рж░
тЬЕ рж╕рж╛ржорж╛ржирзНржп Loss рж╕рж╣рзНржп ржХрж░рж╛ ржпрж╛ржпрж╝
тЬЕ Real-time Communication
тЬЕ Broadcasting ржжрж░ржХрж╛рж░

ржЙржжрж╛рж╣рж░ржг:
- Live Video/Audio (YouTube Live)
- Online Gaming (PUBG, Free Fire)
- Voice Call (WhatsApp, Skype)
- DNS Queries
- DHCP
- Network Monitoring (SNMP)
- IoT Sensors
```

---

# рзм. Multiplexing & Demultiplexing

## ржХрж┐ ржПржЯрж╛?

```
Multiplexing = ржПржХрж╕рж╛ржерзЗ ржорж┐рж╢рж╛ржирзЛ
Demultiplexing = ржЖрж▓рж╛ржжрж╛ ржХрж░рж╛

ржпрзЗржоржи ржПржХржЯрж╛ Bus:
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
ржмрж┐ржнрж┐ржирзНржи ржЬрж╛ржпрж╝ржЧрж╛рж░ ржпрж╛рждрзНрж░рзА тЖТ  Bus  тЖТ ржЧржирзНрждржмрзНржпрзЗ ржирж╛ржорж╛ржирзЛ
  (Multiplexing)              (Demultiplexing)
```

---

## Network ржП:

```
Your PC ржП ржЕржирзЗржХ Application ржЪрж▓ржЫрзЗ:

тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ  Chrome (Port 54321)        тФВ YouTube
тФВ  Firefox (Port 54322)       тФВ Facebook
тФВ  Outlook (Port 54323)       тФВ Email
тФВ  Skype (Port 54324)         тФВ Call
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ
           тФВ
    Multiplexing
    (рж╕ржм ржПржХрж╕рж╛ржерзЗ)
           тФВ
           тЖУ
     тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
     тФВ  Network   тФВ
     тФВ  Layer     тФВ
     тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ
           тФВ
      (Internet)
           тФВ
           тЖУ
     тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
     тФВ  Network   тФВ
     тФВ  Layer     тФВ
     тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ
           тФВ
    Demultiplexing
    (ржЖрж▓рж╛ржжрж╛ ржХрж░рж╛)
           тФВ
           тЖУ
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ  Web Server (Port 443)      тФВ
тФВ  Mail Server (Port 25)      тФВ
тФВ  DNS Server (Port 53)       тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ
```

---

## ржмрж┐рж╕рзНрждрж╛рж░рж┐ржд Example:

```
Sender (Your PC):
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
Application 1: Chrome тЖТ YouTube
Data: "Video ржЪрж╛ржЗ!"
Transport Layer ржпрзЛржЧ ржХрж░рзЗ:
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ Source Port: 54321          тФВ
тФВ Dest Port: 443              тФВ
тФВ Data: "Video ржЪрж╛ржЗ!"          тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ

Application 2: Outlook тЖТ Email Server
Data: "Email ржкрж╛ржарж╛ржУ!"
Transport Layer ржпрзЛржЧ ржХрж░рзЗ:
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ Source Port: 54323          тФВ
тФВ Dest Port: 25               тФВ
тФВ Data: "Email ржкрж╛ржарж╛ржУ!"        тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ

ржжрзБржЯрзЛ ржПржХрж╕рж╛ржерзЗ Network Layer ржП ржпрж╛ржпрж╝!
(Multiplexing)

Receiver (Server):
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
Network Layer ржерзЗржХрзЗ ржЖрж╕ржЫрзЗ:

Packet 1:
Dest Port: 443 тЖТ Web Server ржП ржжрж╛ржУ!

Packet 2:
Dest Port: 25 тЖТ Mail Server ржП ржжрж╛ржУ!

(Demultiplexing)
```

---

# рзн. Flow Control - ржмрж┐рж╕рзНрждрж╛рж░рж┐ржд

## рж╕ржорж╕рзНржпрж╛:

```
Sender ржЦрзБржм ржжрзНрж░рзБржд тЖТтЖТтЖТтЖТтЖТтЖТ Receiver ржзрзАрж░

Receiver ржПрж░ Buffer:
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ тЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИ   тФВ тЖР ржкрзНрж░рж╛ржпрж╝ Full!
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ

ржЖрж░рзЛ Data ржЖрж╕ржЫрзЗ:
тЦИтЦИтЦИтЦИ тЦИтЦИтЦИтЦИ тЦИтЦИтЦИтЦИ

ржХрж┐ржирзНрждрзБ ржЬрж╛ржпрж╝ржЧрж╛ ржирзЗржЗ!
Data Drop рж╣ржмрзЗ! тЭМ
```

---

## рж╕ржорж╛ржзрж╛ржи - Sliding Window:

```
Step 1: рж╢рзБрж░рзБрждрзЗ
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
Receiver Buffer: 4000 bytes ржЦрж╛рж▓рж┐

Receiver тЖТ Sender:
"Window Size = 4000"

Sender ржкрж╛ржарж╛ржпрж╝:
тФМтФАтФАтФАтФмтФАтФАтФАтФмтФАтФАтФАтФмтФАтФАтФАтФР
тФВ1000тФВ1000тФВ1000тФВ1000тФВ = 4000 bytes
тФФтФАтФАтФАтФ┤тФАтФАтФАтФ┤тФАтФАтФАтФ┤тФАтФАтФАтФШ

Step 2: ржХрж┐ржЫрзБ Process рж╣рж▓рзЛ
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
Receiver 2000 bytes Process ржХрж░рзЗржЫрзЗ
Buffer: 2000 bytes ржЦрж╛рж▓рж┐

Receiver тЖТ Sender:
"Window Size = 2000"

Sender ржкрж╛ржарж╛ржпрж╝:
тФМтФАтФАтФАтФмтФАтФАтФАтФР
тФВ1000тФВ1000тФВ = 2000 bytes
тФФтФАтФАтФАтФ┤тФАтФАтФАтФШ

Step 3: Buffer Full!
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
Receiver ржмрзНржпрж╕рзНржд!
Buffer: 0 bytes ржЦрж╛рж▓рж┐

Receiver тЖТ Sender:
"Window Size = 0"
"ржкрж╛ржарж╛ржмрзЗ ржирж╛!"

Sender ржЕржкрзЗржХрзНрж╖рж╛ ржХрж░рзЗ... тП│

Step 4: ржЖржмрж╛рж░ ржЦрж╛рж▓рж┐
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
Receiver рж╕ржм Process ржХрж░рзЗржЫрзЗ
Buffer: 4000 bytes ржЦрж╛рж▓рж┐

Receiver тЖТ Sender:
"Window Size = 4000"
"ржЖржмрж╛рж░ ржкрж╛ржарж╛ржУ!"

Sender ржЖржмрж╛рж░ рж╢рзБрж░рзБ! тЬЕ
```

---

# рзо. Error Detection - ржмрж┐рж╕рзНрждрж╛рж░рж┐ржд

## Checksum ржХрж┐?

```
Checksum = ржПржХржЯрж╛ рж╕ржВржЦрзНржпрж╛ ржпрж╛ Data рж╕ржарж┐ржХ ржХрж┐ржирж╛ ржмрж▓рзЗ

ржпрзЗржоржи:
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
ржЖржкржирж┐ ржмрж╛ржЬрж╛рж░ ржХрж░рж▓рзЗржи:

ржЪрж╛рж▓: 50 ржЯрж╛ржХрж╛
ржбрж╛рж▓: 30 ржЯрж╛ржХрж╛
рждрзЗрж▓: 40 ржЯрж╛ржХрж╛
тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФА
ржорзЛржЯ: 120 ржЯрж╛ржХрж╛ тЖР ржПржЯрж╛ Checksum!

ржмрж╛ржбрж╝рж┐рждрзЗ ржПрж╕рзЗ Check:
50 + 30 + 40 = 120 тЬЕ рж╕ржарж┐ржХ!

ржпржжрж┐ ржХрзЗржЙ ржаржХрж╛ржпрж╝:
50 + 30 + 30 = 110 тЭМ ржнрзБрж▓!
(40 ржПрж░ ржЬрж╛ржпрж╝ржЧрж╛ржпрж╝ 30!)
```

---

## TCP/UDP Checksum:

```
Data ржкрж╛ржарж╛ржирзЛрж░ ржЖржЧрзЗ:
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
Sender:
1. Data ржХрзЗ ржЫрзЛржЯ ржЫрзЛржЯ ржнрж╛ржЧ ржХрж░рзЗ
2. рж╕ржм ржпрзЛржЧ ржХрж░рзЗ
3. Complement ржХрж░рзЗ (ржЙрж▓рзНржЯрж╛)
4. Checksum рж╣рж┐рж╕рзЗржмрзЗ ржкрж╛ржарж╛ржпрж╝

Example:
Data: 0110 0101 1100 1010

ржпрзЛржЧ ржХрж░рж┐:
0110 0101
1100 1010
тФАтФАтФАтФАтФАтФАтФАтФАтФА
0010 1111

Complement (ржЙрж▓рзНржЯрж╛):
0010 1111 тЖТ 1101 0000

Checksum = 1101 0000

Data ржкрж╛ржУржпрж╝рж╛рж░ ржкрж░рзЗ:
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
Receiver:
1. Data ржпрзЛржЧ ржХрж░рзЗ
2. Checksum ржпрзЛржЧ ржХрж░рзЗ
3. Result = 1111 1111 рж╣рж▓рзЗ тЬЕ
   ржирж╛ рж╣рж▓рзЗ тЭМ Error!

ржпрзЛржЧ ржХрж░рж┐:
0110 0101
1100 1010
1101 0000 (Checksum)
тФАтФАтФАтФАтФАтФАтФАтФАтФА
1111 1111 тЬЕ рж╕ржарж┐ржХ!

ржпржжрж┐ ржнрзБрж▓ ржерж╛ржХрзЗ:
0110 0101
1100 0010 тЖР ржПржХржЯрж╛ bit ржкрж░рж┐ржмрж░рзНрждржи!
1101 0000
тФАтФАтФАтФАтФАтФАтФАтФАтФА
1111 0111 тЭМ ржнрзБрж▓!

Receiver Packet ржмрж╛рждрж┐рж▓ ржХрж░рзЗ!
```

---

# рзп. Real-Life Examples

## Example 1: Web Browsing (TCP)

```
ржЖржкржирж┐ google.com ржЦрзБрж▓ржЫрзЗржи:

Step 1: DNS Query (UDP)
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
Browser тЖТ DNS Server:
"google.com ржПрж░ IP?"

UDP Packet:
Source Port: 54321
Dest Port: 53
Data: "google.com?"

DNS Server тЖТ Browser:
"142.250.185.78"

Step 2: TCP Connection (3-Way)
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
Browser тЖТ Google:
SYN (SEQ=1000)

Google тЖТ Browser:
SYN-ACK (SEQ=5000, ACK=1001)

Browser тЖТ Google:
ACK (SEQ=1001, ACK=5001)

тЬЕ Connected!

Step 3: HTTP Request (TCP)
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
Browser тЖТ Google:
GET / HTTP/1.1
Host: google.com

Google тЖТ Browser:
HTTP/1.1 200 OK
<html>...</html>

Step 4: Connection Close
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
Browser тЖТ Google: FIN
Google тЖТ Browser: ACK
Google тЖТ Browser: FIN
Browser тЖТ Google: ACK

тЬЕ Done!
```

---

## Example 2: Video Call (UDP)

```
WhatsApp Video Call:

Caller                        Receiver
  тФВ                              тФВ
  тФВтФАтФАтФАтФА Voice Packet 1 (UDP) тФАтФАтЖТтФВ
  тФВтФАтФАтФАтФА Voice Packet 2 (UDP) тФАтФАтЖТтФВ
  тФВтФАтФАXтФАтФА Voice Packet 3 тФАтФАтФАтФАX   тФВ рж╣рж╛рж░рж┐ржпрж╝рзЗ ржЧрзЗрж▓!
  тФВтФАтФАтФАтФА Voice Packet 4 (UDP) тФАтФАтЖТтФВ
  тФВ                              тФВ

Receiver рж╢рзБржирж▓рзЛ:
Packet 1: "ржЖржорж┐..."
Packet 2: "рждрзЛ..."
Packet 3: (ржирзЗржЗ!) [рж╕рж╛ржорж╛ржирзНржп Noise]
Packet 4: "ржнрж╛рж▓рзЛ"

ржХржерж╛: "ржЖржорж┐ рждрзЛ ржнрж╛рж▓рзЛ" тЬЕ
(ржПржХржЯрзБ Break ржХрж┐ржирзНрждрзБ ржмрзЛржЭрж╛ ржпрж╛ржпрж╝!)

TCP рж╣рж▓рзЗ ржХрж┐ рж╣ржд?
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
Packet 3 рж╣рж╛рж░рж┐ржпрж╝рзЗ ржЧрзЗрж▓
Receiver: "Packet 3 ржЪрж╛ржЗ!"
Caller ржЖржмрж╛рж░ ржкрж╛ржарж╛ржпрж╝...
тП▒я╕П 500ms Delay!

рждрждржХрзНрж╖ржгрзЗ Packet 4, 5, 6 ржПрж╕рзЗ ржЧрзЗржЫрзЗ
ржХрж┐ржирзНрждрзБ ржЕржкрзЗржХрзНрж╖рж╛ ржХрж░ржЫрзЗ Packet 3 ржПрж░ ржЬржирзНржп!

Result: ржХржерж╛ ржЫрж┐ржирзНржиржнрж┐ржирзНржи! тЭМ
```

---

## Example 3: File Download (TCP)

```
5 MB File Download:

Browser тЖТ Server:
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
"file.zip ржЪрж╛ржЗ!"

Server тЖТ Browser:
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
File ржХрзЗ Segments ржП ржнрж╛ржЧ:

Segment 1: Bytes 0-1460
Segment 2: Bytes 1461-2920
Segment 3: Bytes 2921-4380
... (рж╣рж╛ржЬрж╛рж░ржЯрж╛ Segment)

ржкрж╛ржарж╛ржирзЛ рж╢рзБрж░рзБ:
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ SEQ=0, 1460 bytes   тФАтФАтФАтФАтЖТтФВ ACK=1461 тЬЕ
тФВ SEQ=1461, 1460 bytes тФАтФАтФАтЖТтФВ ACK=2921 тЬЕ
тФВ SEQ=2921, 1460 bytes тФАтФАX тФВ рж╣рж╛рж░рж┐ржпрж╝рзЗ ржЧрзЗрж▓!
тФВ SEQ=4381, 1460 bytes тФАтФАтФАтЖТтФВ ACK=2921 (ржЖржмрж╛рж░!)
тФВ SEQ=2921, 1460 bytes тФАтФАтФАтЖТтФВ ACK=4381 тЬЕ
тФВ ... (ржЪрж▓рждрзЗ ржерж╛ржХрзЗ)         тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ

рж╕ржм Segments ржкрзЗржпрж╝рзЗ:
тЬЕ File рж╕ржорзНржкрзВрж░рзНржг!
тЬЕ Corruption ржирзЗржЗ!
тЬЕ рж╕ржарж┐ржХ ржХрзНрж░ржорзЗ!

TCP ржПржЬржирзНржпржЗ ржжрж░ржХрж╛рж░!
UDP рж╣рж▓рзЗ File ржирж╖рзНржЯ рж╣ржд! тЭМ
```

---

# рззрзж. Troubleshooting

## Common Problems:

### Problem 1: Connection Timeout

```
Error: "Connection Timeout"

ржХрж╛рж░ржг:
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
1. Server ржмржирзНржз
2. Firewall Block ржХрж░ржЫрзЗ
3. Wrong IP/Port

Check ржХрж░рзБржи:
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
telnet 192.168.1.100 80

ржирж╛ ржкрзЗрж▓рзЗ:
- ping 192.168.1.100 (reachable?)
- netstat -an | find "80" (port ржЦрзЛрж▓рж╛?)
- Firewall check ржХрж░рзБржи
```

### Problem 2: Slow Connection

```
TCP Connection ржЦрзБржм ржзрзАрж░!

ржХрж╛рж░ржг:
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
1. Packet Loss ржмрзЗрж╢рж┐
2. Retransmission рж╣ржЪрзНржЫрзЗ
3. Window Size ржЫрзЛржЯ
4. Network Congestion

Check ржХрж░рзБржи:
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
Wireshark ржжрж┐ржпрж╝рзЗ:
- Retransmission ржжрзЗржЦрзБржи
- Window Size ржжрзЗржЦрзБржи
- RTT (Round Trip Time) ржорж╛ржкрзБржи
```

### Problem 3: UDP Packet Loss

```
Voice Call ржП Audio ржЫрж┐ржирзНржиржнрж┐ржирзНржи!

ржХрж╛рж░ржг:
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
1. Wi-Fi Signal ржжрзБрж░рзНржмрж▓
2. Network Congested
3. Router Overloaded

рж╕ржорж╛ржзрж╛ржи:
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
- Wired Connection ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзБржи
- QoS Enable ржХрж░рзБржи
- 5GHz Wi-Fi ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзБржи
```

---

# рззрзз. Important Commands

```
Windows:
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
netstat -an
  - рж╕ржм Active Connections
  
netstat -ano | findstr :80
  - Port 80 ржП ржХрж┐ ржЪрж▓ржЫрзЗ?
  
netstat -p tcp
  - рж╢рзБржзрзБ TCP Connections

telnet google.com 80
  - Port Test ржХрж░рзБржи

tcpview (Tool)
  - GUI рждрзЗ рж╕ржм ржжрзЗржЦрзБржи

Linux:
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
netstat -tupln
  - рж╕ржм Listening Ports

ss -tupln
  - Modern netstat

lsof -i :80
  - Port 80 ржП ржХрзЛржи Process?

tcpdump -i eth0 port 80
  - Packet Capture

Wireshark:
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
tcp.port == 443
  - HTTPS Traffic ржлрж┐рж▓рзНржЯрж╛рж░

udp.port == 53
  - DNS Traffic ржлрж┐рж▓рзНржЯрж╛рж░

tcp.flags.syn == 1 and tcp.flags.ack == 0
  - SYN Packets ржЦрзБржБржЬрзБржи
```

---

# рж╕рж╛рж░рж╕ржВржХрзНрж╖рзЗржк

```
тЬЕ Transport Layer = Layer 4
тЬЕ ржжрзБржЯрзЛ ржкрзНрж░ржзрж╛ржи Protocol: TCP ржПржмржВ UDP

TCP:
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
тЬЕ Reliable, Ordered, Connection-oriented
тЭМ Slow, High Overhead
ЁЯУМ ржмрзНржпржмрж╣рж╛рж░: Web, Email, File Transfer

UDP:
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
тЬЕ Fast, Simple, Low Overhead
тЭМ Unreliable, No Ordering
ЁЯУМ ржмрзНржпржмрж╣рж╛рж░: Streaming, Gaming, DNS

Port Numbers:
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
- 0-1023: Well-Known
- 1024-49151: Registered
- 49152-65535: Dynamic

Key Concepts:
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
- 3-Way Handshake (TCP)
- Flow Control (Window Size)
- Congestion Control (Slow Start)
- Error Detection (Checksum)
- Multiplexing/Demultiplexing
```

---

ржЖрж░рзЛ ржХрж┐ржЫрзБ ржЬрж╛ржирждрзЗ ржЪрж╛ржи? ЁЯШК
- **Socket Programming**
- **Protocol Analysis with Wireshark**
- **Network Performance Tuning**
- **Advanced TCP Algorithms**

ржмрж▓рзБржи, ржЖрж░рзЛ ржмрж┐рж╕рзНрждрж╛рж░рж┐ржд ржжрж┐ржм!
